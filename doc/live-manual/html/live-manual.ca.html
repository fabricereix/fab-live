<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>
    Manual de Live Systems
  </title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="dc.title" content="Manual de Live Systems" />
  <meta name="dc.author" content="Projecte Live Systems &#60;debian-live@lists.debian.org&#62;" />
  <meta name="dc.publisher" content="Projecte Live Systems &#60;debian-live@lists.debian.org&#62;" />
  <meta name="dc.date" content="22.09.2015"  />
  <meta name="dc.rights" content="Copyright: Copyright (C) 2006-2015 Live Systems Project \\ License: Aquest programa &#233;s un programari lliure: es pot redistribuir i/o modificar sota els termes de la Llic&#232;ncia P&#251;blica General de la GNU com &#233;s publicada per la Free Software Foundation, ja sigui la versi&#243; 3 de la Llic&#232;ncia, o (si ho preferiu) qualsevol versi&#243; posterior. \\  \\ Aquest programa es distribueix amb l'esperan&#231;a que sigui &#251;til, per&#242; sense cap garantia, fins i tot sense la garantia impl&#237;cita de COMERCIALITZACI&#211; o ADEQUACI&#211; PER A PROP&#210;SITS DETERMINATS. Vegeu la Llic&#232;ncia General P&#251;blica de la GNU per a m&#233;s detalls. \\  \\ Haurieu de rebre una c&#242;pia de la Llic&#232;ncia P&#251;blica General de la GNU amb aquest programa. Si no &#233;s aix&#237;, consulteu http://www.gnu.org/licenses/. \\  \\ El text complet de la Llic&#232;ncia P&#251;blica General de la GNU es pot trobar a /usr/share/common-licenses/GPL-3." />

  <meta name="generator" content="SiSU 7.1.8 of 2016w08/5 (2016-02-26) (n*x and Ruby!)" />
    <link rel="generator" href="http://www.sisudoc.org/" />
  <link rel="shortcut icon" href="../_sisu/image/rb7.ico" />

  <link href="../_sisu/css/html.css" rel="stylesheet">  <link href="../../_sisu/css/html.css" rel="stylesheet">
</head>
<body lang="ca">
<a name="top" id="top"></a>

<table summary="table of contents scroll navigation band" id="toc" width="100%" bgcolor="#ffffff">
<tr><td width="20%">
   <table summary="home button / home information" border="0" cellpadding="3" cellspacing="0">
 <tr><td align="left" bgcolor="#ffffff">
  <p class="tiny_left"><a href="http://debian-live.alioth.debian.org/manual" target="_top">
    Live manual
  </a></p>
  <p class="tiny_left"><a href="http://debian-live.alioth.debian.org" target="_top">
    Live Systems
  </a></p>
 </td></tr>
 </table>
</td>
<td width="75%" align="center">
  
<table summary="segment navigation available documents types: toc,doc,pdf,concordance" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  
  
</tr></table>
</td>
<td width="20%">
  &nbsp;
</td></tr>
</table>
<p>

<table summary="scroll instrument cover band" width="100%" border="0" cellpadding="8" align="center">
<tr><td align="center">

<p class="centerbold">Manual de Live Systems
</p>

<p class="centerbold">Projecte Live Systems &lt;debian-live@lists.debian.org&gt;
</p>

</td></tr>
</table>

<p class="small_left">Rights: Copyright: Copyright (C) 2006-2015 Live Systems Project <br> License: Aquest programa és un programari lliure: es pot redistribuir i/o modificar sota els termes de la Llicència Pública General de la GNU com és publicada per la Free Software Foundation, ja sigui la versió 3 de la Llicència, o (si ho preferiu) qualsevol versió posterior. <br>  <br> Aquest programa es distribueix amb l'esperança que sigui útil, però sense cap garantia, fins i tot sense la garantia implícita de COMERCIALITZACIÓ o ADEQUACIÓ PER A PROPÒSITS DETERMINATS. Vegeu la Llicència General Pública de la GNU per a més detalls. <br>  <br> Haurieu de rebre una còpia de la Llicència Pública General de la GNU amb aquest programa. Si no és així, consulteu http://www.gnu.org/licenses/. <br>  <br> El text complet de la Llicència Pública General de la GNU es pot trobar a /usr/share/common-licenses/GPL-3.</p>
<p>

<br>

<h1 class="toc">
    <b><a href="#1">Manual de Live Systems</a></b>
  </h1>

<br>

<h1 class="toc">
    <b><a href="#2">Sobre aquest manual</a></b>
  </h1>

<br>

<h1 class="toc">
    <b><a href="#3">Sobre aquest manual</a></b>
  </h1>

<h4 class="toc">
    <a href="#4">1. Sobre aquest manual</a>
  </h4>

<h5 class="toc">
    <a href="#8">1.1 Per als impacients</a>
  </h5>

<h5 class="toc">
    <a href="#12">1.2 Termes</a>
  </h5>

<h5 class="toc">
    <a href="#29">1.3 Autors</a>
  </h5>

<h5 class="toc">
    <a href="#44">1.4 Contribuir a aquest document</a>
  </h5>

<h6 class="toc">
    <a href="#46">1.4.1 Aplicar canvis</a>
  </h6>

<h6 class="toc">
    <a href="#60">1.4.2 Traducció</a>
  </h6>

<br>

<h1 class="toc">
    <b><a href="#73">Sobre el Live Systems Project</a></b>
  </h1>

<h4 class="toc">
    <a href="#74">2. Sobre el Live Systems Project</a>
  </h4>

<h5 class="toc">
    <a href="#75">2.1 Motivació</a>
  </h5>

<h6 class="toc">
    <a href="#76">2.1.1 Què passa amb els sistemes vius actuals</a>
  </h6>

<h6 class="toc">
    <a href="#86">2.1.2 Per què crear el nostre pròpi sistema viu?</a>
  </h6>

<h5 class="toc">
    <a href="#94">2.2 Filosofia</a>
  </h5>

<h6 class="toc">
    <a href="#95">2.2.1 Només paquets Debian sense modificacions de la secció "main"</a>
  </h6>

<h6 class="toc">
    <a href="#99">2.2.2 Paquets del sistema viu sense cap configuració</a>
  </h6>

<h5 class="toc">
    <a href="#103">2.3 Contacte</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#107">Usuari</a></b>
  </h1>

<br>

<h1 class="toc">
    <b><a href="#108">Instal·lació</a></b>
  </h1>

<h4 class="toc">
    <a href="#109">3. Instal·lació</a>
  </h4>

<h5 class="toc">
    <a href="#110">3.1 Requisits</a>
  </h5>

<h5 class="toc">
    <a href="#118">3.2 Instal·lació de live-build</a>
  </h5>

<h6 class="toc">
    <a href="#124">3.2.1 Des del repositori de Debian</a>
  </h6>

<h6 class="toc">
    <a href="#127">3.2.2 A partir del codi font</a>
  </h6>

<h6 class="toc">
    <a href="#138">3.2.3 A partir d'instantànies</a>
  </h6>

<h5 class="toc">
    <a href="#140">3.3 Instal.lació de live-boot i live-config</a>
  </h5>

<h6 class="toc">
    <a href="#142">3.3.1 Des del repositori de Debian</a>
  </h6>

<h6 class="toc">
    <a href="#144">3.3.2 A partir del codi font</a>
  </h6>

<h6 class="toc">
    <a href="#156">3.3.3 A partir d'instantànies</a>
  </h6>

<br>

<h1 class="toc">
    <b><a href="#158">Conceptes bàsics</a></b>
  </h1>

<h4 class="toc">
    <a href="#159">4. Conceptes bàsics</a>
  </h4>

<h5 class="toc">
    <a href="#163">4.1 Què és un sistema viu?</a>
  </h5>

<h5 class="toc">
    <a href="#171">4.2 Descàrrega d'imatges prefabricades</a>
  </h5>

<h5 class="toc">
    <a href="#173">4.3 Ús del servei de construcció d'imatges en viu web</a>
  </h5>

<h6 class="toc">
    <a href="#175">4.3.1 Ús i advertències sobre el servei web</a>
  </h6>

<h5 class="toc">
    <a href="#179">4.4 Primers passos: construcció d'una imatge ISO híbrida</a>
  </h5>

<h5 class="toc">
    <a href="#190">4.5 Usar una imatge ISO híbrida en viu</a>
  </h5>

<h6 class="toc">
    <a href="#192">4.5.1 Gravar una imatge ISO en un medi físic</a>
  </h6>

<h6 class="toc">
    <a href="#195">4.5.2 Copiar una imatge ISO híbrida en un dispositiu  USB</a>
  </h6>

<h6 class="toc">
    <a href="#200">4.5.3 Utilitzar l'espai lliure en una memòria USB</a>
  </h6>

<h6 class="toc">
    <a href="#207">4.5.4 Arrencar el medi en viu</a>
  </h6>

<h5 class="toc">
    <a href="#211">4.6 Utilitzar una màquina virtual per a fer proves</a>
  </h5>

<h6 class="toc">
    <a href="#218">4.6.1 Provar una imatge ISO amb QEMU</a>
  </h6>

<h6 class="toc">
    <a href="#225">4.6.2 Provar una imatge ISO amb VirtualBox</a>
  </h6>

<h5 class="toc">
    <a href="#233">4.7 Construir i utilitzar una imatge HDD</a>
  </h5>

<h5 class="toc">
    <a href="#245">4.8 Construir una imatge netboot</a>
  </h5>

<h6 class="toc">
    <a href="#258">4.8.1 Servidor DHCP</a>
  </h6>

<h6 class="toc">
    <a href="#262">4.8.2 Servidor TFTP</a>
  </h6>

<h6 class="toc">
    <a href="#267">4.8.3 Servidor NFS</a>
  </h6>

<h6 class="toc">
    <a href="#275">4.8.4 Com provar l'arrencada en xarxa</a>
  </h6>

<h6 class="toc">
    <a href="#278">4.8.5 Qemu</a>
  </h6>

<h5 class="toc">
    <a href="#284">4.9 Webbooting</a>
  </h5>

<h6 class="toc">
    <a href="#286">4.9.1 Obtenir els fitxers webboot</a>
  </h6>

<h6 class="toc">
    <a href="#292">4.9.2 Arrencar imatges webboot</a>
  </h6>

<br>

<h1 class="toc">
    <b><a href="#297">Descripció general de les eines</a></b>
  </h1>

<h4 class="toc">
    <a href="#298">5. Descripció general de les eines</a>
  </h4>

<h5 class="toc">
    <a href="#300">5.1 El paquet live-build</a>
  </h5>

<h6 class="toc">
    <a href="#310">5.1.1 L'ordre <tt>lb config</tt></a>
  </h6>

<h6 class="toc">
    <a href="#320">5.1.2 L'ordre <tt>lb build</tt></a>
  </h6>

<h6 class="toc">
    <a href="#322">5.1.3 L'ordre <tt>lb clean</tt></a>
  </h6>

<h5 class="toc">
    <a href="#324">5.2 El paquet live-boot</a>
  </h5>

<h5 class="toc">
    <a href="#328">5.3 El paquet live-config</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#330">Gestió d'una configuració</a></b>
  </h1>

<h4 class="toc">
    <a href="#331">6. Gestió d'una configuració</a>
  </h4>

<h5 class="toc">
    <a href="#333">6.1 Gestionar canvis en la configuració</a>
  </h5>

<h6 class="toc">
    <a href="#335">6.1.1 Per què utilitzar scripts auto? Què fan?</a>
  </h6>

<h6 class="toc">
    <a href="#338">6.1.2 Utilitzar scripts auto d'exemple</a>
  </h6>

<h5 class="toc">
    <a href="#345">6.2 Clonar una configuració publicada via Git</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#356">Personalització dels continguts</a></b>
  </h1>

<h4 class="toc">
    <a href="#357">7. Visió general de la personalització</a>
  </h4>

<h5 class="toc">
    <a href="#359">7.1 Configuració durant la construcció vs. durant l'arrencada</a>
  </h5>

<h5 class="toc">
    <a href="#362">7.2 Etapes de la construcció</a>
  </h5>

<h5 class="toc">
    <a href="#365">7.3 Suplementar lb config amb fitxers</a>
  </h5>

<h5 class="toc">
    <a href="#367">7.4 Tasques de personalització</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#369">Personalització de la instal·lació de paquets</a></b>
  </h1>

<h4 class="toc">
    <a href="#370">8. Personalització de la instal·lació de  paquets</a>
  </h4>

<h5 class="toc">
    <a href="#372">8.1 Fonts dels paquets</a>
  </h5>

<h6 class="toc">
    <a href="#373">8.1.1 Distribució, àrees d'arxiu i mode</a>
  </h6>

<h6 class="toc">
    <a href="#380">8.1.2 Miralls de distribució</a>
  </h6>

<h6 class="toc">
    <a href="#382">8.1.3 Miralls de distribució utilitzats en temps  de construcció</a>
  </h6>

<h6 class="toc">
    <a href="#386">8.1.4 Miralls de distribució utilitzats en temps d'execució</a>
  </h6>

<h6 class="toc">
    <a href="#389">8.1.5 Repositoris addicionals</a>
  </h6>

<h5 class="toc">
    <a href="#397">8.2 Selecció dels paquets a instal·lar</a>
  </h5>

<h6 class="toc">
    <a href="#399">8.2.1 Llistes de paquets</a>
  </h6>

<h6 class="toc">
    <a href="#402">8.2.2 Ús dels metapaquets</a>
  </h6>

<h6 class="toc">
    <a href="#410">8.2.3 Llistes locals de paquets</a>
  </h6>

<h6 class="toc">
    <a href="#414">8.2.4 Llistes locals de paquets per a l'etapa binary</a>
  </h6>

<h6 class="toc">
    <a href="#416">8.2.5 Generar llistes de paquets</a>
  </h6>

<h6 class="toc">
    <a href="#420">8.2.6 Ús de condicionals dins de les llistes de paquets</a>
  </h6>

<h6 class="toc">
    <a href="#429">8.2.7 Eliminar paquets durant la instal·lació</a>
  </h6>

<h6 class="toc">
    <a href="#431">8.2.8 Tasques d'escriptori i llenguatge</a>
  </h6>

<h6 class="toc">
    <a href="#436">8.2.9 Tipus i versió del nucli</a>
  </h6>

<h6 class="toc">
    <a href="#441">8.2.10 Nuclis personalitzats</a>
  </h6>

<h5 class="toc">
    <a href="#449">8.3 Instal·lació de paquets  modificats o de tercers</a>
  </h5>

<h6 class="toc">
    <a href="#456">8.3.1 Fer servir <tt>packages.chroot</tt> per a instaŀar paquets personalitzats</a>
  </h6>

<h6 class="toc">
    <a href="#463">8.3.2 Fer servir un repositori APT per a instal·lar paquets personalitzats</a>
  </h6>

<h6 class="toc">
    <a href="#466">8.3.3 Paquets personalitzats i APT</a>
  </h6>

<h5 class="toc">
    <a href="#469">8.4 Configurar APT en temps de construcció</a>
  </h5>

<h6 class="toc">
    <a href="#471">8.4.1 Elegir apt o aptitude</a>
  </h6>

<h6 class="toc">
    <a href="#475">8.4.2 L'ús d'un proxy amb APT</a>
  </h6>

<h6 class="toc">
    <a href="#478">8.4.3 Afinar APT per a estalviar espai</a>
  </h6>

<h6 class="toc">
    <a href="#487">8.4.4 Passar opcions per a apt o aptitude</a>
  </h6>

<h6 class="toc">
    <a href="#492">8.4.5 APT pinning</a>
  </h6>

<br>

<h1 class="toc">
    <b><a href="#498">Personalització dels continguts</a></b>
  </h1>

<h4 class="toc">
    <a href="#499">9. Personalització dels continguts</a>
  </h4>

<h5 class="toc">
    <a href="#501">9.1 Includes</a>
  </h5>

<h6 class="toc">
    <a href="#506">9.1.1 Live/chroot local includes</a>
  </h6>

<h6 class="toc">
    <a href="#513">9.1.2 Binary local includes</a>
  </h6>

<h5 class="toc">
    <a href="#517">9.2 Scripts ganxo (Hooks)</a>
  </h5>

<h6 class="toc">
    <a href="#520">9.2.1 Chroot local hooks</a>
  </h6>

<h6 class="toc">
    <a href="#522">9.2.2 Binary local hooks</a>
  </h6>

<h6 class="toc">
    <a href="#524">9.2.3 Scripts ganxo en temps d'arrencada</a>
  </h6>

<h5 class="toc">
    <a href="#526">9.3 Preconfiguració de les preguntes de Debconf</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#529">Personalització dels comportaments en temps d'execució</a></b>
  </h1>

<h4 class="toc">
    <a href="#530">10. Personalització dels comportaments en  temps d'execució</a>
  </h4>

<h5 class="toc">
    <a href="#532">10.1 Personalitzar l'usuari en viu</a>
  </h5>

<h5 class="toc">
    <a href="#541">10.2 Personalització de l'entorn local i el  llenguatge</a>
  </h5>

<h5 class="toc">
    <a href="#558">10.3 Persistència</a>
  </h5>

<h6 class="toc">
    <a href="#580">10.3.1 El fitxer persistence.conf</a>
  </h6>

<h6 class="toc">
    <a href="#585">10.3.2 Utilitzar diversos medis persistents</a>
  </h6>

<h6 class="toc">
    <a href="#591">10.3.3 Persistència amb xifratge</a>
  </h6>

<br>

<h1 class="toc">
    <b><a href="#617">Personalització de la imatge binària</a></b>
  </h1>

<h4 class="toc">
    <a href="#618">11. Personalització de la imatge binària</a>
  </h4>

<h5 class="toc">
    <a href="#619">11.1 Carregadors d'arrencada</a>
  </h5>

<h5 class="toc">
    <a href="#626">11.2 metadades ISO</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#632">Personalització de l'instal·lador de debian</a></b>
  </h1>

<h4 class="toc">
    <a href="#633">12. Personalització de l'instal·lador de debian</a>
  </h4>

<h5 class="toc">
    <a href="#636">12.1 Tipus d'instal·lador de Debian</a>
  </h5>

<h5 class="toc">
    <a href="#648">12.2 Personalització de l'instal·lador de Debian amb preconfiguració</a>
  </h5>

<h5 class="toc">
    <a href="#651">12.3 Personalitzar el contingut de l'instal·lador de Debian</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#653">Projecte</a></b>
  </h1>

<br>

<h1 class="toc">
    <b><a href="#654">Contribuir al projecte</a></b>
  </h1>

<h4 class="toc">
    <a href="#655">13. Contribuir al projecte</a>
  </h4>

<h5 class="toc">
    <a href="#667">13.1 Fer canvis</a>
  </h5>

<h5 class="toc">
    <a href="#682">13.2 Traducció de pàgines dels manuals</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#691">Informar dels errors</a></b>
  </h1>

<h4 class="toc">
    <a href="#692">14. Informar dels errors</a>
  </h4>

<h5 class="toc">
    <a href="#698">14.1 Problemes coneguts</a>
  </h5>

<h5 class="toc">
    <a href="#703">14.2 Reconstruir des de zero</a>
  </h5>

<h5 class="toc">
    <a href="#705">14.3 Fer servir paquets actualitzats</a>
  </h5>

<h5 class="toc">
    <a href="#707">14.4 Recopilar informació</a>
  </h5>

<h5 class="toc">
    <a href="#724">14.5 Aïllar el cas que falla, si és possible</a>
  </h5>

<h5 class="toc">
    <a href="#726">14.6 Utilitzar el paquet correcte per a informar de l'error</a>
  </h5>

<h6 class="toc">
    <a href="#729">14.6.1 A l'hora de construir mentre bootstrapping</a>
  </h6>

<h6 class="toc">
    <a href="#732">14.6.2 A l'hora de construir, durant la instal·lació de paquets</a>
  </h6>

<h6 class="toc">
    <a href="#736">14.6.3 En el moment d'arrencar</a>
  </h6>

<h6 class="toc">
    <a href="#738">14.6.4 En temps d'execució</a>
  </h6>

<h5 class="toc">
    <a href="#740">14.7 Fer la recerca</a>
  </h5>

<h5 class="toc">
    <a href="#744">14.8 On informar dels errors</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#748">Estil de Codi</a></b>
  </h1>

<h4 class="toc">
    <a href="#749">15. Estil de Codi</a>
  </h4>

<h5 class="toc">
    <a href="#751">15.1 Compatibilitat</a>
  </h5>

<h5 class="toc">
    <a href="#756">15.2 Indentació</a>
  </h5>

<h5 class="toc">
    <a href="#758">15.3 Ajust de línia</a>
  </h5>

<h5 class="toc">
    <a href="#770">15.4 Variables</a>
  </h5>

<h5 class="toc">
    <a href="#789">15.5 Miscel·lània</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#794">Procediments</a></b>
  </h1>

<h4 class="toc">
    <a href="#795">16. Procediments</a>
  </h4>

<h5 class="toc">
    <a href="#797">16.1 Publicacions majors</a>
  </h5>

<h5 class="toc">
    <a href="#803">16.2 Publicacions puntuals</a>
  </h5>

<h6 class="toc">
    <a href="#807">16.2.1 Ùltima publicació puntual d'una versió de Debian</a>
  </h6>

<h6 class="toc">
    <a href="#809">16.2.2 Plantilla per a anunciar una publicació puntual</a>
  </h6>

<br>

<h1 class="toc">
    <b><a href="#814">Repositoris Git</a></b>
  </h1>

<h4 class="toc">
    <a href="#815">17. Repositoris Git</a>
  </h4>

<h5 class="toc">
    <a href="#829">17.1 Gestió de múltiples repositoris</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#833">Exemples</a></b>
  </h1>

<br>

<h1 class="toc">
    <b><a href="#834">Exemples</a></b>
  </h1>

<h4 class="toc">
    <a href="#835">18. Exemples</a>
  </h4>

<h5 class="toc">
    <a href="#837">18.1 Ús dels exemples</a>
  </h5>

<h5 class="toc">
    <a href="#841">18.2 Tutorial 1: Una imatge per defecte</a>
  </h5>

<h5 class="toc">
    <a href="#850">18.3 Tutorial 2: Una utilitat de navegador web</a>
  </h5>

<h5 class="toc">
    <a href="#858">18.4 Tutorial 3: Una imatge personalitzada</a>
  </h5>

<h6 class="toc">
    <a href="#861">18.4.1 Primera revisió</a>
  </h6>

<h6 class="toc">
    <a href="#875">18.4.2 Segona revisió</a>
  </h6>

<h5 class="toc">
    <a href="#887">18.5 Un client per a un quiosc VNC</a>
  </h5>

<h5 class="toc">
    <a href="#901">18.6 Una imatge bàsica per a un dispositiu USB de 128MB</a>
  </h5>

<h5 class="toc">
    <a href="#912">18.7 Un escriptori GNOME localitzat i amb instal·lador</a>
  </h5>

<br>

<h1 class="toc">
    <b><a href="#924">Apèndix</a></b>
  </h1>

<br>

<h1 class="toc">
    <b><a href="#925">Style guide</a></b>
  </h1>

<h4 class="toc">
    <a href="#926">19. Guia d'estil</a>
  </h4>

<h5 class="toc">
    <a href="#927">19.1 Instruccions per als autors</a>
  </h5>

<h6 class="toc">
    <a href="#930">19.1.1 Característiques lingüístiques</a>
  </h6>

<h6 class="toc">
    <a href="#963">19.1.2 Procediments</a>
  </h6>

<h5 class="toc">
    <a href="#1002">19.2 Directrius per als traductors</a>
  </h5>

<h6 class="toc">
    <a href="#1006">19.2.1 Consells de traducció</a>
  </h6>

<br>

<div class="scroll">

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#1" class="lnkocn">1</a></label>
  <h1 class="norm" id="1"><a name="1"></a>
    Manual de Live Systems
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#2" class="lnkocn">2</a></label>
  <h1 class="norm" id="2"><a name="2"></a>
    Sobre aquest manual
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#3" class="lnkocn">3</a></label>
  <h1 class="norm" id="3"><a name="3"></a>
    Sobre aquest manual
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#4" class="lnkocn">4</a></label>
  <h4 class="norm" id="4"><a name="4"></a>
    <a name="h1" ></a><a name="sobre_aquest_manual" ></a><a name="about-manual" ></a>1. Sobre aquest manual
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#5" class="lnkocn">5</a></label>
  <p class="i0" id="5">
    Aquest manual serveix com a punt d'accés únic a tota la documentació relacionada amb el Live Systems Project i en particular s'aplica al programari produït pel projecte per a la versió Debian 9.0 "<b>stretch</b>". Una versió actualitzada es pot trobar sempre a ‹<a href="http://debian-live.alioth.debian.org/" target="_top">http://debian-live.alioth.debian.org/</a>›
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#6" class="lnkocn">6</a></label>
  <p class="i0" id="6">
    Si bé <i>live-manual</i> es centra principalment en ajudar a construir un sistema viu i no en temes dels usuaris finals, un usuari final pot trobar informació útil en aquestes seccions:  <a href="#the-basics">Conceptes bàsics</a>  abasta la descàrrega d'imatges prefabricades i la preparació de les imatges per a ser arrencades des dels dispositius o la xarxa, ja sigui utilitzant el servei de construcció d'imatges web o executant <i>live-build</i> directament en el sistema.  <a href="#customizing-run-time-behaviours">Personalització dels comportaments en temps d'execució</a>  descriu algunes de les opcions que es poden especificar durant l'arrencada del sistema, com ara la selecció de la disposició del teclat, la configuració regional i l'ús de la persistència.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#7" class="lnkocn">7</a></label>
  <p class="i0" id="7">
    Algunes de les ordres esmentades en el text s'han d'executar amb privilegis de superusuari que es poden obtenir esdevenint l'usuari root amb <tt>su</tt> o mitjançant l'ús de <tt>sudo</tt>. Per a distingir entre les ordres que poden ser executades per un usuari sense privilegis i aquelles que requereixen privilegis de superusuari, s'anteposa <tt>$</tt> o <tt>#</tt> respectivament. Aquest símbol no és part de l'ordre.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#8" class="lnkocn">8</a></label>
  <h5 class="norm" id="8"><a name="8"></a>
    <a name="c1.1" ></a><a name="h1.1" ></a>1.1 Per als impacients
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#9" class="lnkocn">9</a></label>
  <p class="i0" id="9">
    Si bé creiem que tot el que hi ha en aquest manual és important, si més no, per a alguns dels nostres usuaris, ens adonem que hi ha una gran quantitat de material per a cobrir i que és possible que es vulgui experimentar l'èxit amb el programari aviat, abans d'aprofundir en els detalls. Per tant, us recomanem llegir en el següent ordre.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#10" class="lnkocn">10</a></label>
  <p class="i0" id="10">
    En primer lloc, llegir aquest capítol,  <a href="#about-manual">Sobre aquest manual</a>,  des del principi i acabant amb els  <a href="#terms">Termes</a>.  A continuació, saltar als tres tutorials abans dels  <a href="#examples">Exemples</a>,  secció pensada per a ensenyar com fer la construcció d'una imatge i alguns aspectes bàsics de la personalització. Llegir en primer lloc  <a href="#using-the-examples">Ús dels exemples</a>  seguit pel  <a href="#tutorial-1">Tutorial 1: Una imatge per defecte</a>,   <a href="#tutorial-2">Tutorial 2: Una utilitat de navegador web</a>  i finalment,  <a href="#tutorial-3">Tutorial 3: Una image personalitzada</a>.  Al final d'aquests tutorials, es tindrà una idea del que es pot fer amb els sistemes en viu.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#11" class="lnkocn">11</a></label>
  <p class="i0" id="11">
    Us animem a tornar i a fer un estudi del manual en profunditat, la propera lectura pot ser  <a href="#the-basics">Conceptes bàsics</a>,  fregant o saltant  <a href="#building-netboot-image">Construir una imatge netboot</a>,  i acabant amb la lectura de la  <a href="#customization-overview">Visió general de la personalització</a>  i els capítols que segueixen. En aquest punt, esperem que estigueu ben emocionats pel que es pot fer amb els sistemes en viu i motivats per llegir la resta del manual, de principi a fi.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#12" class="lnkocn">12</a></label>
  <h5 class="norm" id="12"><a name="12"></a>
    <a name="h1.2" ></a><a name="terms" ></a>1.2 Termes
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#13" class="lnkocn">13</a></label>
  <ul>
  <li class="bullet" id="13">
    <b>Sistema viu</b>: Un sistema operatiu que pot arrencar sense necessitat d'instal·lació en un disc dur. Els sistemes vius no alteren el sistema operatiu local(s) o els fitxer(s) ja instal·lats al disc dur de l'ordinador a menys que així se'ls ho indiqui. Els sistemes vius normalment s'inician des de dispositius, com ara CDs, DVDs o memòries USB. Alguns també poden arrencar des de la xarxa (amb les imatges netboot, veure  <a href="#building-netboot-image">Construir una imatge netboot</a>),  o mitjançant internet (amb el parametre <tt>fetch=URL</tt>, veure  <a href="#webbooting">Webbooting</a>).
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#14" class="lnkocn">14</a></label>
  <ul>
  <li class="bullet" id="14">
    <b>Medi en viu</b>: A diferència de sistema en viu, el medi en viu es refereix al CD, DVD o memòria USB on es copia el fitxer binari produït per <i>live-build</i> i utilitzat per a arrencar el sistema en viu. Més àmpliament, el terme també es refereix a qualsevol lloc on resideix el fitxer binari als efectes d'iniciar el sistema en viu, com ara la ubicació dels fitxers per a arrencar en xarxa.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#15" class="lnkocn">15</a></label>
  <ul>
  <li class="bullet" id="15">
    <b>Live Systems Project</b>: El projecte que manté, entre altres, els paquets <i>live-boot</i>, <i>live-build</i>, <i>live-config</i>, <i>live-tools</i> i <i>live-manual</i>.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#16" class="lnkocn">16</a></label>
  <ul>
  <li class="bullet" id="16">
    <b>Sistema amfitrió</b>: L'entorn utilitzat per a crear el sistema en viu.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#17" class="lnkocn">17</a></label>
  <ul>
  <li class="bullet" id="17">
    <b>Sistema objectiu</b>: L'entorn que s'utilitza per a executar el sistema en viu.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#18" class="lnkocn">18</a></label>
  <ul>
  <li class="bullet" id="18">
    <b><i>live-boot</i></b>: Una col·lecció de scripts per a arrencar els sistemes vius.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#19" class="lnkocn">19</a></label>
  <ul>
  <li class="bullet" id="19">
    <b><i>live-build</i></b>: Una col·lecció d'scripts utilitzats per a construir sistemes en viu personalitzats.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#20" class="lnkocn">20</a></label>
  <ul>
  <li class="bullet" id="20">
    <b><i>live-config</i></b>: Una col·lecció de scripts utilitzats per a configurar un sistema en viu durant el procés d'arrencada.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#21" class="lnkocn">21</a></label>
  <ul>
  <li class="bullet" id="21">
    <b><i>live-tools</i></b>: Una col·lecció d'scripts addicionals que s'utilitzen per a realitzar tasques útils en un sistema viu en execució.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#22" class="lnkocn">22</a></label>
  <ul>
  <li class="bullet" id="22">
    <b><i>live-manual</i></b>: Aquest document és mantingut en un paquet anomenat <i>live-manual</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#23" class="lnkocn">23</a></label>
  <ul>
  <li class="bullet" id="23">
    <b>Instal·lador de Debian (d-i)</b>: El sistema oficial d'instal·lació de la distribució Debian.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#24" class="lnkocn">24</a></label>
  <ul>
  <li class="bullet" id="24">
    <b>Paràmeters d'arrencada</b>: Els paràmetres que es poden introduir a l'indicador del carregador d'arrencada per a influir en el nucli o <i>live-config</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#25" class="lnkocn">25</a></label>
  <ul>
  <li class="bullet" id="25">
    <b>chroot</b>: El programa <i>chroot</i>, <tt>chroot(8)</tt>, ens permet executar diferentes instàncies d'un entorn GNU/Linux a la vegada en un sol sistema sense reiniciar.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#26" class="lnkocn">26</a></label>
  <ul>
  <li class="bullet" id="26">
    <b>Imatge binaria</b>: Un fitxer que conté el sistema en viu, com ara live-image-i386.hybrid.iso o live-image-i386.img.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#27" class="lnkocn">27</a></label>
  <ul>
  <li class="bullet" id="27">
    <b>Distribució objectiu</b>: La distribució en què es basa el sistema en viu. Que pot diferir de la distribució del sistema amfitrió.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#28" class="lnkocn">28</a></label>
  <ul>
  <li class="bullet" id="28">
    <b>stable/testing/unstable</b>: La distribució <b>stable</b>, actualment anomenada <b>stretch</b>, conté l'última distribució de Debian llençada oficialment. La distribució <b>testing</b>, temporalment anomenada <b>buster</b>, és l'àrea d'assaig per a la pròxima versió <b>stable</b>. Un avantatge important de l'ús d'aquesta distribució és que té versions més recents del programari en relació amb l'edició <b>stable</b>. La distribució <b>unstable</b>, permanentment anomenada <b>sid</b>, és on es produeix el desenvolupament actiu de Debian. En general, aquesta distribució és utilitzada pels desenvolupadors i els que els agrada viure en risc. Al llarg del manual, es tendeix a utilitzar els seus noms en clau, com ara <b>buster</b> o <b>sid</b>, ja que és el que fan servir les pròpies eines.
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#29" class="lnkocn">29</a></label>
  <h5 class="norm" id="29"><a name="29"></a>
    <a name="c1.3" ></a><a name="h1.3" ></a>1.3 Autors
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#30" class="lnkocn">30</a></label>
  <p class="i0" id="30">
    Llistat d'autors (en ordre alfabètic)
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#31" class="lnkocn">31</a></label>
  <ul>
  <li class="bullet" id="31">
    Ben Armstrong
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#32" class="lnkocn">32</a></label>
  <ul>
  <li class="bullet" id="32">
    Brendan Sleight
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#33" class="lnkocn">33</a></label>
  <ul>
  <li class="bullet" id="33">
    Carlos Zuferri
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#34" class="lnkocn">34</a></label>
  <ul>
  <li class="bullet" id="34">
    Chris Lamb
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#35" class="lnkocn">35</a></label>
  <ul>
  <li class="bullet" id="35">
    Daniel Baumann
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#36" class="lnkocn">36</a></label>
  <ul>
  <li class="bullet" id="36">
    Franklin Piat
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#37" class="lnkocn">37</a></label>
  <ul>
  <li class="bullet" id="37">
    Jonas Stein
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#38" class="lnkocn">38</a></label>
  <ul>
  <li class="bullet" id="38">
    Kai Hendry
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#39" class="lnkocn">39</a></label>
  <ul>
  <li class="bullet" id="39">
    Marco Amadori
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#40" class="lnkocn">40</a></label>
  <ul>
  <li class="bullet" id="40">
    Mathieu Geli
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#41" class="lnkocn">41</a></label>
  <ul>
  <li class="bullet" id="41">
    Matthias Kirschner
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#42" class="lnkocn">42</a></label>
  <ul>
  <li class="bullet" id="42">
    Richard Nelson
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#43" class="lnkocn">43</a></label>
  <ul>
  <li class="bullet" id="43">
    Trent W. Buck
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#44" class="lnkocn">44</a></label>
  <h5 class="norm" id="44"><a name="44"></a>
    <a name="h1.4" ></a><a name="how-to-contribute" ></a>1.4 Contribuir a aquest document
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#45" class="lnkocn">45</a></label>
  <p class="i0" id="45">
    Aquest manual està pensat com un projecte comunitari i totes les propostes per a millorar-lo i les contribucions són molt benvingudes. Veure la secció  <a href="#contributing-to-project">Contribuir al projecte</a>  per a obtenir informació detallada sobre com obtenir la clau i fer bons commits.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#46" class="lnkocn">46</a></label>
  <h6 class="norm" id="46"><a name="46"></a>
    <a name="h1.4.1" ></a><a name="applying-changes" ></a>1.4.1 Aplicar canvis
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#47" class="lnkocn">47</a></label>
  <p class="i0" id="47">
    Per tal de realitzar canvis en el manual anglès s'ha d'editar els fitxers adequats a <tt>manual/en/</tt> però abans de presentar una contribució, s'ha de previsualitzar el treball. Per a previsualitzar el <i>live-manual</i>, assegurar-se que s'han instal·lat els paquets necessaris per a la seva construcció mitjançant l'execució de:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#48" class="lnkocn">48</a></label>
  <p class="code" id="48">
    # apt-get install make po4a ruby ruby-nokogiri sisu-complete<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#49" class="lnkocn">49</a></label>
  <p class="i0" id="49">
    Es pot crear el <i>live-manual</i> des del directori de nivell superior del arbre Git mitjançant l'execució de:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#50" class="lnkocn">50</a></label>
  <p class="code" id="50">
    $ make build<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#51" class="lnkocn">51</a></label>
  <p class="i0" id="51">
    Tenint en compte que es necessita un cert temps per construir el manual en tots els idiomes suportats, els autors poden utilitzar un dels mètodes abreujats per fer revisions ràpides de la nova documentació que han afegit al manual en anglès. Amb <tt>PROOF=1</tt> es construeix <i>live-manual</i> en format html, però sense els fitxers html segmentats, i amb <tt>PROOF=2</tt> es construeix <i>live-manual</i> en format pdf, però només el retrat A4 i carta. És per això que amb l'ús de qualsevol de les possibilitats <tt>PROOF=</tt> es pot estalviar una quantitat considerable de temps, per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#52" class="lnkocn">52</a></label>
  <p class="code" id="52">
    $ make build PROOF=1<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#53" class="lnkocn">53</a></label>
  <p class="i0" id="53">
    Quan es revisa una de les traduccions, és possible construir un sol idioma mitjançant l'execució de, per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#54" class="lnkocn">54</a></label>
  <p class="code" id="54">
    $ make build LANGUAGES=de<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#55" class="lnkocn">55</a></label>
  <p class="i0" id="55">
    També es possible crear per tipus de document, per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#56" class="lnkocn">56</a></label>
  <p class="code" id="56">
    $ make build FORMATS=pdf<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#57" class="lnkocn">57</a></label>
  <p class="i0" id="57">
    O combinar tot dos, per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#58" class="lnkocn">58</a></label>
  <p class="code" id="58">
    $ make build LANGUAGES=de FORMATS=html<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#59" class="lnkocn">59</a></label>
  <p class="i0" id="59">
    Després de revisar el treball i assegurar-se que tot està bé, no fer un <tt>make commit</tt> a menys que s'actualitzin les traduccions al mateix temps, i en aquest cas, no barrejar els canvis al manual anglès i les traduccions en el mateix commit, fer-ne un altre separat per a cada canvi. Veure la secció  <a href="#translation">Traducció</a>  per a més detalls.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#60" class="lnkocn">60</a></label>
  <h6 class="norm" id="60"><a name="60"></a>
    <a name="h1.4.2" ></a><a name="translation" ></a>1.4.2 Traducció
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#61" class="lnkocn">61</a></label>
  <p class="i0" id="61">
    <b>Nota:</b>  Per traduir les pàgines dels manuals, veure  <a href="#translation-of-manpages">Traducció de pàgines dels manuals</a>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#62" class="lnkocn">62</a></label>
  <p class="i0" id="62">
    Per a traduir <i>live-manual</i>, seguir aquests passos, depenent de si s'està començant una traducció des de zero o si es segueix treballant en una ja existent:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#63" class="lnkocn">63</a></label>
  <ul>
  <li class="bullet" id="63">
    Començar una nova traducció des de zero
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#64" class="lnkocn">64</a></label>
  <ul>
  <li class="i2" id="64">
    Traduir els fitxers <b>about_manual.ssi.pot</b>, <b>about_project.ssi.pot</b> i <b>index.html.in.pot</b> de <tt>manual/pot/</tt> a la vostra llengua amb el vostre editor favorit (per exemple <i>poedit</i>) . Enviar els fitxers <tt>.po</tt> traduïts a la llista de correu per comprovar la seva integritat. La comprovació d'integritat de <i>live-manual</i> garanteix que els fitxers <tt>.po</tt> són traduïts al 100% però també detecta possibles errors.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#65" class="lnkocn">65</a></label>
  <ul>
  <li class="i2" id="65">
    Un cop comprovats, per a activar una nova llengua al autobuild, només cal afegir els fitxers inicials traduïts a <tt>manual/po/${LANGUAGE}/</tt> i executar <tt>make commit</tt>. I llavors editar <tt>manual/_sisu/home/index.html</tt> afegint el nom de la llengua i el seu nom en anglès entre parèntesis.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#66" class="lnkocn">66</a></label>
  <ul>
  <li class="bullet" id="66">
    Continuar amb una traducció ja començada
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#67" class="lnkocn">67</a></label>
  <ul>
  <li class="i2" id="67">
    Una vegada que s'ha afegit la nova llengua, es pot continuar traduint la resta de fitxers .po dins de <tt>manual/po/${LANGUAGE}/</tt> a l'atzar amb l'editor favorit (com per exemple <i>poedit</i>) .
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#68" class="lnkocn">68</a></label>
  <ul>
  <li class="i2" id="68">
    No oblidar que es necessari fer un <tt>make commit</tt> per a garantir que els manuals traduïts s'actualitzin a partir dels fitxers .po i llavors es poden revisar els canvis executant <tt>make build</tt> abans de <tt>git add .</tt>, <tt>git commit -m "Translating..."</tt> i <tt>git push</tt>. Recordar que <tt>make build</tt> pot trigar una quantitat considerable de temps, però es poden revisar els idiomes de forma individual com s'explica a la secció  <a href="#applying-changes">Aplicar canvis</a>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#69" class="lnkocn">69</a></label>
  <p class="i0" id="69">
    Després d'executar <tt>make commit</tt> es podrà veure bastant text a la pantalla. Bàsicament són missatges informatius sobre l'estat del procés i també algunes pistes sobre el que es pot fer per a millorar <i>live-manual</i>. Si no es veu cap error fatal, generalment es pot procedir i enviar la contribució.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#70" class="lnkocn">70</a></label>
  <p class="i0" id="70">
    <i>live-manual</i> ve amb dues utilitats que poden ser de gran ajuda pels traductors a l'hora de trobar missatges sense traduir i difusos. La primera és "make translate". Aquesta activa un script que diu en detall quants missatges sense traduir hi ha a cada fitxer .po. La segona, "make fixfuzzy", només actua sobre els missatges difusos però ajuda a trobar-los i corregir-los un per un.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#71" class="lnkocn">71</a></label>
  <p class="i0" id="71">
    Tenir en compte que tot i que aquestes utilitats poden ser molt útils per a fer traduccions en la línia d'ordres, l'ús d'una eina especialitzada com <i>poedit</i> és la manera recomanada de fer la tasca. També és una bona idea llegir la documentació de localització de debian (l10n) i, específicament dins <i>live-manual</i>, les  <a href="#guidelines-translators">Directrius per a traductors</a>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#72" class="lnkocn">72</a></label>
  <p class="i0" id="72">
    <b>Nota:</b> Es pot utilitzar <tt>make clean</tt> per a netejar l'arbre git abans de fer un push. Aquest pas no és obligatori, gràcies al fitxer .gitignore, però és una bona pràctica per a evitar enviar fitxers de forma involuntària.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#73" class="lnkocn">73</a></label>
  <h1 class="norm" id="73"><a name="73"></a>
    Sobre el Live Systems Project
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#74" class="lnkocn">74</a></label>
  <h4 class="norm" id="74"><a name="74"></a>
    <a name="h2" ></a><a name="sobre_el_live_systems_project" ></a><a name="about-project" ></a>2. Sobre el Live Systems Project
  </h4>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#75" class="lnkocn">75</a></label>
  <h5 class="norm" id="75"><a name="75"></a>
    <a name="c2.1" ></a><a name="h2.1" ></a>2.1 Motivació
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#76" class="lnkocn">76</a></label>
  <h6 class="norm" id="76"><a name="76"></a>
    <a name="c2.1.1" ></a><a name="h2.1.1" ></a>2.1.1 Què passa amb els sistemes vius actuals
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#77" class="lnkocn">77</a></label>
  <p class="i0" id="77">
    Quan el Live Systems Project va començar, ja hi havia diversos sistemes vius basats en Debian disponibles i que estaven fent una gran feina. Des de la perspectiva de Debian la majoria d'ells tenien un o més dels desavantatges següents:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#78" class="lnkocn">78</a></label>
  <ul>
  <li class="bullet" id="78">
    No són projectes de Debian i per tant no tenen suport des de Debian.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#79" class="lnkocn">79</a></label>
  <ul>
  <li class="bullet" id="79">
    Es barregen diferents distribucions, per exemple <b>testing</b> i <b>unstable</b>.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#80" class="lnkocn">80</a></label>
  <ul>
  <li class="bullet" id="80">
    Només donen suport a i386.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#81" class="lnkocn">81</a></label>
  <ul>
  <li class="bullet" id="81">
    Es modifique el comportament i/o l'aparença dels paquets, per a estalviar espai.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#82" class="lnkocn">82</a></label>
  <ul>
  <li class="bullet" id="82">
    S'inclouen paquets de fora de l'arxiu de Debian.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#83" class="lnkocn">83</a></label>
  <ul>
  <li class="bullet" id="83">
    Inclouen nuclis personalitzats amb pedaços addicionals que no són part de Debian.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#84" class="lnkocn">84</a></label>
  <ul>
  <li class="bullet" id="84">
    Són grans i lents a causa de la seva mida i per tant no aptes com a sistemes de rescat.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#85" class="lnkocn">85</a></label>
  <ul>
  <li class="bullet" id="85">
    No estan disponibles en diferents formats, per exemple, CD, DVD, memòries USB i imatges netboot.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#86" class="lnkocn">86</a></label>
  <h6 class="norm" id="86"><a name="86"></a>
    <a name="c2.1.2" ></a><a name="h2.1.2" ></a>2.1.2 Per què crear el nostre pròpi sistema viu?
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#87" class="lnkocn">87</a></label>
  <p class="i0" id="87">
    Debian és el sistema operatiu universal: Debian té un sistema viu per a mostrar arreu i per a representar acuradament el sistema Debian amb els següents avantatges:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#88" class="lnkocn">88</a></label>
  <ul>
  <li class="bullet" id="88">
    Es tracta d'un subprojecte de Debian.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#89" class="lnkocn">89</a></label>
  <ul>
  <li class="bullet" id="89">
    Reflecteix l'estat (actual) d'una distribució.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#90" class="lnkocn">90</a></label>
  <ul>
  <li class="bullet" id="90">
    Funciona en tantes arquitectures com és possible.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#91" class="lnkocn">91</a></label>
  <ul>
  <li class="bullet" id="91">
    Es tracta només de paquets Debian sense modificacions.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#92" class="lnkocn">92</a></label>
  <ul>
  <li class="bullet" id="92">
    No conté paquets que no són a l'arxiu de Debian.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#93" class="lnkocn">93</a></label>
  <ul>
  <li class="bullet" id="93">
    S'utilitza un nucli Debian sense alteracions i sense pedaços addicionals.
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#94" class="lnkocn">94</a></label>
  <h5 class="norm" id="94"><a name="94"></a>
    <a name="c2.2" ></a><a name="h2.2" ></a>2.2 Filosofia
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#95" class="lnkocn">95</a></label>
  <h6 class="norm" id="95"><a name="95"></a>
    <a name="c2.2.1" ></a><a name="h2.2.1" ></a>2.2.1 Només paquets Debian sense modificacions de la secció "main"
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#96" class="lnkocn">96</a></label>
  <p class="i0" id="96">
    Només farem servir els paquets del repositori de Debian de la secció "main". La secció non-free no és part de Debian i per tant no es pot utilitzar per a les imatges oficials del sistema viu.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#97" class="lnkocn">97</a></label>
  <p class="i0" id="97">
    No canviarem cap paquet. Cada vegada que hàgim de canviar alguna cosa, ho farem en coordinació amb el mantenidor del paquet a Debian.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#98" class="lnkocn">98</a></label>
  <p class="i0" id="98">
    Com a excepció, els nostres propis paquets, com ara <i>live-boot</i>, <i>live-build</i> o <i>live-config</i> poden ser utilitzats temporalment des del nostre propi repositori per raons de desenvolupament (per exemple, per a crear instantànies de desenvolupament). Aquests paquets es pujaran a Debian de forma regular.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#99" class="lnkocn">99</a></label>
  <h6 class="norm" id="99"><a name="99"></a>
    <a name="c2.2.2" ></a><a name="h2.2.2" ></a>2.2.2 Paquets del sistema viu sense cap configuració
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#100" class="lnkocn">100</a></label>
  <p class="i0" id="100">
    En aquesta fase no es publicarà o s'instal·larà cap configuració alternativa o d'exemple. Tots els paquets són utilitzats en la seva configuració per defecte, tal com són després d'una instal·lació normal de Debian.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#101" class="lnkocn">101</a></label>
  <p class="i0" id="101">
    Cada vegada que ens calgui una configuració per defecte diferent, ho farem en coordinació amb el mantenidor del paquet Debian.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#102" class="lnkocn">102</a></label>
  <p class="i0" id="102">
    S'hi inclou un sistema per a configurar paquets mitjançant debconf que permet instal·lar paquets configurats de forma personalitzada dins d'una imatge en viu, però per a les  <a href="#downloading-prebuilt-images">imatges en viu prefabricades</a>  només utilitzarem una configuració per defecte, a menys que sigui absolutament necessari per a poder treballar en l'entorn en viu. Sempre que sigui possible, preferim adaptar els paquets a l'arxiu de Debian perquè funcionin en un sistema en viu abans que realitzar canvis en la cadena d'eines en viu o en  <a href="#clone-configuration-via-git">les configuracions de les imatges prefabricades</a>.  per a obtenir més informació, veure  <a href="#customization-overview">Visió general de la personalització</a>.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#103" class="lnkocn">103</a></label>
  <h5 class="norm" id="103"><a name="103"></a>
    <a name="h2.3" ></a><a name="contact" ></a>2.3 Contacte
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#104" class="lnkocn">104</a></label>
  <ul>
  <li class="bullet" id="104">
    <b>Llista de correu</b>: El contacte principal del projecte és la llista de correu a ‹<a href="https://lists.debian.org/debian-live/" target="_top">https://lists.debian.org/debian-live/</a>›. Es pot enviar un correu directament a ‹<a href="mailto:debian-live@lists.debian.org">debian-live@lists.debian.org</a>› Els arxius de la llista són a ‹<a href="https://lists.debian.org/debian-live/" target="_top">https://lists.debian.org/debian-live/</a>›.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#105" class="lnkocn">105</a></label>
  <ul>
  <li class="bullet" id="105">
    <b>IRC</b>: Un nombre d'usuaris i desenvolupadors estan presents al canal #debian-live a irc.debian.org (OFTC). Quan es pregunta al IRC, s'ha de tenir paciència esperant una resposta, si no hi ha cap resposta, es pot enviar un correu a la llista.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#106" class="lnkocn">106</a></label>
  <ul>
  <li class="bullet" id="106">
    <b>BTS</b> : El <a href="https://www.debian.org/Bugs/">Sistema de seguiment d'errors de Debian</a>  (BTS) conté detalls d'errors notificats per usuaris i desenvolupadors. A cada error se li assigna un número i es manté a l'arxiu fins que es marca com tractat. Per a obtenir més informació, vegeu  <a href="#bugs">Informar dels errors</a>.
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#107" class="lnkocn">107</a></label>
  <h1 class="norm" id="107"><a name="107"></a>
    Usuari
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#108" class="lnkocn">108</a></label>
  <h1 class="norm" id="108"><a name="108"></a>
    Instal·lació
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#109" class="lnkocn">109</a></label>
  <h4 class="norm" id="109"><a name="109"></a>
    <a name="h3" ></a><a name="installaci" ></a><a name="installation" ></a>3. Instal·lació
  </h4>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#110" class="lnkocn">110</a></label>
  <h5 class="norm" id="110"><a name="110"></a>
    <a name="h3.1" ></a><a name="requirements" ></a>3.1 Requisits
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#111" class="lnkocn">111</a></label>
  <p class="i0" id="111">
    La construcció d'imatges en viu té molts pocs requisits.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#112" class="lnkocn">112</a></label>
  <ul>
  <li class="bullet" id="112">
    Accés de superusuari (root)
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#113" class="lnkocn">113</a></label>
  <ul>
  <li class="bullet" id="113">
    Una versió actualitzada de <i>live-build</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#114" class="lnkocn">114</a></label>
  <ul>
  <li class="bullet" id="114">
    Una shell compatible amb POSIX, com ara <i>bash</i> o <i>dash</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#115" class="lnkocn">115</a></label>
  <ul>
  <li class="bullet" id="115">
    <i>debootstrap</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#116" class="lnkocn">116</a></label>
  <ul>
  <li class="bullet" id="116">
    Linux 2.6.x o superior.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#117" class="lnkocn">117</a></label>
  <p class="i0" id="117">
    Tenir en compte que no cal usar Debian o una distribució derivada de Debian ja que <i>live-build</i> funcionarà en gairebé qualsevol distribució amb els requisits anteriors.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#118" class="lnkocn">118</a></label>
  <h5 class="norm" id="118"><a name="118"></a>
    <a name="h3.2" ></a><a name="installing-live-build" ></a>3.2 Instal·lació de live-build
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#119" class="lnkocn">119</a></label>
  <p class="i0" id="119">
    Es pot instal·lar <i>live-build</i> en un nombre de maneres diferentes:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#120" class="lnkocn">120</a></label>
  <ul>
  <li class="bullet" id="120">
    Des del repositori Debian
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#121" class="lnkocn">121</a></label>
  <ul>
  <li class="bullet" id="121">
    A partir del codi font
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#122" class="lnkocn">122</a></label>
  <ul>
  <li class="bullet" id="122">
    A partir d'instantànies
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#123" class="lnkocn">123</a></label>
  <p class="i0" id="123">
    Si s'utilitza Debian, la manera recomanada és instal·lar <i>live-build</i> des del repositori de Debian.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#124" class="lnkocn">124</a></label>
  <h6 class="norm" id="124"><a name="124"></a>
    <a name="c3.2.1" ></a><a name="h3.2.1" ></a>3.2.1 Des del repositori de Debian
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#125" class="lnkocn">125</a></label>
  <p class="i0" id="125">
    Només cal instal·lar <i>live-build</i> com qualsevol altre paquet:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#126" class="lnkocn">126</a></label>
  <p class="code" id="126">
    # apt-get install live-build<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#127" class="lnkocn">127</a></label>
  <h6 class="norm" id="127"><a name="127"></a>
    <a name="c3.2.2" ></a><a name="h3.2.2" ></a>3.2.2 A partir del codi font
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#128" class="lnkocn">128</a></label>
  <p class="i0" id="128">
    <i>live-build</i> es desenvolupa utilitzant el sistema de control de versions Git. En els sistemes basats en Debian, això és proporcionat pel paquet git. Per a comprovar l'últim codi, executar:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#129" class="lnkocn">129</a></label>
  <p class="code" id="129">
    $ git clone git://http://anonscm.debian.org/git/debian-live/live-build.git<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#130" class="lnkocn">130</a></label>
  <p class="i0" id="130">
    Es pot construir i instal·lar un paquet Debian pròpi mitjançant l'execució de:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#131" class="lnkocn">131</a></label>
  <p class="code" id="131">
    $ cd live-build<br>
$ dpkg-buildpackage -b -uc -us<br>
$ cd ..<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#132" class="lnkocn">132</a></label>
  <p class="i0" id="132">
    Ara instal·lar qualsevol dels fitxers <tt>.deb</tt> recent construïts que ens interessen, per exemple,
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#133" class="lnkocn">133</a></label>
  <p class="code" id="133">
    # dpkg -i live-build_4.0-1_all.deb<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#134" class="lnkocn">134</a></label>
  <p class="i0" id="134">
    Es pot instal·lar <i>live-build</i> directament al sistema mitjançant l'execució de:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#135" class="lnkocn">135</a></label>
  <p class="code" id="135">
    # make install<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#136" class="lnkocn">136</a></label>
  <p class="i0" id="136">
    i desinstal·lar amb:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#137" class="lnkocn">137</a></label>
  <p class="code" id="137">
    # make uninstall<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#138" class="lnkocn">138</a></label>
  <h6 class="norm" id="138"><a name="138"></a>
    <a name="c3.2.3" ></a><a name="h3.2.3" ></a>3.2.3 A partir d'instantànies
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#139" class="lnkocn">139</a></label>
  <p class="i0" id="139">
    Si no es desitja construir o instal·lar <i>live-build</i> a partir de les fonts, es pot utilitzar les instantànies. Aquestes es construeixen automàticament a partir de l'última versió del Git, i estan disponibles a ‹<a href="http://debian-live.alioth.debian.org/debian/" target="_top">http://debian-live.alioth.debian.org/debian/</a>›.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#140" class="lnkocn">140</a></label>
  <h5 class="norm" id="140"><a name="140"></a>
    <a name="c3.3" ></a><a name="h3.3" ></a>3.3 Instal.lació de live-boot i live-config
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#141" class="lnkocn">141</a></label>
  <p class="i0" id="141">
    <b>Nota:</b> No cal instal·lar <i>live-boot</i> o <i>live-config</i> en el sistema per a crear sistemes personalitzats en viu. No obstant, això no farà cap mal i és útil per a fins de referència. Si només es vol la documentació, ara es poden instal·lar els paquets <i>live-boot-doc</i> i <i>live-config-doc</i> per separat.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#142" class="lnkocn">142</a></label>
  <h6 class="norm" id="142"><a name="142"></a>
    <a name="c3.3.1" ></a><a name="h3.3.1" ></a>3.3.1 Des del repositori de Debian
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#143" class="lnkocn">143</a></label>
  <p class="i0" id="143">
    Tots dos, <i>live-boot</i> i <i>live-config</i>, estan disponibles al arxiu de Debian, d'una manera similar a  <a href="#installing-live-build">Instal·lació de live-build</a>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#144" class="lnkocn">144</a></label>
  <h6 class="norm" id="144"><a name="144"></a>
    <a name="c3.3.2" ></a><a name="h3.3.2" ></a>3.3.2 A partir del codi font
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#145" class="lnkocn">145</a></label>
  <p class="i0" id="145">
    Per a utilitzar les darreres fonts del git, es pot seguir el procés seguent. Assegurar-se d'estar familiaritzat amb els termes esmentats a  <a href="#terms">Termes</a>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#146" class="lnkocn">146</a></label>
  <ul>
  <li class="bullet" id="146">
    Clonar les fonts de <i>live-boot</i> i <i>live-config</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#147" class="lnkocn">147</a></label>
  <p class="code" id="147">
    $ git clone git://http://anonscm.debian.org/git/debian-live/live-boot.git <br>
$ git clone git://http://anonscm.debian.org/git/debian-live/live-config.git<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#148" class="lnkocn">148</a></label>
  <p class="i0" id="148">
    Consultar les pàgines del manual de <i>live-boot</i> i <i>live-config</i> per a més detalls sobre la seva personalització si aquesta és la raó per a construir aquests paquets a partir de les fonts.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#149" class="lnkocn">149</a></label>
  <ul>
  <li class="bullet" id="149">
    Crear els fitxers .deb de <i>live-boot</i> i <i>live-config</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#150" class="lnkocn">150</a></label>
  <p class="i0" id="150">
    S'ha de crear ja sigui en la distribució de destinació o en un chroot que contingui la plataforma de destinació: és a dir, si el objectiu és <b>buster</b> llavors s'ha de construir contra <b>buster</b>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#151" class="lnkocn">151</a></label>
  <p class="i0" id="151">
    Es pot utilitzar un constructor personal, com ara <i>pbuilder</i> o <i>sbuild</i> si es necessita crear <i>live-boot</i> per a una distribució de destinació diferenta del sistema de construcció. Per exemple, per a les imatges en viu de <b>buster</b>, crear <i>live-boot</i> en un chroot <b>buster</b>. Si la distribució de destinació per casualitat coincideix amb la distribució del sistema de construcció, es pot construir directament en el sistema de construcció amb <tt>dpkg-buildpackage</tt> (proporcionat pel paquet <i>dpkg-dev</i>) :
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#152" class="lnkocn">152</a></label>
  <p class="code" id="152">
    $ cd live-boot<br>
$ dpkg-buildpackage -b -uc -us<br>
$ cd ../live-config<br>
$ dpkg-buildpackage -b -uc -us<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#153" class="lnkocn">153</a></label>
  <ul>
  <li class="bullet" id="153">
    Utilitzar tots el fitxers .deb generats que calguin
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#154" class="lnkocn">154</a></label>
  <p class="i0" id="154">
    Com <i>live-boot</i> i <i>live-config</i> són instal·lats per el sistema de construcció <i>live-build</i>, instal·lar els paquets en el sistema amfitrió no és suficient: s'ha de tractar els .deb generats com si fossin uns paquets personalitzats. Ja que el propòsit per a construir aquests paquets a partir del codi font és per a provar coses noves a curt termini abans del llançament oficial, seguir els pasos de  <a href="#installing-modified-or-third-party-packages">Instal·lació de paquets modificats o de tercers</a>  per a incloure temporalment els paquets rellevants en la configuració. En particular, cal observar que ambdós paquets es divideixen en una part genèrica, una part de documentació i un o més back-ends. Incloure la part genèrica, només un dels back-ends que coincideixi amb la configuració, i, opcionalment, la documentació. Suposant que s'està construint una imatge en viu en el directori actual i que s'han generat tots els .deb per a una única versió dels dos paquets al directori superior, aquestes ordres de bash són per a copiar tots els paquets importants, incloent-hi els back-ends per defecte:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#155" class="lnkocn">155</a></label>
  <p class="code" id="155">
    $ cp ../live-boot{_,-initramfs-tools,-doc}*.deb&nbsp;&nbsp;config/packages.chroot/<br>
$ cp ../live-config{_,-sysvinit,-doc}*.deb&nbsp;&nbsp;config/packages.chroot/<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#156" class="lnkocn">156</a></label>
  <h6 class="norm" id="156"><a name="156"></a>
    <a name="c3.3.3" ></a><a name="h3.3.3" ></a>3.3.3 A partir d'instantànies
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#157" class="lnkocn">157</a></label>
  <p class="i0" id="157">
    Es pot deixar que <i>live-build</i> utilitzi les darreres instantànies de <i>live-boot</i> i <i>live-config</i> configurant el repositori de tercers debian-live.alioth.debian.org en el directori de configuració de <i>live-build</i>.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#158" class="lnkocn">158</a></label>
  <h1 class="norm" id="158"><a name="158"></a>
    Conceptes bàsics
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#159" class="lnkocn">159</a></label>
  <h4 class="norm" id="159"><a name="159"></a>
    <a name="h4" ></a><a name="conceptes_bsics" ></a><a name="the-basics" ></a>4. Conceptes bàsics
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#160" class="lnkocn">160</a></label>
  <p class="i0" id="160">
    Aquest capítol conté una breu descripció del procés de construcció i les instruccions per a l'utilització dels tres tipus d'imatge més comunes. El tipus d'imatge més versàtil <tt>iso-hybrid</tt> es pot utilitzar en una màquina virtual, en un medi òptic o qualsevol altre dispositiu d'emmagatzematge USB. En certs casos especials, com s'explica més endavant, el tipus <tt>hdd</tt> pot ser el més adequat. El capítol conté instruccions detallades per a la construcció d'una imatge tipus <tt>netboot</tt>, que és una mica més complicat a causa de la configuració necessària en el servidor. Aquest és un tema una mica avançat per a algú que no està familiaritzat ja amb l'arrencada en xarxa, però s'inclou aquí perquè un cop que la configuració es porta a terme, es tracta d'una manera molt convenient per a provar i desplegar imatges per a l'arrencada en xarxa local sense la molèstia de tractar amb els dispositius de les imatges.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#161" class="lnkocn">161</a></label>
  <p class="i0" id="161">
    La secció acaba amb una breu introducció al  <a href="#webbooting">webbooting</a>  que és, potser, la forma més fàcil d'utilitzar imatges diferents per a diferents propòsits, canviant d'una a l'altra segons sigui necessari, utilitzant internet com un mitjà.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#162" class="lnkocn">162</a></label>
  <p class="i0" id="162">
    Al llarg del capítol, sovint es fa referència als noms dels fitxers produïts per defecte per <i>live-build</i>. Si es  <a href="#downloading-prebuilt-images">descarrega una imatge prefabricada</a>,  els noms dels fitxers poden ser direrents.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#163" class="lnkocn">163</a></label>
  <h5 class="norm" id="163"><a name="163"></a>
    <a name="h4.1" ></a><a name="what-is-live" ></a>4.1 Què és un sistema viu?
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#164" class="lnkocn">164</a></label>
  <p class="i0" id="164">
    Un sistema viu és un sistema operatiu que arrenca en un equip des d'un dispositiu extraïble, com un CD-ROM o una memòria USB o des d'una xarxa, a punt per a fer servir sense cap tipus d'instal·lació en la unitat(s) habitual(s), amb una configuració automàtica feta en temps d'execució (veure  <a href="#terms">Termes</a>).
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#165" class="lnkocn">165</a></label>
  <p class="i0" id="165">
    Amb live systems, és un sistema operatiu, construït per a una de les arquitectures suportades (actualment amd64 i i386). Conté les següents parts:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#166" class="lnkocn">166</a></label>
  <ul>
  <li class="bullet" id="166">
    <b>Imatge del nucli Linux</b>, generalment s'anomena <tt>vmlinuz*</tt>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#167" class="lnkocn">167</a></label>
  <ul>
  <li class="bullet" id="167">
    <b>Imatge del disc RAM inicial (initrd)</b>: un disc RAM configurat per a l'arrencada de Linux, que conté els mòduls que possiblement es necessitaran per a muntar la imatge del sistema i algunes seqüències d'ordres per a fer-ho.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#168" class="lnkocn">168</a></label>
  <ul>
  <li class="bullet" id="168">
    <b>Imatge del sistema</b>: Imatge del sistema de fitxers del sistema operatiu. Normalment, s'utilitza un sistema de fitxers comprimit SquashFS per a minimitzar la mida de la imatge. Tenir en compte que és de només lectura. Així, durant l'arrencada, el sistema Debian Live utilitzarà el disc RAM i un mecanisme de "unió" per a permetre l'escriptura de fitxers en el sistema en funcionament. No obstant això, totes les modificacions es perdran al apagar l'equip si no és que s'utilitza la persistència opcional (vegeu  <a href="#persistence">Persistència</a>).
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#169" class="lnkocn">169</a></label>
  <ul>
  <li class="bullet" id="169">
    <b>Carregador d'arrencada </b>: Una petita peça de codi dissenyat per a arrencar des del medi triat, possiblement presentant un indicador d'arrencada o un menú per a permetre la selecció d'opcions/configuració. Carrega el nucli de Linux i el seu initrd per a funcionar amb un sistema de fitxers del sistema associat. Es poden utilitzar diverses solucions, en funció del medi de destinació i el format del sistema de fitxers que conté els components esmentats anteriorment: isolinux per a arrencar des de CD o DVD en format ISO9660, syslinux per a una unitat USB o HDD que s'iniciarà des de particions VFAT, extlinux per a particions ext2/3/4 i btrfs, pxelinux per a PXE netboot, GRUB per a particions ext2/3/4, etc.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#170" class="lnkocn">170</a></label>
  <p class="i0" id="170">
    Es pot utilitzar <i>live-build</i> per a construir la imatge del sistema amb especificacions pròpies, configurar un nucli de Linux, el initrd, i un carregador d'arrencada per a executar-los, tot això en un format depenent del medi (imatge ISO9660, imatge de disc, etc.).
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#171" class="lnkocn">171</a></label>
  <h5 class="norm" id="171"><a name="171"></a>
    <a name="h4.2" ></a><a name="downloading-prebuilt-images" ></a>4.2 Descàrrega d'imatges prefabricades
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#172" class="lnkocn">172</a></label>
  <p class="i0" id="172">
    Si bé l'objectiu d'aquest manual és el desenvolupament i la construcció d'imatges en viu pròpies, es pot simplement voler provar una de les nostres imatges prefabricades, ja sigui com una introducció al seu ús o a la construcció d'imatges personalitzades. Aquestes imatges estan construïdes utilitzant el nostre  <a href="#clone-configuration-via-git">repositori git live-images</a>  i les versions oficials estables es publiquen a ‹<a href="https://www.debian.org/CD/live/" target="_top">https://www.debian.org/CD/live/</a>›. A més, les versions antigues i les futures, i les imatges no oficials que contenen microprogramari i controladors no lliures estan disponibles a ‹<a href="http://debian-live.alioth.debian.org/cdimage/release/" target="_top">http://debian-live.alioth.debian.org/cdimage/release/</a>›.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#173" class="lnkocn">173</a></label>
  <h5 class="norm" id="173"><a name="173"></a>
    <a name="h4.3" ></a><a name="using-web-builder" ></a>4.3 Ús del servei de construcció d'imatges en viu web
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#174" class="lnkocn">174</a></label>
  <p class="i0" id="174">
    Com un servei a la comunitat, oferim un servei web capaç de construïr imatges en viu a ‹<a href="http://debian-live.alioth.debian.org/build/" target="_top">http://debian-live.alioth.debian.org/build/</a>›. Aquest lloc es mantingut sobre una base del millor esforç. És a dir, encara que ens esforcem per a mantenir-lo al dia i que estigui operatiu en tot moment, i de fer anuncis d'interrupcions importants del servei, no podem garantir una disponibilitat del 100% o una creació d'imatges ràpida. Tanmateix, el servei pot tenir, de tant en tant, problemes que triguin algun temps en resoldre's. Si es té problemes o preguntes sobre aquest servei, posar-se en  <a href="#contact">contacte amb nosaltres</a>,  proporcionant l'enllaç a la pàgina web de la imatge construïda.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#175" class="lnkocn">175</a></label>
  <h6 class="norm" id="175"><a name="175"></a>
    <a name="c4.3.1" ></a><a name="h4.3.1" ></a>4.3.1 Ús i advertències sobre el servei web
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#176" class="lnkocn">176</a></label>
  <p class="i0" id="176">
    La interfície web actualment no pot prevenir l'ús de combinacions d'opcions no vàlides, i en particular, quan el canvi d'una opció que normalment (és a dir, utilitzant <i>live-build</i> directament) canviaria els valors predeterminats d'altres opcions que figuren en el formulari de la web, el constructor web no canvia aquests valors predeterminats. En particular, si es canvia <tt>--architectures</tt> del valor per defecte <tt>i386</tt> a <tt>amd64</tt>, s'ha de canviar l'opció corresponent <tt>--linux-flavours</tt> del valor per defecte <tt>586</tt> a <tt>amd64</tt>. Veure la pàgina del manual <tt>lb_config</tt> per a la versió de <i>live-build</i> instal·lada al constructor web per a més detalls. El nombre de la versió de <i>live-build</i> apareix a la part inferior de la pàgina web.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#177" class="lnkocn">177</a></label>
  <p class="i0" id="177">
    El càlcul de temps donat pel constructor web és només una estimació aproximada i pot no reflectir acuradament el temps que realment es necessita per a finalitzar la construcció d'una imatge. Tenir en compte que aquesta estimació tampoc s'actualitza tal i com va passant el temps. Cal tenir una mica de paciència. No tornar a carregar la pàgina després de enviar la proposta de construcció, ja que això pot tornar a reenviar una nova petició amb els mateixos paràmetres. Posar-se  <a href="#contact">en contacte amb nosaltres</a>  si no es rep la notificació de la construcció un cop que s'estigui segur que s'ha esperat prou i verificat que la notificació per correu electrònic no ha anat a parar al spam.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#178" class="lnkocn">178</a></label>
  <p class="i0" id="178">
    El servei web està limitat en el tipus d'imatges que es poden construir. Això el manté simple i eficient d'utilitzar i mantenir. Si es desitja realitzar personalitzacions que no es contemplen en la interfície web, a la resta d'aquest manual s'explica com crear imatges pròpies amb <i>live-build</i>.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#179" class="lnkocn">179</a></label>
  <h5 class="norm" id="179"><a name="179"></a>
    <a name="h4.4" ></a><a name="building-iso-hybrid" ></a>4.4 Primers passos: construcció d'una imatge ISO híbrida
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#180" class="lnkocn">180</a></label>
  <p class="i0" id="180">
    Independentment del tipus d'imatge, s'haurà de fer els mateixos passos bàsics per a construir una imatge cada vegada. Com a primer exemple, crear un directori de treball, canviar a aquest directori i executar la següent seqüència d'ordres <i>live-build</i> per a crear una imatge ISO híbrida de base que conté només el sistema per defecte de Debian sense X.org. És adequat per a gravar en un CD o DVD, i també per a copiar en una memòria USB.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#181" class="lnkocn">181</a></label>
  <p class="i0" id="181">
    El nom del directori de treball és absolutament indiferent, però si es fa un cop d'ull als exemples utilitzats a <i>live-manual</i>, és una bona idea utilitzar un nom que ajudi a identificar la imatge amb que s'està treballant en cada directori, especialment si s'està treballant o experimentant amb diferents tipus d'imatges. En aquest cas, anem a construir un sistema per defecte així que l'anomenarem, per exemple, live-default.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#182" class="lnkocn">182</a></label>
  <p class="code" id="182">
    $ mkdir live-default &amp;&amp; cd live-default<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#183" class="lnkocn">183</a></label>
  <p class="i0" id="183">
    Aleshores, executar l'ordre <tt>lb config</tt>. Això crearà una jerarquia «config/» en el directori actual per a ser utilitzada per altres ordres:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#184" class="lnkocn">184</a></label>
  <p class="code" id="184">
    $ lb config<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#185" class="lnkocn">185</a></label>
  <p class="i0" id="185">
    Aquí no es passa cap paràmetre a aquestes ordres, per tant s'utilitzaran les opcions per defecte. Veure  <a href="#lb-config">L'ordre lb config</a>  per a més detalls.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#186" class="lnkocn">186</a></label>
  <p class="i0" id="186">
    Ara que la jerarquia «config/» ja existeix, crear la imatge amb l'ordre <tt>lb build</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#187" class="lnkocn">187</a></label>
  <p class="code" id="187">
    # lb build<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#188" class="lnkocn">188</a></label>
  <p class="i0" id="188">
    Aquest procés tardarà una mica, depenent de la velocitat del ordinador i de la connexió de la xarxa. Quan hagi acabat, ha d'haver un fitxer imatge <tt>live-image-i386.hybrid.iso</tt>, a punt per a ser utilitzat, en el directori actual.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#189" class="lnkocn">189</a></label>
  <p class="i0" id="189">
    <b>Nota:</b> Si s'està construint en un sistema amd64 el nom de la imatge resultant serà <tt>live-image-amd64.hybrid.iso</tt>. Tenir en compte aquesta convenció al llarg del manual.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#190" class="lnkocn">190</a></label>
  <h5 class="norm" id="190"><a name="190"></a>
    <a name="h4.5" ></a><a name="using-iso-hybrid" ></a>4.5 Usar una imatge ISO híbrida en viu
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#191" class="lnkocn">191</a></label>
  <p class="i0" id="191">
    Després de la construcció o la descàrrega d'una imatge ISO híbrida, que pot ser obtinguda a ‹<a href="https://www.debian.org/CD/live/" target="_top">https://www.debian.org/CD/live/</a>›, el següent pas habitual és preparar el dispositiu per a l'arrencada, ja sigui medis òptics com un CD-R(W) o DVD-R(W) o una memòria USB.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#192" class="lnkocn">192</a></label>
  <h6 class="norm" id="192"><a name="192"></a>
    <a name="h4.5.1" ></a><a name="burning-iso-image" ></a>4.5.1 Gravar una imatge ISO en un medi físic
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#193" class="lnkocn">193</a></label>
  <p class="i0" id="193">
    Gravar una imatge ISO és fàcil. Simplement cal instal·lar <i>xorriso</i> i utilitzar-lo des de la línia d'ordres per a gravar la imatge. Per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#194" class="lnkocn">194</a></label>
  <p class="code" id="194">
    # apt-get install xorriso<br>
$ xorriso -as cdrecord -v dev=/dev/sr0 blank=as_needed live-image-i386.hybrid.iso<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#195" class="lnkocn">195</a></label>
  <h6 class="norm" id="195"><a name="195"></a>
    <a name="h4.5.2" ></a><a name="copying-iso-hybrid-to-usb" ></a>4.5.2 Copiar una imatge ISO híbrida en un dispositiu  USB
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#196" class="lnkocn">196</a></label>
  <p class="i0" id="196">
    Les imatges ISO preparades amb <tt>xorriso</tt>, és poden copiar directament a una memòria USB utilitzant el programa <tt>cp</tt> o un altre d'equivalent. Connectar una memòria USB amb una mida prou gran per al fitxer de la imatge i determinar quin dispositiu és, que d'ara endavant anomenarem <tt>${USBSTICK}</tt>. Aquest és el dispositiu de la memòria, com per exemple <tt>/dev/sdb</tt>, i no una partició, com ara <tt>/dev/sdb1</tt>! Es pot trobar el nom del dispositiu correcte mirant la sortida de <tt>dmesg</tt> després de connectar la memòria usb, o encara millor, <tt>ls -l /dev/disk/by-id</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#197" class="lnkocn">197</a></label>
  <p class="i0" id="197">
    Quan s'estigui segur de tenir el nom del dispositiu correcte, utilitzar l'ordre <tt>cp</tt> per a copiar la imatge a la memòria. <b>Fent això es perdran definitivament tots els continguts anteriors de la memòria usb!</b>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#198" class="lnkocn">198</a></label>
  <p class="code" id="198">
    $ cp live-image-i386.hybrid.iso ${USBSTICK}<br>
$ sync<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#199" class="lnkocn">199</a></label>
  <p class="i0" id="199">
    <b>Nota:</b> L'ordre <i>sync</i> s'utilitza per a assegurar-se que totes les dades, que el nucli emmagatzema en la memòria durant la còpia de la imatge, s'escriuen en el dispositiu USB.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#200" class="lnkocn">200</a></label>
  <h6 class="norm" id="200"><a name="200"></a>
    <a name="h4.5.3" ></a><a name="using-usb-extra-space" ></a>4.5.3 Utilitzar l'espai lliure en una memòria USB
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#201" class="lnkocn">201</a></label>
  <p class="i0" id="201">
    Després de copiar la <tt>live-image-i386.hybrid.iso</tt> en un dispositiu USB, la primera partició serà utilitzada pel sistema en viu. Per a poder utilitzar l'espai que queda lliure es pot utilitzar una eina de particionament com <i>gparted</i> o <i>parted</i> per a crear una nova partició.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#202" class="lnkocn">202</a></label>
  <p class="code" id="202">
    # gparted ${USBSTICK}<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#203" class="lnkocn">203</a></label>
  <p class="i0" id="203">
    Després de crear la partició, on <tt>${PARTITION}</tt> és el nom de la partició, com ara <tt>/dev/sdb2</tt>, s'ha de crear un sistema de fitxers. Una opció possible seria ext4.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#204" class="lnkocn">204</a></label>
  <p class="code" id="204">
    # mkfs.ext4 ${PARTITION}<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#205" class="lnkocn">205</a></label>
  <p class="i0" id="205">
    <b>Nota:</b>  Si es vol utilitzar l'espai addicional amb Windows, pel que sembla, aquest sistema operatiu normalment no pot accedir a altres particions més que a la primera. Algunes solucions a aquest problema han estat discutides a la nostra  <a href="#contact">llista de correu</a>,  però sembla que no hi ha respostes fàcils.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#206" class="lnkocn">206</a></label>
  <p class="i0" id="206">
    <b>Recordar: Cada vegada que s'instal·li una nova live-image-i386.hybrid.iso al dispositiu, es perdran totes les dades perquè la taula de particions se sobreescriu amb el contingut de la imatge, de manera que es assenyat fer una còpia de seguretat de la partició addicional per a restaurar les dades de nou després d'actualitzar la imatge en viu.</b>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#207" class="lnkocn">207</a></label>
  <h6 class="norm" id="207"><a name="207"></a>
    <a name="h4.5.4" ></a><a name="booting-live-medium" ></a>4.5.4 Arrencar el medi en viu
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#208" class="lnkocn">208</a></label>
  <p class="i0" id="208">
    La primera vegada que s'arrenqui el medi en viu, ja sigui des de CD, DVD, memòria USB, o PXE, pot ser necessaria alguna petita configuració al BIOS del ordinador en primer lloc. Atès que les BIOS varien molt en les seves funcions i dreceres de teclat, no podem entrar en el tema en profunditat aquí. Algunes BIOS proporcionen una tecla per a obrir un menú de dispositius d'arrencada, que és la manera més fàcil si es troba disponible al sistema. En cas contrari, cal entrar al menú de configuració del BIOS i canviar l'ordre d'arrencada per a situar el dispositiu del sistema en viu abans que el dispositiu d'arrencada normal.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#209" class="lnkocn">209</a></label>
  <p class="i0" id="209">
    Després d'arrencar des del dispositiu, es veurà un menu d'inici. Si es prem «entrer» el sistema s'iniciarà amb l'entrada <tt>Live</tt> i les seves opcions per defecte. Per a obtenir més informació sobre les opcions d'arrencada, llegir «l'ajuda» (help) al menú i també les pàgines del manual de <i>live-boot</i> i <i>live-config</i> que es troben dins del sistema en viu.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#210" class="lnkocn">210</a></label>
  <p class="i0" id="210">
    Suposant que s'ha seleccionat <tt>Live</tt> i s'ha arrencat una imatge d'escriptori per defecte, després que els missatges d'arrencada hagin passat s'haurà iniciat una sessió com a usuari <tt>user</tt> i es veurà un escriptori, a punt per a ser utilitzat. Si s'ha arrencat una imatge de només consola, com per exemple una imatge <tt>standard</tt> de les  <a href="#downloading-prebuilt-images">imatges prefabricades</a>,  s'iniciarà una sessió com a usuari <tt>user</tt> i es veurà el indicador de la shell, a punt per a ser utilitzat.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#211" class="lnkocn">211</a></label>
  <h5 class="norm" id="211"><a name="211"></a>
    <a name="h4.6" ></a><a name="using-virtual-machine" ></a>4.6 Utilitzar una màquina virtual per a fer proves
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#212" class="lnkocn">212</a></label>
  <p class="i0" id="212">
    Pot ser un gran estalvi de temps per al desenvolupament d'imatges en viu executar-les en una màquina virtual (VM). Això no està exempt d'advertiments:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#213" class="lnkocn">213</a></label>
  <ul>
  <li class="bullet" id="213">
    L'execució d'una màquina virtual requereix de suficient memòria RAM, tant per al sistema operatiu convidat i l'amfitrió i es recomana una CPU amb suport de maquinari per a la virtualització.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#214" class="lnkocn">214</a></label>
  <ul>
  <li class="bullet" id="214">
    Hi ha algunes limitacions inherents a l'execució en una màquina virtual, per exemple, rendiment de vídeo pobre, opcions limitadades de maquinari emulat.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#215" class="lnkocn">215</a></label>
  <ul>
  <li class="bullet" id="215">
    En el desenvolupament per a un maquinari específic, no hi ha cap substitut millor que el propi maquinari.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#216" class="lnkocn">216</a></label>
  <ul>
  <li class="bullet" id="216">
    De tant en tant hi ha errors que només sorgeixen durant l'execució en una màquina virtual. En cas de dubte, comprovar la imatge directament al maquinari.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#217" class="lnkocn">217</a></label>
  <p class="i0" id="217">
    Sempre que es pugui treballar dins d'aquestes limitacions, examinar el programari de màquina virtual disponible i triar un que sigui adequat per a les necessitats pròpies.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#218" class="lnkocn">218</a></label>
  <h6 class="norm" id="218"><a name="218"></a>
    <a name="h4.6.1" ></a><a name="testing-iso-with-qemu" ></a>4.6.1 Provar una imatge ISO amb QEMU
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#219" class="lnkocn">219</a></label>
  <p class="i0" id="219">
    La màquina virtual més versàtil dins Debian és QEMU. Si el processador té suport de maquinari per a la virtualització, utilitzar el paquet <i>qemu-kvm</i>; la descripció del paquet <i>qemu-kvm</i> enumera breument els requisits.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#220" class="lnkocn">220</a></label>
  <p class="i0" id="220">
    Primer, instal·lar <i>qemu-kvm</i> si el processador ho suporta. Si no, instal·lar <i>qemu</i>, en aquest cas el nom del programa és <tt>qemu</tt> en lloc de <tt>kvm</tt> en els exemples següents. El paquet <i>qemu-utils</i> també és valuós per a la creació d'imatges de disc virtuals amb <tt>qemu-img</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#221" class="lnkocn">221</a></label>
  <p class="code" id="221">
    # apt-get install qemu-kvm qemu-utils<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#222" class="lnkocn">222</a></label>
  <p class="i0" id="222">
    Arrencar una imatge ISO és senzill:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#223" class="lnkocn">223</a></label>
  <p class="code" id="223">
    $ kvm -cdrom live-image-i386.hybrid.iso<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#224" class="lnkocn">224</a></label>
  <p class="i0" id="224">
    Veure les pàgines del manual per a més detalls
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#225" class="lnkocn">225</a></label>
  <h6 class="norm" id="225"><a name="225"></a>
    <a name="h4.6.2" ></a><a name="testing-iso-with-virtualbox" ></a>4.6.2 Provar una imatge ISO amb VirtualBox
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#226" class="lnkocn">226</a></label>
  <p class="i0" id="226">
    Per a provar la ISO amb <i>virtualbox</i>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#227" class="lnkocn">227</a></label>
  <p class="code" id="227">
    # apt-get install virtualbox virtualbox-qt virtualbox-dkms<br>
$ virtualbox<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#228" class="lnkocn">228</a></label>
  <p class="i0" id="228">
    Crear una nova màquina virtual, canviar els paràmetres d'emmagatzematge per a utilitzar <tt>live-image-i386.hybrid.iso</tt> com unitat de CD/DVD i arrencar la màquina.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#229" class="lnkocn">229</a></label>
  <p class="i0" id="229">
    <b>Nota:</b> Per a provar sistemes vius que contenen X.org amb <i>virtualbox</i>, segurament es assenyat incloure el paquet del driver VirtualBox X.org, <i>virtualbox-guest-dkms</i> i <i>virtualbox-guest-x11</i>, en la configuració de <i>live-build</i>. En cas contrari, la resolució es limita a 800x600.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#230" class="lnkocn">230</a></label>
  <p class="code" id="230">
    $ echo "virtualbox-guest-dkms virtualbox-guest-x11" &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#231" class="lnkocn">231</a></label>
  <p class="i0" id="231">
    Per tal de fer que el paquet dkms funcioni, s'han d'instal·lar també les capçaleres del nucli per a la variant del nucli de la imatge. En lloc d'enumerar manualment el paquet <i>linux-headers</i> correcte en la llista de paquets creat anteriorment, la selecció del paquet adequat es pot fer automàticament amb <i>live-build</i>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#232" class="lnkocn">232</a></label>
  <p class="code" id="232">
    &nbsp;&nbsp;$ lb config --linux-packages "linux-image linux-headers"<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#233" class="lnkocn">233</a></label>
  <h5 class="norm" id="233"><a name="233"></a>
    <a name="h4.7" ></a><a name="using-hdd-image" ></a>4.7 Construir i utilitzar una imatge HDD
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#234" class="lnkocn">234</a></label>
  <p class="i0" id="234">
    Construir una imatge HDD és similar a una ISO híbrida en tots els aspectes, excepte que s'especifica <tt>-b hdd</tt>, que el nom del fitxer resultant és <tt>live-image-i386.img</tt> i que no es pot gravar en medis òptics. És adequada per a arrencar des de dispositius USB, discs durs USB, i altres dispositius d'emmagatzematge portàtils. Normalment, una imatge ISO híbrida es pot utilitzar per a aquest propòsit en el seu lloc, però si el BIOS no maneja adequadament les imatges híbrides, cal utilitzar una imatge HDD.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#235" class="lnkocn">235</a></label>
  <p class="i0" id="235">
    <b>Nota:</b>  si s'ha creat una imatge ISO híbrida amb l'exemple anterior, s'haurà de netejar el directori de treball amb l'ordre <tt>lb clean</tt> (veure  <a href="#lb-clean">L'ordre lb clean</a>):
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#236" class="lnkocn">236</a></label>
  <p class="code" id="236">
    # lb clean --binary<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#237" class="lnkocn">237</a></label>
  <p class="i0" id="237">
    Executar l'ordre <tt>lb config</tt> com abans, excepte que aquesta vegada especificant el tipus d'imatge HDD:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#238" class="lnkocn">238</a></label>
  <p class="code" id="238">
    $ lb config -b hdd<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#239" class="lnkocn">239</a></label>
  <p class="i0" id="239">
    Ara construir la imatge amb l'ordre <tt>lb build</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#240" class="lnkocn">240</a></label>
  <p class="code" id="240">
    # lb build<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#241" class="lnkocn">241</a></label>
  <p class="i0" id="241">
    Quan la construcció acabi, hauria d'haver un fitxer <tt>live-image-i386.img</tt> al directori actual.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#242" class="lnkocn">242</a></label>
  <p class="i0" id="242">
    La imatge binària generada conté una partició VFAT i el carregador d'arrencada syslinux, llestos per a ser escrits directament a una memòria USB. Un cop més, donat que l'ús d'una imatge HDD és com utilitzar una imatge ISO híbrida en un USB, seguir les instruccions de  <a href="#using-iso-hybrid">Usar una imatge ISO híbrida en viu</a>,  però amb el nom de fitxer <tt>live-image-i386.img</tt> en lloc de <tt>live-image-i386.hybrid.iso</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#243" class="lnkocn">243</a></label>
  <p class="i0" id="243">
    Igualment, per a provar una imatge HDD amb Qemu, instal·lar <i>qemu</i> com s'ha descrit anteriorment a  <a href="#testing-iso-with-qemu">Provar una imatge ISO amb QEMU</a>.  A continuació, executar <tt>kvm</tt> o <tt>qemu</tt>, segons la versió instal·lada al sistema amfitrió, especificant <tt>live-image-i386.img</tt> com a primer disc dur.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#244" class="lnkocn">244</a></label>
  <p class="code" id="244">
    $ kvm -hda live-image-i386.img<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#245" class="lnkocn">245</a></label>
  <h5 class="norm" id="245"><a name="245"></a>
    <a name="h4.8" ></a><a name="building-netboot-image" ></a>4.8 Construir una imatge netboot
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#246" class="lnkocn">246</a></label>
  <p class="i0" id="246">
    La següent seqüència d'ordres crearà una imatge netboot bàsica que conté el sistema per defecte de Debian sense X.org. És adequada per a l'arrencada en xarxa.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#247" class="lnkocn">247</a></label>
  <p class="i0" id="247">
    <b>Nota:</b> si s'ha realitzat algun dels exemples anteriors, s'haurà de netejar el directori de treball amb l'ordre <tt>lb clean</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#248" class="lnkocn">248</a></label>
  <p class="code" id="248">
    # lb clean<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#249" class="lnkocn">249</a></label>
  <p class="i0" id="249">
    En aquest cas concret, un <tt>lb clean --binary</tt> no seria suficient per a netejar les etapes necessàries. La causa d'això és que en les configuracions d'arrencada en xarxa, es necessita una configuració initramfs diferent que <i>live-build</i> realitza automàticament quan es construeixen imatges netboot. Ja que la creació del initramfs pertany a l'etapa chroot, fer el canvi a netboot en un directori de construcció existent significa reconstruir l'etapa chroot també. Per tant, s'ha de fer un <tt>lb clean</tt> (que eliminarà l'etapa chroot, també)
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#250" class="lnkocn">250</a></label>
  <p class="i0" id="250">
    Executar l'ordre següent per a configurar la imatge per a arrencar en xarxa:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#251" class="lnkocn">251</a></label>
  <p class="code" id="251">
    $ lb config -b netboot --net-root-path "/srv/debian-live" --net-root-server "192.168.0.2"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#252" class="lnkocn">252</a></label>
  <p class="i0" id="252">
    A diferència de les imatges ISO i HDD, l'arrencada en xarxa no serveix el sistema de fitxers al client, per tant els fitxers han de ser servits a través de NFS. Amb lb config es poden elegir diferents sistemes de fitxers de xarxa. Les opcions <tt>--net-root-path</tt> i <tt>--net-root-server</tt> especifiquen la ubicació i el servidor, respectivament, del servidor NFS on es troba la imatge del sistema de fitxers a l'hora d'arrencar. Assegurar-se que aquests s'ajusten als valors adequats per a la xarxa i el servidor.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#253" class="lnkocn">253</a></label>
  <p class="i0" id="253">
    Ara construir la imatge amb l'ordre <tt>lb build</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#254" class="lnkocn">254</a></label>
  <p class="code" id="254">
    # lb build<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#255" class="lnkocn">255</a></label>
  <p class="i0" id="255">
    En l'arrencada en xarxa, el client executa una petita peça de programari que normalment es troba a la EPROM de la targeta Ethernet. Aquest programa envia una petició DHCP per a obtenir una adreça IP i la informació sobre què fer a continuació. Per regla general, el següent pas és aconseguir un carregador d'arrencada de més alt nivell a través del protocol TFTP. Podria ser GRUB, pxelinux o fins i tot arrencar directament a un sistema operatiu com Linux.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#256" class="lnkocn">256</a></label>
  <p class="i0" id="256">
    Per exemple, si es descomprimeix el arxiu <tt>live-image-i386.netboot.tar</tt> generat al directori <tt>/srv/debian-live</tt>, es trobarà la imatge del sistema de fitxers a <tt>live/filesystem.squashfs</tt> i el nucli, initrd i carregador d'arrencada pxelinux a <tt>tftpboot/</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#257" class="lnkocn">257</a></label>
  <p class="i0" id="257">
    Ara hem de configurar els tres serveis al servidor per a l'arrencada en xarxa: el servidor DHCP, servidor TFTP i el servidor NFS.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#258" class="lnkocn">258</a></label>
  <h6 class="norm" id="258"><a name="258"></a>
    <a name="c4.8.1" ></a><a name="h4.8.1" ></a>4.8.1 Servidor DHCP
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#259" class="lnkocn">259</a></label>
  <p class="i0" id="259">
    S'ha de configurar el servidor DHCP de la xarxa per a assegurar-se que dona una adreça IP per al client del sistema d'arrencada en xarxa, i per a anunciar la ubicació del carregador d'arrencada PXE.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#260" class="lnkocn">260</a></label>
  <p class="i0" id="260">
    Heus aquí un exemple per a servir d'inspiració, escrit per al servidor ISC DHCP <tt>isc-dhcp-server</tt> al fitxer de configuració <tt>/etc/dhcp/dhcpd.conf</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#261" class="lnkocn">261</a></label>
  <p class="code" id="261">
    # /etc/dhcp/dhcpd.conf - configuration file for isc-dhcp-server<br><br>
ddns-update-style none;<br><br>
option domain-name "example.org";<br>
option domain-name-servers ns1.example.org, ns2.example.org;<br><br>
default-lease-time 600;<br>
max-lease-time 7200;<br><br>
log-facility local7;<br><br>
subnet 192.168.0.0 netmask 255.255.255.0 {<br>
&nbsp;&nbsp;&nbsp;range 192.168.0.1 192.168.0.254;<br>
&nbsp;&nbsp;&nbsp;filename "pxelinux.0";<br>
&nbsp;&nbsp;&nbsp;next-server 192.168.0.2;<br>
&nbsp;&nbsp;&nbsp;option subnet-mask 255.255.255.0;<br>
&nbsp;&nbsp;&nbsp;option broadcast-address 192.168.0.255;<br>
&nbsp;&nbsp;&nbsp;option routers 192.168.0.1;<br>
}<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#262" class="lnkocn">262</a></label>
  <h6 class="norm" id="262"><a name="262"></a>
    <a name="c4.8.2" ></a><a name="h4.8.2" ></a>4.8.2 Servidor TFTP
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#263" class="lnkocn">263</a></label>
  <p class="i0" id="263">
    Aquest serveix el nucli i el disc ram inicial per al sistema en temps d'execució.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#264" class="lnkocn">264</a></label>
  <p class="i0" id="264">
    S'ha d'instal·lar el paquet <i>tftpd-hpa</i>. Aquest pot servir tots els fitxers continguts dins d'un directori arrel, per regla general <tt>/srv/tftp</tt>. Per tal que es serveixin els fitxers dins de <tt>/srv/debian-live/tftpboot</tt>, s'ha d'executar com a superusuari la següent ordre:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#265" class="lnkocn">265</a></label>
  <p class="code" id="265">
    # dpkg-reconfigure -plow tftpd-hpa<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#266" class="lnkocn">266</a></label>
  <p class="i0" id="266">
    i omplir el nou directori del servidor tftp quan ho hàgim de fer.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#267" class="lnkocn">267</a></label>
  <h6 class="norm" id="267"><a name="267"></a>
    <a name="c4.8.3" ></a><a name="h4.8.3" ></a>4.8.3 Servidor NFS
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#268" class="lnkocn">268</a></label>
  <p class="i0" id="268">
    Un cop l'ordinador ha descarregat, ha arrencat el nucli de Linux i ha carregat el initrd, intentarà muntar la imatge del sistema de fitxers en viu a través d'un servidor NFS.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#269" class="lnkocn">269</a></label>
  <p class="i0" id="269">
    S'ha d'instal·lar el paquet <i>nfs-kernel-server</i>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#270" class="lnkocn">270</a></label>
  <p class="i0" id="270">
    Llavors, fer que la imatge del sistema de fitxers estigui disponible a través de NFS afegint una línia com la següent a <tt>/etc/exports</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#271" class="lnkocn">271</a></label>
  <p class="code" id="271">
    /srv/debian-live *(ro,async,no_root_squash,no_subtree_check)<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#272" class="lnkocn">272</a></label>
  <p class="i0" id="272">
    i informar al servidor NFS sobre aquesta nova exportació amb la següent ordre:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#273" class="lnkocn">273</a></label>
  <p class="code" id="273">
    # exportfs -rv<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#274" class="lnkocn">274</a></label>
  <p class="i0" id="274">
    La configuració d'aquests tres serveis pot ser una mica difícil. És possible que es necessiti una mica de paciència per a aconseguir que tots tres funcionin plegats. Per a obtenir més informació, veure el wiki de syslinux a ‹<a href="http://www.syslinux.org/wiki/index.php/PXELINUX" target="_top">http://www.syslinux.org/wiki/index.php/PXELINUX</a>› o la secció TFTP Net Booting al Manual del Instal·lador de Debian a ‹<a href="http://d-i.alioth.debian.org/manual/ca.i386/ch04s05.html" target="_top">http://d-i.alioth.debian.org/manual/ca.i386/ch04s05.html</a>›. Això pot ajudar, ja que els seus processos són molt similars.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#275" class="lnkocn">275</a></label>
  <h6 class="norm" id="275"><a name="275"></a>
    <a name="c4.8.4" ></a><a name="h4.8.4" ></a>4.8.4 Com provar l'arrencada en xarxa
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#276" class="lnkocn">276</a></label>
  <p class="i0" id="276">
    La creació d'imatges d'arrencada en xarxa es senzilla amb <i>live-build</i>, però provar les imatges en màquines físiques pot costar molt de temps.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#277" class="lnkocn">277</a></label>
  <p class="i0" id="277">
    Per a fer la nostra vida més fàcil, podem utilitzar la virtualització.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#278" class="lnkocn">278</a></label>
  <h6 class="norm" id="278"><a name="278"></a>
    <a name="c4.8.5" ></a><a name="h4.8.5" ></a>4.8.5 Qemu
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#279" class="lnkocn">279</a></label>
  <ul>
  <li class="bullet" id="279">
    Instal·lar <i>qemu</i>, <i>bridge-utils</i>, <i>sudo</i>.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#280" class="lnkocn">280</a></label>
  <p class="i0" id="280">
    Editar <tt>/etc/qemu-ifup</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#281" class="lnkocn">281</a></label>
  <p class="code" id="281">
    #!/bin/sh<br>
sudo -p "Password for $0:" /sbin/ifconfig $1 172.20.0.1<br>
echo "Executing /etc/qemu-ifup"<br>
echo "Bringing up $1 for bridged mode..."<br>
sudo /sbin/ifconfig $1 0.0.0.0 promisc up<br>
echo "Adding $1 to br0..."<br>
sudo /usr/sbin/brctl addif br0 $1<br>
sleep 2<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#282" class="lnkocn">282</a></label>
  <p class="i0" id="282">
    Descarregar o crear un <tt>grub-floppy-netboot</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#283" class="lnkocn">283</a></label>
  <p class="i0" id="283">
    Llançar <tt>qemu</tt> amb "<tt>-net nic,vlan=0 -net tap,vlan=0,ifname=tun0</tt>"
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#284" class="lnkocn">284</a></label>
  <h5 class="norm" id="284"><a name="284"></a>
    <a name="h4.9" ></a><a name="webbooting" ></a>4.9 Webbooting
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#285" class="lnkocn">285</a></label>
  <p class="i0" id="285">
    Webbooting és una manera convenient d'aconseguir i arrencar sistemes vius utilitzant internet com un mitjà. Els requisits per fer webbooting són molt pocs. D'una banda, es necessita un dispositiu amb un carregador d'arrencada, un disc ram inicial i un nucli. D'altra banda, un servidor web per emmagatzemar els fitxers squashfs que contenen el sistema de fitxers.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#286" class="lnkocn">286</a></label>
  <h6 class="norm" id="286"><a name="286"></a>
    <a name="c4.9.1" ></a><a name="h4.9.1" ></a>4.9.1 Obtenir els fitxers webboot
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#287" class="lnkocn">287</a></label>
  <p class="i0" id="287">
    Com de costum, es pot construir les imatges un mateix o utilitzar els fitxers prefabricats, que estan disponibles a la pàgina principal del projecte a ‹<a href="http://debian-live.alioth.debian.org/" target="_top">http://debian-live.alioth.debian.org/</a>›. Les imatges prefabricades són adients per fer proves inicials fins que un pugui afinar les seves pròpies necessitats. Si ja s'ha construït una imatge en viu, els fitxers necessaris pel webbooting es troben al directori de construcció sota <tt>binary/live/</tt>. Els fitxers s'anomenen <tt>vmlinuz</tt>, <tt>initrd.img</tt> i <tt>filesystem.squashfs</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#288" class="lnkocn">288</a></label>
  <p class="i0" id="288">
    També és possible extreure els fitxers d'una imatge iso ja existent. Per tal d'aconseguir això, muntar la imatge de la següent manera:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#289" class="lnkocn">289</a></label>
  <p class="code" id="289">
    # mount -o loop image.iso /mnt<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#290" class="lnkocn">290</a></label>
  <p class="i0" id="290">
    Els fitxers es troben sota el directori <tt>live/</tt>. En aquest cas concret, seria <tt>/mnt/live/</tt>. Aquest mètode té el desavantatge que cal ser root per poder muntar la imatge. No obstant això, té l'avantatge que és fàcil de fer amb un script, i per tant es pot automatitzar.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#291" class="lnkocn">291</a></label>
  <p class="i0" id="291">
    Però, sens dubte, la forma més fàcil d'extreure els fitxers d'una imatge iso i pujar-los al servidor web a la vegada, és utilitzant el midnight commander o <i>mc</i>. Si es té el paquet <i>genisoimage</i> instal·lat, aquest gestor de fitxers de dos panells permet examinar el contingut d'un arxiu iso en un panell i pujar els fitxers via ftp en l'altre panell. Tot i que aquest mètode requereix fer un treball manual, no requereix privilegis de root.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#292" class="lnkocn">292</a></label>
  <h6 class="norm" id="292"><a name="292"></a>
    <a name="c4.9.2" ></a><a name="h4.9.2" ></a>4.9.2 Arrencar imatges webboot
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#293" class="lnkocn">293</a></label>
  <p class="i0" id="293">
    Mentre que alguns usuaris prefereixen utilitzar la virtualització per prova el webbooting, en aquest cas utilitzem maquinari real perquè coincideixi amb el següent cas d'ús, que només ha de ser considerat com un exemple.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#294" class="lnkocn">294</a></label>
  <p class="i0" id="294">
    Per a arrencar una imatge webboot és suficient tenir els components esmentats anteriorment, és a dir, <tt>vmlinuz</tt> i <tt>initrd.img</tt> en una memòria usb dins d'un directori anomenat <tt>live/</tt> i instal·lar syslinux com a gestor d'arrencada. Després, arrencar des de la memòria usb i escriure <tt>fetch=URL/RUTA/AL/FITXER</tt> a les opcions d'arrencada. <i>live-boot</i> descarregarà l'arxiu squashfs i l'emmagatzemarà en la memòria ram. D'aquesta manera, és possible utilitzar el sistema de fitxers comprimit descarregat com si fos un sistema viu normal. Per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#295" class="lnkocn">295</a></label>
  <p class="code" id="295">
    append boot=live components fetch=http://192.168.2.50/images/webboot/filesystem.squashfs<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#296" class="lnkocn">296</a></label>
  <p class="i0" id="296">
    <b>Cas d'ús:</b> Tenir un servidor web en el qual s'ha emmagatzemat dos arxius squashfs, un que conté un escriptori complet, com ara gnome, i un standard. Si es necessita un entorn gràfic per a una màquina, es pot connectar la memòria usb i arrencar la imatge gnome. Si es necessita una de les eines que s'inclouen en el segon tipus d'imatge, potser per a una altra màquina, arrencar des de internet la imatge standard.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#297" class="lnkocn">297</a></label>
  <h1 class="norm" id="297"><a name="297"></a>
    Descripció general de les eines
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#298" class="lnkocn">298</a></label>
  <h4 class="norm" id="298"><a name="298"></a>
    <a name="h5" ></a><a name="descripci_general_de_les_eines" ></a><a name="overview-of-tools" ></a>5. Descripció general de les eines
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#299" class="lnkocn">299</a></label>
  <p class="i0" id="299">
    Aquest capítol conté un resum de les tres eines principals utilitzades en la construcció dels sistemes en viu: <i>live-build</i>, <i>live-boot</i> i <i>live-config</i>.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#300" class="lnkocn">300</a></label>
  <h5 class="norm" id="300"><a name="300"></a>
    <a name="h5.1" ></a><a name="live-build" ></a>5.1 El paquet live-build
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#301" class="lnkocn">301</a></label>
  <p class="i0" id="301">
    <i>live-build</i> és un conjunt de scripts per a crear sistemes en viu. Aquests scripts també s'anomenen «ordres».
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#302" class="lnkocn">302</a></label>
  <p class="i0" id="302">
    La idea darrere de <i>live-build</i> és ser un marc que utilitza un directori de configuració per automatitzar completament i personalitzar tots els aspectes de la construcció d'una imatge en viu.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#303" class="lnkocn">303</a></label>
  <p class="i0" id="303">
    Molts conceptes són similars als utilitzats per a crear paquets Debian amb <i>debhelper</i>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#304" class="lnkocn">304</a></label>
  <ul>
  <li class="bullet" id="304">
    Els scripts tenen una ubicació central per a la configuració del seu funcionament. Amb <i>debhelper</i> aquest és el subdirectori <tt>debian/</tt> d'un arbre de paquets. Per exemple, dh_install buscarà, entre altres, un fitxer anomenat <tt>debian/install</tt> per a determinar quins fitxers han d'existir en un paquet binari en particular. De la mateixa manera, <i>live-build</i> emmagatzema la seva configuració per complet sota un subdirectori <tt>config/</tt>.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#305" class="lnkocn">305</a></label>
  <ul>
  <li class="bullet" id="305">
    Els scripts són independents - és a dir, sempre és segur executar cada ordre.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#306" class="lnkocn">306</a></label>
  <p class="i0" id="306">
    A diferència de <i>debhelper</i>, <i>live-build</i> proporciona les eines per a generar un directori de configuració en esquelet. Això podria ser considerat similar a eines com ara <i>dh-make</i>. Per a més informació sobre aquestes eines, seguiu llegint, ja que la resta d'aquesta secció discuteix les quatre ordres més importants. Tenir en compte que van precedices de <tt>lb</tt> que és una funció genèrica per a les ordres de <i>live-build</i>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#307" class="lnkocn">307</a></label>
  <ul>
  <li class="bullet" id="307">
    <b>lb config</b>: Responsable d'inicialitzar un directori de configuració per al sistema en viu. Consultar  <a href="#lb-config">L'ordre lb config</a>  per a més informació.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#308" class="lnkocn">308</a></label>
  <ul>
  <li class="bullet" id="308">
    <b>lb build</b>: Responsable d'iniciar la creació d'un sistema en viu. Consultar  <a href="#lb-build">L'ordre lb build</a>  per a més informació.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#309" class="lnkocn">309</a></label>
  <ul>
  <li class="bullet" id="309">
    <b>lb clean</b>: Responsable d'eliminar parts de la construcció d'un sistema viu. Consultar  <a href="#lb-clean">L'ordre lb clean</a>  per a més informació.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#310" class="lnkocn">310</a></label>
  <h6 class="norm" id="310"><a name="310"></a>
    <a name="h5.1.1" ></a><a name="lb-config" ></a>5.1.1 L'ordre <tt>lb config</tt>
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#311" class="lnkocn">311</a></label>
  <p class="i0" id="311">
    Com s'ha dit a  <a href="#live-build">live-build</a>,  les seqüències d'ordres que formen part de <i>live-build</i> llegeixen la seva configuració amb l'ordre <tt>source</tt> d'un únic directori anomenat <tt>config/</tt>. Com la construcció d'aquest directori a mà, seria molt costós i propens a errors, es pot utilitzar l'ordre <tt>lb config</tt> per a crear l'arbre inicial de configuració en esquelet.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#312" class="lnkocn">312</a></label>
  <p class="i0" id="312">
    Executar <tt>lb config</tt> sense arguments crea el subdirectori <tt>config/</tt> que s'omple amb alguns paràmetres per defecte en fitxers de configuració, i dos arbres de subdirectoris en esquelet que s'anomenen <tt>auto/</tt> i <tt>local/</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#313" class="lnkocn">313</a></label>
  <p class="code" id="313">
    $ lb config<br>
[2015-01-06 19:25:58] lb config<br>
P: Creating config tree for a debian/stretch/i386 system<br>
P: Symlinking hooks...<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#314" class="lnkocn">314</a></label>
  <p class="i0" id="314">
    Utilitzar <tt>lb config</tt> sense cap tipus d'arguments seria convenient per als usuaris que necessiten una imatge molt bàsica, o que tinguin la intenció de proporcionar una configuració més completa més tard mitjançant <tt>auto/config</tt> (Veure  <a href="#managing-a-configuration">Gestió d'una configuració</a>  per a més detalls).
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#315" class="lnkocn">315</a></label>
  <p class="i0" id="315">
    Normalment, s'haurà d'especificar algunes opcions. Per exemple, per a especificar quin gestor de paquets utilitzar durant la construcció de la imatge:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#316" class="lnkocn">316</a></label>
  <p class="code" id="316">
    $ lb config --apt aptitude<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#317" class="lnkocn">317</a></label>
  <p class="i0" id="317">
    És possible especificar diverses opcions, com ara:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#318" class="lnkocn">318</a></label>
  <p class="code" id="318">
    $ lb config --binary-images netboot --bootappend-live "boot=live components hostname=live-host username=live-user" ...<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#319" class="lnkocn">319</a></label>
  <p class="i0" id="319">
    Una llista completa d'opcions està disponible a la pàgina del manual <tt>lb_config</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#320" class="lnkocn">320</a></label>
  <h6 class="norm" id="320"><a name="320"></a>
    <a name="h5.1.2" ></a><a name="lb-build" ></a>5.1.2 L'ordre <tt>lb build</tt>
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#321" class="lnkocn">321</a></label>
  <p class="i0" id="321">
    L'ordre <tt>lb build</tt> llegeix la configuració del directori <tt>config/</tt>. A continuació, executa les ordres de nivell inferior necessàries per a construir el sistema en viu.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#322" class="lnkocn">322</a></label>
  <h6 class="norm" id="322"><a name="322"></a>
    <a name="h5.1.3" ></a><a name="lb-clean" ></a>5.1.3 L'ordre <tt>lb clean</tt>
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#323" class="lnkocn">323</a></label>
  <p class="i0" id="323">
    L'ordre <tt>lb clean</tt> s'encarrega d'eliminar diverses parts d'una construcció per a que altres construccions posteriors puguin començar des d'un estat net. Per defecte, es netegen les etapes <tt>chroot</tt>, <tt>binary</tt> i <tt>source</tt>, però la caché es manté intacta. A més, es poden netejar etapes individuals. Per exemple, si s'han fet canvis que només afecten a la fase binary, utilitzar <tt>lb clean --binary</tt> abans de construir un nou binary. Si els canvis modifiquen el bootstrap i/o la caché de paquets, per exemple, canvis en les opcions <tt>--mode</tt>, <tt>--architecture</tt> o <tt>--bootstrap</tt>, s'ha d'utilitzar <tt>lb clean --purge</tt>. Veure la pàgina del manual de <tt>lb_clean</tt> per a una llista completa d'opcions.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#324" class="lnkocn">324</a></label>
  <h5 class="norm" id="324"><a name="324"></a>
    <a name="h5.2" ></a><a name="live-boot" ></a>5.2 El paquet live-boot
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#325" class="lnkocn">325</a></label>
  <p class="i0" id="325">
    <i>live-boot</i> és un conjunt de scripts per a proporcionar hooks a <i>initramfs-tools</i>, que s'utilitzen per a generar un initramfs capaç d'arrencar sistemes vius, com ara els creats per <i>live-build</i>. Això inclou les ISOs dels sistemes en viu, netboot tarballs i imatges per a memòries USB.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#326" class="lnkocn">326</a></label>
  <p class="i0" id="326">
    En el moment d'arrencar, buscarà medis de només lectura que continguin un directori <tt>/live/</tt> on s'emmagatzema un sistema de fitxers arrel (sovint una imatge de un sistema de fitxers comprimit squashfs). Si el troba, crearà un entorn d'escriptura, utilitzant aufs, per a que puguin arrencar sistemes com Debian o similars.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#327" class="lnkocn">327</a></label>
  <p class="i0" id="327">
    Més informació sobre ramfs inicial a Debian es pot trobar al Debian Linux Kernel Handbook ‹<a href="http://kernel-handbook.alioth.debian.org/" target="_top">http://kernel-handbook.alioth.debian.org/</a>› al capítol sobre initramfs.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#328" class="lnkocn">328</a></label>
  <h5 class="norm" id="328"><a name="328"></a>
    <a name="h5.3" ></a><a name="live-config" ></a>5.3 El paquet live-config
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#329" class="lnkocn">329</a></label>
  <p class="i0" id="329">
    <i>live-config</i> consta dels scripts que s'executen durant l'arrencada després de <i>live-boot</i> per a configurar el sistema en viu de forma automàtica. S'ocupa de tasques com ara l'establiment de les locales, el nom d'amfitrió, la zona horària, crear l'usuari en viu, l'inhibició de tasques de cron i l'inici automàtic de sessió per a l'usuari en viu.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#330" class="lnkocn">330</a></label>
  <h1 class="norm" id="330"><a name="330"></a>
    Gestió d'una configuració
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#331" class="lnkocn">331</a></label>
  <h4 class="norm" id="331"><a name="331"></a>
    <a name="h6" ></a><a name="gesti_duna_configuraci" ></a><a name="managing-a-configuration" ></a>6. Gestió d'una configuració
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#332" class="lnkocn">332</a></label>
  <p class="i0" id="332">
    En aquest capítol s'explica com gestionar una configuració d'un sistema en viu des de la seva creació inicial, a través de revisions i versions successives de tant el programari <i>live-build</i> com de la imatge en viu en si mateixa.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#333" class="lnkocn">333</a></label>
  <h5 class="norm" id="333"><a name="333"></a>
    <a name="c6.1" ></a><a name="h6.1" ></a>6.1 Gestionar canvis en la configuració
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#334" class="lnkocn">334</a></label>
  <p class="i0" id="334">
    Les configuracions de sistemes en viu poques vegades són perfectes al primer intent. Passar opcions a <tt>lb config</tt> des de la línea d'ordres pot estar be per a construir una imatge una vegada, però és més típic revisar aquestes opcions i construir de nou fins que se'n estigui satisfet. Per a donar suport a aquests canvis, es poden utilitzar scripts auto que assegurin que la configuració es manté en un estat consistent.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#335" class="lnkocn">335</a></label>
  <h6 class="norm" id="335"><a name="335"></a>
    <a name="c6.1.1" ></a><a name="h6.1.1" ></a>6.1.1 Per què utilitzar scripts auto? Què fan?
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#336" class="lnkocn">336</a></label>
  <p class="i0" id="336">
    L'ordre <tt>lb config</tt> emmagatzema les opcions que se li passen als fitxers de <tt>config/*</tt>, juntament amb moltes altres opcions que estan establertes als valors per defecte. Si s'executa un cop més, <tt>lb config</tt> no es restablirà cap de les opcios dependents basades en les opcions inicials. Així, per exemple, si s'executa de nou <tt>lb config</tt> amb un nou valor per a <tt>--binary-images</tt>, totes les opcions que en depenen que es van omplir per al tipus de imatge per defecte ja no poden funcionar amb la nova. Aquests fitxers no estan destinats a ser llegits o editats. S'emmagatzemen els valors de més de cent opcions, i ningú pot veure les opcions que s'han especificat realment. I finalment, si s'executa <tt>lb config</tt> i a continuació s'actualitza <i>live-build</i> i el nom d'una opció canvia, <tt>config/*</tt> encara contindrà les variables de l'opció vella que ja no són vàlides.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#337" class="lnkocn">337</a></label>
  <p class="i0" id="337">
    Per totes aquestes raons, els scripts <tt>auto/*</tt> ens fan la vida més fàcil. Són simples embolcalls per les ordres <tt>lb config</tt>, <tt>lb build</tt> i <tt>lb clean</tt> dissenyats per ajudar a gestionar una configuració. Només cal crear un script <tt>auto/config</tt> que contingui totes les opcions que es desitgin per a <tt>lb config</tt>, i un <tt>auto/clean</tt> que elimini els fitxers que continguin diversos valors de variables de configuració, i el script <tt>auto/build</tt> guarda un <tt>build.log</tt> de cada construcció. Cada vegada que s'executi l'ordre <tt>lb</tt> corresponent, aquests fitxers seran executats automàticament. L'ús d'aquests scripts assegurarà que la configuració sigui més senzilla de llegir i que guardi una coherència interna d'una reversió a una altra. A més a més serà més fàcil identificar i solucionar les opcions que s'han de canviar al actualitzar d'una versió de <i>live-build</i> a la següent després de llegir la documentació.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#338" class="lnkocn">338</a></label>
  <h6 class="norm" id="338"><a name="338"></a>
    <a name="c6.1.2" ></a><a name="h6.1.2" ></a>6.1.2 Utilitzar scripts auto d'exemple
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#339" class="lnkocn">339</a></label>
  <p class="i0" id="339">
    Per a més comoditat, <i>live-build</i> ve amb uns scripts d'exemple per a copiar i editar. Iniciar una nova configuració per defecte, i a continuació, copiar els exemples:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#340" class="lnkocn">340</a></label>
  <p class="code" id="340">
    $ mkdir mylive &amp;&amp; cd mylive &amp;&amp; lb config<br>
$ mkdir auto<br>
$ cp /usr/share/doc/live-build/examples/auto/* auto/<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#341" class="lnkocn">341</a></label>
  <p class="i0" id="341">
    Editar <tt>auto/config</tt>, afegint les opcions més adients. Per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#342" class="lnkocn">342</a></label>
  <p class="code" id="342">
    #!/bin/sh<br>
lb config noauto \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--architectures i386 \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--linux-flavours 686-pae \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--binary-images hdd \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--mirror-bootstrap http://ftp.ch.debian.org/debian/ \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--mirror-binary http://ftp.ch.debian.org/debian/ \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"${@}"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#343" class="lnkocn">343</a></label>
  <p class="i0" id="343">
    Ara, cada vegada que s'utilitzi <tt>lb config</tt>, <tt>auto/config</tt> restablirà la configuració basada en aquestes opcions. Quan es vulgui fer canvis, editar les opcions d'aquest fitxer en lloc de passar-les a <tt>lb config</tt>. Quan s'utilitza <tt>lb clean</tt>, <tt>auto/clean</tt> netejarà els fitxers de <tt>config/*</tt> juntament amb els altres productes de construcció. I, finalment, quan s'utilitza <tt>lb build</tt>, es crea un log de la construcció mitjançant <tt>auto/build</tt> anomenat <tt>build.log</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#344" class="lnkocn">344</a></label>
  <p class="i0" id="344">
    <b>Nota:</b> Aquí s'utilitza un paràmetre especial <tt>noauto</tt> per a suprimir un altra crida a <tt>auto/config</tt>, la qual cosa impedeix la recursivitat infinita. Assegurar-se de no eliminarlo accidentalment fent canvis. També, tenir cura de que quan es divideix l'ordre <tt>lb config</tt> a través de diverses línies per a facilitar la lectura, com es mostra en l'exemple anterior, no s'oblidi la barra invertida (\) al final de cada línia que segueix a la següent.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#345" class="lnkocn">345</a></label>
  <h5 class="norm" id="345"><a name="345"></a>
    <a name="h6.2" ></a><a name="clone-configuration-via-git" ></a>6.2 Clonar una configuració publicada via Git
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#346" class="lnkocn">346</a></label>
  <p class="i0" id="346">
    Utilitzar l'opció <tt>lb config --config</tt> per a clonar un repositori Git que contingui una configuració en viu. Si es vol basar la configuració en un repositori mantingut pel Live Systems Project, mirar el repositori a ‹<a href="http://http://anonscm.debian.org/cgit/debian-live/" target="_top">http://http://anonscm.debian.org/cgit/debian-live/</a>› amb el nom <tt>live-images</tt> sota el títol <tt>Packages</tt>. Aquest repositori conté les configuracions per a les  <a href="#downloading-prebuilt-images">imatges prefabricades</a>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#347" class="lnkocn">347</a></label>
  <p class="i0" id="347">
    Per exemple, per a construir una imatge standard, utilitzar el repositori <tt>live-images</tt> de la manera següent:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#348" class="lnkocn">348</a></label>
  <p class="code" id="348">
    $ mkdir live-images &amp;&amp; cd live-images<br>
$ lb config --config git://http://anonscm.debian.org/git/debian-live/live-images.git <br>
$ cd images/standard<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#349" class="lnkocn">349</a></label>
  <p class="i0" id="349">
    Editar <tt>auto/config</tt> i qualsevol altra cosa necessària dins l'arbre <tt>config</tt> per a satisfer les necessitats pròpies. Per exemple, per a fer les imatges prefabricades no oficials que contenen paquets de la secció non-free simplement s'afegeix <tt>--archive-areas "main contrib non-free"</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#350" class="lnkocn">350</a></label>
  <p class="i0" id="350">
    Si es desitja, es pot definir una drecera en la configuració de Git, afegint el següent a <tt>${HOME}/.gitconfig</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#351" class="lnkocn">351</a></label>
  <p class="code" id="351">
    [url "git://http://anonscm.debian.org/git/debian-live/"] <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insteadOf = lso:<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#352" class="lnkocn">352</a></label>
  <p class="i0" id="352">
    Això permet utilitzar <tt>lso:</tt> en qualsevol lloc on cal especificar la direcció d'un repositori git. També es pot omitir el sufix <tt>.git</tt>, i així, començar una nova imatge amb aquesta configuració és tan fàcil com:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#353" class="lnkocn">353</a></label>
  <p class="code" id="353">
    $ lb config --config lso:live-images<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#354" class="lnkocn">354</a></label>
  <p class="i0" id="354">
    Clonar tot el repositori <tt>live-images</tt> còpia les configuracions utilitzades per diverses imatges. Si es vol construir una imatge diferent després d'haver acabat amb la primera, canviar a un altre directori i un altre cop i, opcionalment, fer els canvis per a adaptar-les a les necessitats pròpies.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#355" class="lnkocn">355</a></label>
  <p class="i0" id="355">
    En qualsevol cas, recordar que cada vegada que s'ha de construir una imatge, s'ha de fer com a superusuari: <tt>lb build</tt>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#356" class="lnkocn">356</a></label>
  <h1 class="norm" id="356"><a name="356"></a>
    Personalització dels continguts
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#357" class="lnkocn">357</a></label>
  <h4 class="norm" id="357"><a name="357"></a>
    <a name="h7" ></a><a name="visi_general_de_la_personalitzaci" ></a><a name="customization-overview" ></a>7. Visió general de la personalització
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#358" class="lnkocn">358</a></label>
  <p class="i0" id="358">
    En aquest capítol s'ofereix una visió general de les diverses formes en què es pot personalitzar un sistema en viu.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#359" class="lnkocn">359</a></label>
  <h5 class="norm" id="359"><a name="359"></a>
    <a name="c7.1" ></a><a name="h7.1" ></a>7.1 Configuració durant la construcció vs. durant l'arrencada
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#360" class="lnkocn">360</a></label>
  <p class="i0" id="360">
    La configuració de un sistema en viu es divideix en opcions en temps de construcció que són les opcions que s'apliquen durant la seva creació i les opcions d'arrencada del sistema que s'apliquen durant l'arrencada. Les opcions d'arrencada es divideixen en les què ocorren al principi de l'arrencada, aplicades pel paquet <i>live-boot</i>, i les que ocorren més tard en l'arrencada, aplicades per <i>live-config</i>. Qualsevol opció durant l'arrencada pot ser modificada per l'usuari, especificant-la a l'indicador d'arrencada. La imatge també pot ser construïda amb els paràmetres d'arrencada per defecte perquè els usuaris puguin simplement arrencar el sistema en viu sense especificar cap altra opció, ja que tots els valors per defecte són adequats. En particular, l'argument <tt>lb --bootappend-live</tt> consta de les opcions de línia d'ordres per defecte del nucli per al sistema en viu, com ara la persistència, la distribució del teclat o la zona horària. Veure  <a href="#customizing-locale-and-language">Personalització de l'entorn local i el llenguatge</a>,  per exemple.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#361" class="lnkocn">361</a></label>
  <p class="i0" id="361">
    Les opcions de configuració durant la construcció es descriuen a la pàgina del manual de <tt>lb config</tt>. Les opcions durant l'arrencada es descriuen a les pàgines del manual de <i>live-boot</i> i <i>live-config</i>. Malgrat que els paquets <i>live-boot</i> i <i>live-config</i> s'instal·len en el sistema en viu que s'està construint, és recomana instal·lar-los en el sistema de construcció per a tenir una referència fàcil quan s'està treballant en la configuració. És segur fer-ho, ja que cap dels scripts continguts en ells s'executen a menys que el sistema s'hagi configurat com a sistema viu.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#362" class="lnkocn">362</a></label>
  <h5 class="norm" id="362"><a name="362"></a>
    <a name="h7.2" ></a><a name="stages-of-the-build" ></a>7.2 Etapes de la construcció
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#363" class="lnkocn">363</a></label>
  <p class="i0" id="363">
    El procés de construcció es divideix en etapes, amb personalitzacions diferentes aplicades successivament en cada una. La primera etapa que s'executa es la fase <b>bootstrap</b>. Aquesta és la fase inicial de poblar el directori chroot amb paquets per a fer un sistema Debian bàsic. Això és seguit per l'etapa <b>chroot</b>, que completa la construcció del directori chroot, omplint-lo amb tots els paquets que s'indiquen en la configuració, juntament amb qualsevol altre material. La majoria de personalitzacions dels continguts es produeixen en aquesta etapa. L'etapa final de preparació de la imatge en viu és l'etapa <b>binary</b>, quan es construeix una imatge capaç d'arrencar, amb el contingut del directori chroot per a construir el sistema de fitxers arrel per al sistema en viu, i que inclou el programa de instal·lació i qualsevol altre material addicional en el medi de destinació fora del sistema de fitxers del sistema en viu. Després de construir la imatge en viu, si està habilitat, s'inclou el codi font original a l'etapa <b>source</b>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#364" class="lnkocn">364</a></label>
  <p class="i0" id="364">
    Dins de cadascuna d'aquestes etapes, hi ha una seqüència particular en la qual s'apliquen les ordres. Això es fa de manera que es garanteixi que les personalitzacions es poden superposar de manera raonable. Per exemple, dins l'etapa <b>chroot</b>, les preconfiguracions (preseeds) s'apliquen abans que s'instal·lin els paquets, els paquets s'instal·len abans que es copiïn els fitxers locals, i els ganxos s'executen més tard, després que tots els materials estiguin al seu lloc.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#365" class="lnkocn">365</a></label>
  <h5 class="norm" id="365"><a name="365"></a>
    <a name="c7.3" ></a><a name="h7.3" ></a>7.3 Suplementar lb config amb fitxers
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#366" class="lnkocn">366</a></label>
  <p class="i0" id="366">
    Encara que <tt>lb config</tt> crea una configuració en esquelet al directori <tt>config/</tt>, per a aconseguir els objectius, pot ser necessari proporcionar fitxers addicionals en els subdirectoris de <tt>config/</tt>. Depenent d'on s'emmagatzemen els fitxers en la configuració, poden ser copiats en el sistema de fitxers del sistema en viu o en el sistema de fitxers de la imatge binària, o es pot proporcionar configuracions en temps de construcció del sistema que serien engorroses de passar com opcions de línia d'ordres. Es pot incloure coses com ara llistes personalitzades de paquets, art personalitzat o scripts ganxo per a ser executats ja sigui en temps de construcció o en temps d'arrencada, augmentant la flexibilitat ja considerable de debian-live amb codi propi.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#367" class="lnkocn">367</a></label>
  <h5 class="norm" id="367"><a name="367"></a>
    <a name="c7.4" ></a><a name="h7.4" ></a>7.4 Tasques de personalització
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#368" class="lnkocn">368</a></label>
  <p class="i0" id="368">
    Els següents capítols s'organitzen pel tipus de tasques de personalització que els usuaris solen realitzar:  <a href="#customizing-package-installation">Personalització de la instal·lació de paquets</a>,   <a href="#customizing-contents">Personalització dels continguts</a>  i  <a href="#customizing-locale-and-language">Personalització de l'entorn local i el llenguatge</a>  cobreixen només algunes de les coses que es poden fer.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#369" class="lnkocn">369</a></label>
  <h1 class="norm" id="369"><a name="369"></a>
    Personalització de la instal·lació de paquets
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#370" class="lnkocn">370</a></label>
  <h4 class="norm" id="370"><a name="370"></a>
    <a name="h8" ></a><a name="personalitzaci_de_la_installaci_de_paquets" ></a><a name="customizing-package-installation" ></a>8. Personalització de la instal·lació de  paquets
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#371" class="lnkocn">371</a></label>
  <p class="i0" id="371">
    La personalització més bàsica d'un sistema en viu pot ser la selecció dels paquets que seran inclosos en la imatge. Aquest capítol explica les diverses opcions de <i>live-build</i> per a personalitzar la instal·lació de paquets durant la construcció. Les opcions més importants que influeixen en els paquets que estan disponibles per a ser instal·lats en la imatge són les àrees de distribució i el arxiu. Per a garantir velocitats de descàrrega decents, s'ha de triar un mirall de distribució proper. També es pot incloure repositoris de backports, paquets experimentals o personalitzats, o incloure paquets directament com si fossin fitxers. Es poden definir llistes de paquets, incloent-hi els metapaquets que instal·laran diversos paquets relacionats alhora, com ara paquets per a un ordinador d'escriptori o un llenguatge en particular. Finalment, una sèrie d'opcions donen un cert control sobre <i>apt</i> o si es prefereix <i>aptitude</i>, quan s'instal·len els paquets durant la construcció. Això pot ser útil si s'utilitza un proxy, es vol desactivar la instal·lació de paquets recomanats per a estalviar espai, o hi ha la necessitat de controlar quines versions dels paquets s'instal·len mitjançant la tècnica pinning d'APT, per nomenar algunes possibilitats.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#372" class="lnkocn">372</a></label>
  <h5 class="norm" id="372"><a name="372"></a>
    <a name="c8.1" ></a><a name="h8.1" ></a>8.1 Fonts dels paquets
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#373" class="lnkocn">373</a></label>
  <h6 class="norm" id="373"><a name="373"></a>
    <a name="c8.1.1" ></a><a name="h8.1.1" ></a>8.1.1 Distribució, àrees d'arxiu i mode
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#374" class="lnkocn">374</a></label>
  <p class="i0" id="374">
    La distribució que es tria té una gran importància en els paquets que estan disponibles per a incloure en una imatge en viu. Només cal especificar el nom en clau, que per defecte és <b>buster</b> per a la versió <b>buster</b> de <i>live-build</i>. Qualsevol distribució disponible a l'arxiu pot ser especificada pel seu nom en clau aquí. (Veure  <a href="#terms">Termes</a>  per a més detalls.) L'opció <tt>--distribution</tt> no només influeix en l'origen dels paquets dins l'arxiu, sinó que també instrueix a <i>live-build</i> per a comportar-se segons sigui necessari per a construir cada distribució suportada. Per exemple, per a construir la distribució <b>unstable</b>, <b>sid</b>, s'ha d'especificar:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#375" class="lnkocn">375</a></label>
  <p class="code" id="375">
    $ lb config --distribution sid<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#376" class="lnkocn">376</a></label>
  <p class="i0" id="376">
    A l'arxiu de la distribució, les àrees són les divisions principals de l'arxiu. A Debian, es tracta de <tt>main</tt>, <tt>contrib</tt> i <tt>non-free</tt>. Només <tt>main</tt> conté el programari que és part de la distribució Debian, per tant és el valor per defecte. Es poden especificar un o més valors, per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#377" class="lnkocn">377</a></label>
  <p class="code" id="377">
    $ lb config --archive-areas "main contrib non-free"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#378" class="lnkocn">378</a></label>
  <p class="i0" id="378">
    És dona suport experimental a alguns derivats de Debian a través de l'opció <tt>--mode</tt>. Per defecte, aquesta opció és <tt>debian</tt> però només si s'està construint en un sistema Debian o en un sistema desconegut. Si s'especifica amb <tt>lb config</tt> que es vol construir un dels derivats suportats alehores es modificaran les opcions per a crear aquest derivat. Si per exemple s'utilitza <tt>lb config</tt> amb el mode <tt>ubuntu</tt>, s'utilitzarà el nom de la distribució i les àrees dels arxius del derivat especificat en lloc dels de Debian. El «mode» també modifica el comportament de <i>live-build</i> per a adaptar-lo als derivats.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#379" class="lnkocn">379</a></label>
  <p class="i0" id="379">
    <b>Nota:</b> Els projectes per als quals s'han afegit aquests modes són els principals responsables de donar suport als usuaris d'aquestes opcions. El Live Systems Project, al seu torn, dona suport de desenvolupament només sobre una base de millor esforç, basada en les informacions proporcionades pels projectes derivats ja que nosaltres no desenvolupem ni donem suport a aquests derivats.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#380" class="lnkocn">380</a></label>
  <h6 class="norm" id="380"><a name="380"></a>
    <a name="c8.1.2" ></a><a name="h8.1.2" ></a>8.1.2 Miralls de distribució
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#381" class="lnkocn">381</a></label>
  <p class="i0" id="381">
    L'arxiu de Debian es replica a través d'una àmplia xarxa de miralls a tot el món perquè la gent de cada regió pugui triar un mirall proper amb la millor velocitat de descàrrega. Cadascuna de les opcions <tt>--mirror-*</tt> governa quin mirall de distribució s'utilitzarà en les diverses etapes de la construcció. Recordar de  <a href="#stages-of-the-build">Etapes de la construcció</a>  que l'etapa <b>bootstrap</b> es quan el chroot s'omple inicialment per <i>debootstrap</i> amb un sistema mínim i l'etapa <b>chroot</b> és quan s'utilitza el chroot per a la construcció del sistema de fitxers del sistema en viu. D'aquesta manera, s'utilitzen els miralls corresponents per a aquestes etapes, i més tard, durant l'etapa <b>binary</b> s'utilitzen els valors <tt>--mirror-binary</tt> i <tt>--mirror-binary-security</tt> substituint qualsevol mirall utilitzat en una etapa anterior.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#382" class="lnkocn">382</a></label>
  <h6 class="norm" id="382"><a name="382"></a>
    <a name="h8.1.3" ></a><a name="distribution-mirrors-build-time" ></a>8.1.3 Miralls de distribució utilitzats en temps  de construcció
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#383" class="lnkocn">383</a></label>
  <p class="i0" id="383">
    Per a establir els miralls de la distrubució utilitzats en temps de construcció perquè apuntin a una rèplica local, és suficient establir <tt>--mirror-bootstrap</tt> i <tt>--mirror-chroot-security</tt> de la manera següent.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#384" class="lnkocn">384</a></label>
  <p class="code" id="384">
    $ lb config --mirror-bootstrap http://localhost/debian/ \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--mirror-chroot-security http://localhost/debian-security/<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#385" class="lnkocn">385</a></label>
  <p class="i0" id="385">
    El mirall per al chroot, especificat per l'opció <tt>--mirror-chroot</tt>, per defecte pren el mateix valor que <tt>--mirror-bootstrap</tt>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#386" class="lnkocn">386</a></label>
  <h6 class="norm" id="386"><a name="386"></a>
    <a name="c8.1.4" ></a><a name="h8.1.4" ></a>8.1.4 Miralls de distribució utilitzats en temps d'execució
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#387" class="lnkocn">387</a></label>
  <p class="i0" id="387">
    Les opcions <tt>--mirror-binary*</tt> governen els miralls de distribució que acaben a la imatge binària. Aquestes poden ser utilitzades per a instal·lar paquets addicionals mentre s'executa el sistema en viu. Els valors per defecte fan servir <tt>httpredir.debian.org</tt>, un servei que tria un mirall geogràficament a prop en funció, entre altres coses, de la familia de la IP de l'usuari i de la disponibilitat del mirall. Aquesta és una opció adequada quan no es pot predir quin serà el millor mirall per a tots els usuaris. O es pot especificar els valors propis com es mostra en l'exemple següent. Una imatge construïda a partir d'aquesta configuració només seria convenient per als usuaris en una xarxa on "<tt>mirror</tt>" és abastable.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#388" class="lnkocn">388</a></label>
  <p class="code" id="388">
    $ lb config --mirror-binary http://mirror/debian/ \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--mirror-binary-security http://mirror/debian-security/ \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--mirror-binary-backports http://mirror/debian-backports/<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#389" class="lnkocn">389</a></label>
  <h6 class="norm" id="389"><a name="389"></a>
    <a name="h8.1.5" ></a><a name="additional-repositories" ></a>8.1.5 Repositoris addicionals
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#390" class="lnkocn">390</a></label>
  <p class="i0" id="390">
    És possible afegir més repositoris, ampliant les opcions de paquets més enllà dels disponibles en la pròpia distribució de destinació. Aquests poden ser, per exemple, per a backports, experimentals o paquets personalitzats. Per a configurar repositoris addicionals, crear els fitxers <tt>config/archives/your-repository.list.chroot</tt>, i/o <tt>config/archives/your-repository.list.binary</tt>. Igual que amb les opcions <tt>--mirror-*</tt> aquest regeix els repositoris utilitzats en l'étapa <b>chroot</b> durant la construcció de la imatge, i a l'étapa <b>binary</b>, és a dir, per a ser utilitzades quan s'executa el sistema en viu.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#391" class="lnkocn">391</a></label>
  <p class="i0" id="391">
    Per exemple, <tt>config/archives/live.list.chroot</tt> permet instal·lar paquets des del repositori d'instantànies de debian-live en el moment de construcció del sistema viu.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#392" class="lnkocn">392</a></label>
  <p class="code" id="392">
    deb http://debian-live.alioth.debian.org/ sid-snapshots main contrib non-free<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#393" class="lnkocn">393</a></label>
  <p class="i0" id="393">
    Si s'afegeix la mateixa línia a <tt>config/archives/live.list.binary</tt>, el repositori sera afegit al directori <tt>/etc/apt/sources.list.d/</tt> del sistema viu.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#394" class="lnkocn">394</a></label>
  <p class="i0" id="394">
    Si aquests fitxers existeixen, són utilitzats de forma automàtica.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#395" class="lnkocn">395</a></label>
  <p class="i0" id="395">
    També s'ha de posar la clau GPG utilitzada per a signar el repositori en fitxers <tt>config/archives/your-repository.key.{binary,chroot}</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#396" class="lnkocn">396</a></label>
  <p class="i0" id="396">
    En cas de necessitar un APT pinning personalitzat, es poden col·locar les preferències APT en fitxers <tt>config/archives/your-repository.pref.{binary,chroot}</tt>, que seran afegits automàticament al sistema en viu al directori <tt>/etc/apt/preferences.d/</tt>.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#397" class="lnkocn">397</a></label>
  <h5 class="norm" id="397"><a name="397"></a>
    <a name="h8.2" ></a><a name="choosing-packages-to-install" ></a>8.2 Selecció dels paquets a instal·lar
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#398" class="lnkocn">398</a></label>
  <p class="i0" id="398">
    Hi ha una sèrie de formes de triar els paquets que <i>live-build</i> instal·larà en la imatge, que abasta una varietat de necessitats diferents. Es pot simplement anomenar paquets individualment per a instal·lar en una llista de paquets. També es pot optar per utilitzar metapaquets a les llistes, o seleccionar-los utilitzant camps de control de fitxers de paquets. I, finalment, es poden copiar paquets com si fossin fitxers dins del arbre <tt>config/</tt>, que és un mètode que s'adapta perfectament a fer proves amb paquets nous o experimentals abans de afegirlos a un repositori.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#399" class="lnkocn">399</a></label>
  <h6 class="norm" id="399"><a name="399"></a>
    <a name="h8.2.1" ></a><a name="package-lists" ></a>8.2.1 Llistes de paquets
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#400" class="lnkocn">400</a></label>
  <p class="i0" id="400">
    Les llistes de paquets són una forma eficaç d'expressar quins paquets han de ser instal·lats. La sintaxi de la llista suporta seccions condicionals que fa que sigui fàcil construir llistes i adaptar-les per al propi ús en múltiples configuracions. Els noms dels paquets també poden ser injectats a la llista amb ajudants de l'intèrpret d'ordres en temps de construcció.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#401" class="lnkocn">401</a></label>
  <p class="i0" id="401">
    <b>Nota:</b>  El comportament de <i>live-build</i> a l'hora d'especificar un paquet que no existeix està determinat per la elecció que es faci de l'eina APT. Veure  <a href="#choosing-apt-or-aptitude">Elegir apt or aptitude</a>  per a més detalls.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#402" class="lnkocn">402</a></label>
  <h6 class="norm" id="402"><a name="402"></a>
    <a name="h8.2.2" ></a><a name="using-metapackages" ></a>8.2.2 Ús dels metapaquets
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#403" class="lnkocn">403</a></label>
  <p class="i0" id="403">
    La forma més senzilla per a omplir la llista de paquets és utilitzar una tasca metapaquet mantinguda per una distribució. Per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#404" class="lnkocn">404</a></label>
  <p class="code" id="404">
    $ lb config<br>
$ echo task-gnome-desktop &gt; config/package-lists/desktop.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#405" class="lnkocn">405</a></label>
  <p class="i0" id="405">
    Això reemplaça l'antic mètode de llistes predefinides de <tt>live-build</tt> 2.x. A diferència de les llistes predefinides, els metapaquets no són específics del projecte Live Systems. Per contra, són mantinguts per grups d'especialistes que treballen dins la distribució i per tant, reflecteixen el consens de cada grup sobre els paquets que serviran millor a les necessitats dels usuaris. A més, abasten una gamma molt més àmplia de casos d'ús que les llistes predefinides que substitueixen.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#406" class="lnkocn">406</a></label>
  <p class="i0" id="406">
    Tots els metapaquets tenen el prefix <tt>task-</tt>, de manera que una forma ràpida de determinar quins estan disponibles (encara que pot contenir un grapat d'entrades falses que coincideixin amb el nom, però que no són metapaquets) és fer coincidir el nom del paquet amb:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#407" class="lnkocn">407</a></label>
  <p class="code" id="407">
    $ apt-cache search --names-only ^task-<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#408" class="lnkocn">408</a></label>
  <p class="i0" id="408">
    A més d'aquests, es troben altres metapaquets amb diverses finalitats. Alguns són subconjunts de paquets de tasques més àmplies, com <tt>gnome-core</tt>, mentre que altres són parts individuals especialitzades de un Debian Pure Blend, com els metapaquets <tt>education-*</tt>. Per a obtenir una llista de tots els metapaquets que hi ha a l'arxiu, instal·lar el paquet <tt>debtags</tt> i llistar tots els paquets amb l'etiqueta <tt>role::metapackage</tt> de la següent manera:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#409" class="lnkocn">409</a></label>
  <p class="code" id="409">
    $ debtags search role::metapackage<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#410" class="lnkocn">410</a></label>
  <h6 class="norm" id="410"><a name="410"></a>
    <a name="c8.2.3" ></a><a name="h8.2.3" ></a>8.2.3 Llistes locals de paquets
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#411" class="lnkocn">411</a></label>
  <p class="i0" id="411">
    Ja sigui afegint metapaquets a una llista, paquets individuals, o una combinació d'ambdós, totes les llistes de paquets locals s'emmagatzemen a <tt>config/package-lists/</tt>. Es pot utilitzar més d'una llista i això es presta molt bé als dissenys modulars. Per exemple, es pot decidir dedicar una llista a una elecció particular d'escriptori, l'altra a una col·lecció de paquets relacionats que puguin ser fàcilment utilitzats al damunt d'un escriptori diferent. Això permet experimentar amb diferents combinacions de conjunts de paquets amb un mínim d'esforç, intercanviant llistes comunes entre els diferents projectes d'imatges en viu.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#412" class="lnkocn">412</a></label>
  <p class="i0" id="412">
    Les llistes de paquets que es troben en aquest directori han de tenir el sufix <tt>.list</tt> per a ser processades, i a més a més un sufix d'etapa adicional <tt>.chroot</tt> o <tt>.binary</tt> per a indicar per a quina etapa és la llista.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#413" class="lnkocn">413</a></label>
  <p class="i0" id="413">
    <b>Nota:</b> Si no s'especifica el sufix d'etapa, la llista s'utilitzarà per a ambdues etapes. Normalment, s'especifica <tt>.list.chroot</tt> de manera que els paquets només s'instal·laran al sistema de fitxers en viu i no hi haura una còpia extra del <tt>.deb</tt> en el medi.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#414" class="lnkocn">414</a></label>
  <h6 class="norm" id="414"><a name="414"></a>
    <a name="c8.2.4" ></a><a name="h8.2.4" ></a>8.2.4 Llistes locals de paquets per a l'etapa binary
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#415" class="lnkocn">415</a></label>
  <p class="i0" id="415">
    Per a crear una llista per a l'etapa binary, crear un fitxer amb el sufix <tt>.list.binary</tt> a <tt>config/package-lists/</tt>. Aquests paquets no s'instal·len al sistema de fitxers en viu però s'inclouen en el medi en viu al directori <tt>pool/</tt>. Un ús típic d'aquesta llista seria amb una de les variants del instal·lador non-live. Com s'ha esmentat anteriorment, si es vol que aquesta llista sigui la mateixa que la llista de l'etapa chroot, simplement utilitzar el sufix <tt>.list</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#416" class="lnkocn">416</a></label>
  <h6 class="norm" id="416"><a name="416"></a>
    <a name="h8.2.5" ></a><a name="generated-package-lists" ></a>8.2.5 Generar llistes de paquets
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#417" class="lnkocn">417</a></label>
  <p class="i0" id="417">
    De vegades passa que la millor manera de crear una llista és generar-la amb un script. Qualsevol línia que comença amb un signe d'exclamació indica una ordre que s'executarà dins del chroot quan la imatge es construeix. Per exemple, es podria incloure la línia <tt>! grep-aptavail -n -sPackage -FPriority standard | sort</tt> en una llista de paquets per a produir una llista ordenada de paquets disponibles amb <tt>Priority: standard</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#418" class="lnkocn">418</a></label>
  <p class="i0" id="418">
    De fet, la selecció de paquets amb l'ordre <tt>grep-aptavail</tt> (del paquet <tt>dctrl-tools</tt>) és tan útil que <tt>live-build</tt> proporciona un script <tt>Packages</tt> d'ajuda per motius de comoditat. Aquest script accepta dos arguments: <tt>field</tt> i <tt>pattern</tt>. Per tant, es pot crear una llista amb els següents continguts:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#419" class="lnkocn">419</a></label>
  <p class="code" id="419">
    $ lb config<br>
$ echo '! Packages Priority standard' &gt; config/package-lists/standard.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#420" class="lnkocn">420</a></label>
  <h6 class="norm" id="420"><a name="420"></a>
    <a name="c8.2.6" ></a><a name="h8.2.6" ></a>8.2.6 Ús de condicionals dins de les llistes de paquets
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#421" class="lnkocn">421</a></label>
  <p class="i0" id="421">
    Qualsevol de les variables de configuració de <i>live-build</i> emmagatzemades a <tt>config/*</tt> (menys el prefix <tt>LB_</tt>) poden ser utilitzades en sentències condicionals en les llistes de paquets. En general, això significa qualsevol opció <tt>lb config</tt> en lletres majuscules i amb guions canviats a guions baixos. Però a la pràctica, només tenen sentit les que influeixen en la selecció de paquets, com ara <tt>DISTRIBUTION</tt>, <tt>ARCHITECTURES</tt> o <tt>ARCHIVE_AREAS</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#422" class="lnkocn">422</a></label>
  <p class="i0" id="422">
    Per exemple, per a instal·lar <tt>ia32-libs</tt> si s'especifica <tt>--architectures amd64</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#423" class="lnkocn">423</a></label>
  <p class="code" id="423">
    #if ARCHITECTURES amd64<br>
ia32-libs<br>
#endif<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#424" class="lnkocn">424</a></label>
  <p class="i0" id="424">
    És possible fer un test d'un nombre de valors, per exemple per a instal·lar <i>memtest86+</i> si s'especifica <tt>--architectures i386</tt> o <tt>--architectures amd64</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#425" class="lnkocn">425</a></label>
  <p class="code" id="425">
    #if ARCHITECTURES i386 amd64<br>
memtest86+<br>
#endif<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#426" class="lnkocn">426</a></label>
  <p class="i0" id="426">
    També es pot provar amb variables que poden contenir més d'un valor, per exemple, per a instal·lar <i>vrms</i> si s'especifica o <tt>contrib</tt> o <tt>non-free</tt> a través de l'opció <tt>--archive-areas</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#427" class="lnkocn">427</a></label>
  <p class="code" id="427">
    #if ARCHIVE_AREAS contrib non-free<br>
vrms<br>
#endif<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#428" class="lnkocn">428</a></label>
  <p class="i0" id="428">
    No és possible el anidament dels condicionals.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#429" class="lnkocn">429</a></label>
  <h6 class="norm" id="429"><a name="429"></a>
    <a name="c8.2.7" ></a><a name="h8.2.7" ></a>8.2.7 Eliminar paquets durant la instal·lació
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#430" class="lnkocn">430</a></label>
  <p class="i0" id="430">
    Es pot crear llistes de paquets en fitxers amb els sufixos <tt>.list.chroot_live</tt> i <tt>.list.chroot_install</tt> dins del directori <tt>config/package-lists</tt>. Si hi ha una llista «live» i una llista «install» els paquets de la llista <tt>.list.chroot_live</tt> s'eliminaran amb un script ganxo després de la instal·lació (si l'usuari utilitza l'instal·lador). Els paquets de la llista <tt>.list.chroot_install</tt> seran presents tant en el sistema en viu com en el sistema instal·lat. Aquest és un cas especial per al programa d'instal·lació i pot ser útil si es té <tt>--debian-installer live</tt> establert en la configuració i es desitja eliminar paquets específics del sistema en viu durant la instal·lació.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#431" class="lnkocn">431</a></label>
  <h6 class="norm" id="431"><a name="431"></a>
    <a name="h8.2.8" ></a><a name="desktop-and-language-tasks" ></a>8.2.8 Tasques d'escriptori i llenguatge
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#432" class="lnkocn">432</a></label>
  <p class="i0" id="432">
    Les tasques d'escriptori i el llenguatge són casos especials que necessiten una mica de planificació i configuració extra. Les imatges en viu són diferentes de les imatges de l'instal·lador de Debian en aquest sentit. A l'instal·lador de Debian, si el medi es va preparar per a obtenir un tipus d'entorn d'escriptori en particular, la tasca corresponent s'instal·larà automàticament. Per tant hi ha tasques internes <tt>gnome-desktop</tt>, <tt>kde-desktop</tt>, <tt>lxde-desktop</tt> i <tt>xfce-desktop</tt>, cap de les quals s'ofereixen al menú de <tt>tasksel</tt>. De la mateixa manera, no hi ha cap entrada de menú per a tasques de llengües, però l'elecció del idioma de l'usuari durant la instal·lació influeix en la selecció de les tasques de les llengües corresponents.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#433" class="lnkocn">433</a></label>
  <p class="i0" id="433">
    En el desenvolupament d'una imatge en viu d'escriptori, la imatge sol arrencar directament a un escriptori de treball, les opcions d'escriptori i de llengua han estat fetes en temps de construcció, no en temps d'execució com en el cas del instal·lador de Debian. Això no vol dir que una imatge en viu no es pugui construir per a donar suport a diversos equips d'escriptori o diversos idiomes i oferir a l'usuari una opció, però això no és el comportament de <i>live-build</i> per defecte.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#434" class="lnkocn">434</a></label>
  <p class="i0" id="434">
    Com que no hi ha cap ajust automàtic per a les tasques de llengua que incloguin coses com ara tipus de lletres específics per a una llengua o paquets de mètode d'entrada, si es vol, cal especificar-ho en la configuració. Per exemple, una imatge d'escriptori GNOME que contingui suport per al alemany podrie incloure les següents tasques metapaquets:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#435" class="lnkocn">435</a></label>
  <p class="code" id="435">
    $ lb config<br>
$ echo "task-gnome-desktop task-laptop" &gt;&gt; config/package-lists/my.list.chroot<br>
$ echo "task-german task-german-desktop task-german-gnome-desktop" &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#436" class="lnkocn">436</a></label>
  <h6 class="norm" id="436"><a name="436"></a>
    <a name="h8.2.9" ></a><a name="kernel-flavour-and-version" ></a>8.2.9 Tipus i versió del nucli
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#437" class="lnkocn">437</a></label>
  <p class="i0" id="437">
    Depenent de l'arquitectura, s'inclouran per defecte en la imatge un o més tipus de nuclis. Es pot triar diferents tipus a través de l'opció <tt>--linux-flavours</tt>. Cada tipus té un sufix per a l'arrel per defecte <tt>linux-image</tt> per a formar el nom de cada metapaquet que al seu torn depèn d'un paquet del nucli exacte que s'ha d'incloure en la imatge.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#438" class="lnkocn">438</a></label>
  <p class="i0" id="438">
    Així, per defecte, una imatge per a l'arquitectura <tt>amd64</tt> inclourà el metapaquet <tt>linux-image-amd64</tt> i una imatge per a l'arquitectura <tt>i386</tt> inclourà el metapaquet <tt>linux-image-586</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#439" class="lnkocn">439</a></label>
  <p class="i0" id="439">
    Quan hi ha més d'una versió del paquet del nucli disponible en els arxius configurats, es pot especificar el nom d'un paquet del nucli amb l'opció <tt>--linux-packages</tt>. Per exemple, suposem que s'està construint una imatge d'arquitectura <tt>amd64</tt> i es vol afegir l'arxiu experimental amb propòsits de fer proves. Perquè es pugui instal·lar el nucli <tt>linux-image-3.18.0-trunk-amd64</tt> es podria configurar la imatge de la següent manera:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#440" class="lnkocn">440</a></label>
  <p class="code" id="440">
    $ lb config --linux-packages linux-image-3.18.0-trunk<br>
$ echo "deb http://ftp.debian.org/debian/ experimental main" &gt; config/archives/experimental.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#441" class="lnkocn">441</a></label>
  <h6 class="norm" id="441"><a name="441"></a>
    <a name="h8.2.10" ></a><a name="custom-kernels" ></a>8.2.10 Nuclis personalitzats
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#442" class="lnkocn">442</a></label>
  <p class="i0" id="442">
    Es pot construir i incloure nuclis propis personalitzats, sempre que s'integrin en el sistema de gestió de paquets de Debian. El sistema de <i>live-build</i> no és compatible amb nuclis no construïts com paquets <tt>.deb</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#443" class="lnkocn">443</a></label>
  <p class="i0" id="443">
    La manera apropiada i recomanable d'implementar els propis paquets del nucli és seguir les instruccions del <tt>kernel-handbook</tt>. Recordar que s'ha de modificar l'ABI i els sufixos del tipus apropiadament, i a continuació, incloure un conjunt complet dels packets que corresponen amb <tt>linux</tt> i <tt>linux-latest</tt> al repositori.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#444" class="lnkocn">444</a></label>
  <p class="i0" id="444">
    Si s'opta per construir els paquets del nucli sense els metapaquets a joc, cal especificar una arrel <tt>--linux-packages</tt> apropiada com s'indica a  <a href="#kernel-flavour-and-version">Tipus i versió del nucli</a>.  Com expliquem a  <a href="#installing-modified-or-third-party-packages">Instal·lació de paquets modificats o de tercers</a>,  és millor si s'inclouen els paquets del nucli personalitzat en un repositori propi, tot i que les alternatives discutides en aquella secció també funcionen.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#445" class="lnkocn">445</a></label>
  <p class="i0" id="445">
    Està més enllà de l'abast d'aquest document donar consells sobre com personalitzar un nucli. No obstant això, cal, almenys, assegurar-se que la configuració compleix els següents requisits mínims:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#446" class="lnkocn">446</a></label>
  <ul>
  <li class="bullet" id="446">
    Utilitzar una ramdisk inicial.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#447" class="lnkocn">447</a></label>
  <ul>
  <li class="bullet" id="447">
    Incloure el mòdul d'unió del sistema de fitxers (normalment <tt>aufs</tt>).
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#448" class="lnkocn">448</a></label>
  <ul>
  <li class="bullet" id="448">
    Incloure tots els mòduls del sistema d'arxius requerits per la configuració (normalment <tt>squashfs</tt>).
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#449" class="lnkocn">449</a></label>
  <h5 class="norm" id="449"><a name="449"></a>
    <a name="h8.3" ></a><a name="installing-modified-or-third-party-packages" ></a>8.3 Instal·lació de paquets  modificats o de tercers
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#450" class="lnkocn">450</a></label>
  <p class="i0" id="450">
    Si bé està en contra de la filosofia d'un sistema en viu, de vegades pot ser necessària la construcció d'un sistema amb versions modificades dels paquets que es troben al arxiu de Debian. Pot ser per a modificar o donar suport a funcions addicionals, les llengües o les marques, o fins i tot per a eliminar elements dels paquets existents que són indesitjables. De la mateixa manera, es poden utilitzar paquets de tercers per a afegir alguna funcionalitat personalitzada i/o propietària.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#451" class="lnkocn">451</a></label>
  <p class="i0" id="451">
    Aquesta secció no cobreix l'assessorament en matèria de construcció o manteniment de paquets modificats. Però el métode de Joachim Breitner's 'How to fork privately' a ‹<a href="http://www.joachim-breitner.de/blog/archives/282-How-to-fork-privately.html" target="_top">http://www.joachim-breitner.de/blog/archives/282-How-to-fork-privately.html</a>› pot ser d'interès. La creació de paquets personalitzats es tracta a Debian New Maintainers' Guide at ‹<a href="https://www.debian.org/doc/maint-guide/" target="_top">https://www.debian.org/doc/maint-guide/</a>› i en altres llocs.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#452" class="lnkocn">452</a></label>
  <p class="i0" id="452">
    Hi ha dues formes d'instal·lar paquets personalitzats modificats:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#453" class="lnkocn">453</a></label>
  <ul>
  <li class="bullet" id="453">
    <tt>packages.chroot</tt>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#454" class="lnkocn">454</a></label>
  <ul>
  <li class="bullet" id="454">
    L'ús d'un repositori APT personalitzat
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#455" class="lnkocn">455</a></label>
  <p class="i0" id="455">
    Utilitzar <tt>packages.chroot</tt> és més fàcil d'aconseguir i útil per a personalitzacions "ràpides", però té una sèrie d'inconvenients, mentre que l'ús d'un repositori APT personalitzat és més costós en la quantitat de temps necessari per a posar-lo en marxa.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#456" class="lnkocn">456</a></label>
  <h6 class="norm" id="456"><a name="456"></a>
    <a name="c8.3.1" ></a><a name="h8.3.1" ></a>8.3.1 Fer servir <tt>packages.chroot</tt> per a instaŀar paquets personalitzats
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#457" class="lnkocn">457</a></label>
  <p class="i0" id="457">
    Per a instaŀar un paquet personalitzat, només s'ha de copiar al directori <tt>config/packages.chroot/</tt>. Els paquets que es troben dins d'aquest directori s'instal·laran automàticament en el sistema en viu durant la construcció - no cal especificar res més en cap altre lloc.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#458" class="lnkocn">458</a></label>
  <p class="i0" id="458">
    Els paquets <b>han de</b> ser nomenats en la forma prescrita. Una manera simple de fer això és utilitzar <tt>dpkg-name</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#459" class="lnkocn">459</a></label>
  <p class="i0" id="459">
    Utilitzar <tt>packages.chroot</tt> per a la instal·lació de paquets personalitzats té els seus desavantatges:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#460" class="lnkocn">460</a></label>
  <ul>
  <li class="bullet" id="460">
    No és possible utilitzar APT segur.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#461" class="lnkocn">461</a></label>
  <ul>
  <li class="bullet" id="461">
    Cal posar tots els paquets apropiats al directori <tt>config/packages.chroot/</tt>.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#462" class="lnkocn">462</a></label>
  <ul>
  <li class="bullet" id="462">
    No es adient per a l'emmagatzematge de configuracions de sistemes en viu en el control de revisió.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#463" class="lnkocn">463</a></label>
  <h6 class="norm" id="463"><a name="463"></a>
    <a name="c8.3.2" ></a><a name="h8.3.2" ></a>8.3.2 Fer servir un repositori APT per a instal·lar paquets personalitzats
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#464" class="lnkocn">464</a></label>
  <p class="i0" id="464">
    A diferència de <tt>packages.chroot</tt>, quan s'utilitza un repositori APT personalitzat s'ha d'assegurar que s'especifiquen els paquets en un altre lloc. Veure  <a href="#choosing-packages-to-install">Selecció dels paquets a instal·lar</a>  per a més detalls.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#465" class="lnkocn">465</a></label>
  <p class="i0" id="465">
    Si bé crear un repositori APT per a instal·lar paquets personalitzats pot semblar un esforç innecessari, la infraestructura pot ser fàcilment reutilitzada en una data posterior per a oferir actualitzacions dels paquets modificats.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#466" class="lnkocn">466</a></label>
  <h6 class="norm" id="466"><a name="466"></a>
    <a name="c8.3.3" ></a><a name="h8.3.3" ></a>8.3.3 Paquets personalitzats i APT
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#467" class="lnkocn">467</a></label>
  <p class="i0" id="467">
    <i>live-build</i> utilitza APT per a instal·lar tots els paquets al sistema en viu, per tant, heretarà els comportaments d'aquest programa. Un exemple rellevant és que (assumint una configuració per defecte) si es dóna el cas que un paquet està disponible en dos repositoris diferents, amb diferents números de versió, APT triarà per a instal·lar el paquet amb la versió més alta.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#468" class="lnkocn">468</a></label>
  <p class="i0" id="468">
    A causa d'això, s'aconsella augmentar el nombre de la versió dels paquets personalitzats als fixers <tt>debian/changelog</tt> per a assegurar-se que la versió modificada és la que s'instal·la en lloc d'una dels repositoris oficials de Debian. Això també es pot aconseguir mitjançant l'alteració de les preferències d'APT del sistema en viu - veure  <a href="#apt-pinning">APT pinning</a>  per a més informació.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#469" class="lnkocn">469</a></label>
  <h5 class="norm" id="469"><a name="469"></a>
    <a name="c8.4" ></a><a name="h8.4" ></a>8.4 Configurar APT en temps de construcció
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#470" class="lnkocn">470</a></label>
  <p class="i0" id="470">
    Es pot configurar APT a través d'una sèrie d'opcions que només s'apliquen en temps de construcció. (La configuració d'APT al sistema en funcionament en viu es pot fer de forma normal per als continguts del sistema en viu, és a dir, mitjançant la inclusió de les configuracions adequades a través de <tt>config/includes.chroot/</tt>.) Per a obtenir una llista completa, buscar les opcions que comencen amb <tt>apt</tt> a la pàgina del manual de <tt>lb_config</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#471" class="lnkocn">471</a></label>
  <h6 class="norm" id="471"><a name="471"></a>
    <a name="h8.4.1" ></a><a name="choosing-apt-or-aptitude" ></a>8.4.1 Elegir apt o aptitude
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#472" class="lnkocn">472</a></label>
  <p class="i0" id="472">
    Es pot optar per utilitzar <i>apt</i> o <i>aptitude</i> a l'hora d'instal·lar paquets en temps de construcció. Quina utilitat s'usa es configura gràcies al argument <tt>--apt</tt> de <tt>lb config</tt>. Escollir el mètode d'implementació per al comportament preferit durant la instal·lació de paquets, la diferència notable és la forma en que es manegen els paquets que falten.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#473" class="lnkocn">473</a></label>
  <ul>
  <li class="bullet" id="473">
    <tt>apt</tt>: Amb aquest mètode, si un paquet que s'especifica falta, l'instal·lació de paquets fallarà. Aquesta és la configuració per defecte.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#474" class="lnkocn">474</a></label>
  <ul>
  <li class="bullet" id="474">
    <tt>aptitude</tt>: Amb aquest mètode, si s'especifica un paquet que falta, l'instal·lació de paquets tindrà èxit.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#475" class="lnkocn">475</a></label>
  <h6 class="norm" id="475"><a name="475"></a>
    <a name="c8.4.2" ></a><a name="h8.4.2" ></a>8.4.2 L'ús d'un proxy amb APT
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#476" class="lnkocn">476</a></label>
  <p class="i0" id="476">
    Una configuració típica d'APT és per a fer front a la construcció d'una imatge darrere d'un proxy. Es pot especificar el proxy per a APT amb les opcions <tt>--apt-ftp-proxy</tt> o <tt>--apt-http-proxy</tt> segons sigui necessari, per exemple,
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#477" class="lnkocn">477</a></label>
  <p class="code" id="477">
    $ lb config --apt-http-proxy http://proxy/<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#478" class="lnkocn">478</a></label>
  <h6 class="norm" id="478"><a name="478"></a>
    <a name="h8.4.3" ></a><a name="tweaking-apt-to-save-space" ></a>8.4.3 Afinar APT per a estalviar espai
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#479" class="lnkocn">479</a></label>
  <p class="i0" id="479">
    Pot ser necessari estalviar espai en el medi destinat a la imatge, en aquest cas una o altra o ambdós de les següentes opcions poden ser d'interès.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#480" class="lnkocn">480</a></label>
  <p class="i0" id="480">
    Si no es vol incloure els índexs d'APT en la imatge, es poden omitir amb:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#481" class="lnkocn">481</a></label>
  <p class="code" id="481">
    $ lb config --apt-indices false<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#482" class="lnkocn">482</a></label>
  <p class="i0" id="482">
    Això no influirà en les entrades de <tt>/etc/apt/sources.list</tt>, sinó simplement si <tt>/var/lib/apt</tt> conté els fitxers dels índexs o no. El desavantatge és que APT necessita aquests índexs per tal d'operar en el sistema en viu, així que abans d'executar per exemple <tt>apt-cache search</tt> o <tt>apt-get install</tt>, l'usuari primer ha fer un <tt>apt-get update</tt> per a crear aquests índexs.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#483" class="lnkocn">483</a></label>
  <p class="i0" id="483">
    Si es considera que la instal·lació de tots els paquets recomanats infla massa la imatge, sempre que s'estigui preparat per a fer front a les conseqüències que s'analitzen a continuació, es pot desactivar aquesta opció per defecte d'APT amb:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#484" class="lnkocn">484</a></label>
  <p class="code" id="484">
    $ lb config --apt-recommends false<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#485" class="lnkocn">485</a></label>
  <p class="i0" id="485">
    La conseqüència més important de desactivar els «recommends» és que <tt>live-boot</tt> i <tt>live-config</tt> recomanen alguns paquets que proporcionen una funcionalitat important utilitzada per la majoria de configuracions Live, com per exemple <tt>user-setup</tt> recomanat per <tt>live-config</tt> i que s'utilitza per a crear l'usuari en viu. En tots menys en els casos més excepcionals es necessita tornar a afexir almenys alguns dels recommends a les llistes de paquets o en cas contrari la imatge no funcionarà com s'espera, si és que funciona. Mirar els paquets recomanats per a cada un dels paquets inclosos en la construcció i si no s'està segur que es poden ometre, tornar a afegir-los a les llistes de paquets.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#486" class="lnkocn">486</a></label>
  <p class="i0" id="486">
    La conseqüència més general aquí és que si no s'instal·len els paquets recomanats per un paquet determinat, és a dir, "els paquets que es troben junts amb aquest en totes les instal·lacions a menys que siguin inusuals" (Debian Policy Manual, secció 7.2), alguns paquets que en realitat són necessaris per als usuaris del sistema Live poden ser omesos. Per tant, suggerim revisar la diferència que desactivar els paquets recomanats té en la llista de paquets (veure el fitxer <tt>binary.packages</tt> generat per <tt>lb build</tt>) i tornar a incloure a la llista els paquets que falten que haurien de ser instal·lats. Si només es vol deixar de banda un petit nombre de paquets recomanats, es pot deixar els «recommends» activats i establir una prioritat pin d'APT negativa en els paquets seleccionats per a impedir la seva instal·lació, com s'explica a  <a href="#apt-pinning">APT pinning</a>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#487" class="lnkocn">487</a></label>
  <h6 class="norm" id="487"><a name="487"></a>
    <a name="c8.4.4" ></a><a name="h8.4.4" ></a>8.4.4 Passar opcions per a apt o aptitude
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#488" class="lnkocn">488</a></label>
  <p class="i0" id="488">
    Si no hi ha cap opció <tt>lb config</tt> per a modificar el comportament d'APT de la manera què es necessita, es pot utilitzar <tt>--apt-options</tt> o <tt>--aptitude-options</tt> per a passar opcions a l'eina APT configurada. Consultar les pàgines dels manual <tt>apt</tt> i <tt>aptitude</tt> per a més detalls. Tenir en compte que ambdues opcions tenen valors per defecte que s'hauran de mantenir, a més de les opcions que es proporcionen. Així, per exemple, suposant que s'ha inclòs algun paquet de <tt>snapshot.debian.org</tt> per a fer proves i es vol especificar <tt>Acquire::Check-Valid-Until=false</tt> perquè APT no es queixe de que el fitxer <tt>Release</tt> ja ha caducat es podria fer com en el exemple següent, afegint la nova opció després del valor per defecte <tt>--yes</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#489" class="lnkocn">489</a></label>
  <p class="code" id="489">
    $ lb config --apt-options "--yes -oAcquire::Check-Valid-Until=false"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#490" class="lnkocn">490</a></label>
  <p class="i0" id="490">
    Consultar les pàgines del manual per a entendre completament aquestes opcions i quan utilitzar-les. Això és només un exemple i no s'ha d'interpretar com un consell per a configurar la imatge. Aquesta opció no seria adequada, per exemple, per a una versió final d'una imatge en viu.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#491" class="lnkocn">491</a></label>
  <p class="i0" id="491">
    Per a configuracions més complicades que impliquen opcions <tt>apt.conf</tt> pot ser adequat crear un fitxer <tt>config/apt/apt.conf</tt>. Consultar també les altres opcions <tt>apt-*</tt> per a tenir algunes dreceres convenients per a les opcions que es necessiten amb freqüència.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#492" class="lnkocn">492</a></label>
  <h6 class="norm" id="492"><a name="492"></a>
    <a name="h8.4.5" ></a><a name="apt-pinning" ></a>8.4.5 APT pinning
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#493" class="lnkocn">493</a></label>
  <p class="i0" id="493">
    Com a referència, llegir primer la pàgina del manual <tt>apt_preferences(5)</tt>. Es pot configurar APT pinning durant la construcció, o bé durant l'execució. En el primer cas, crear <tt>config/archives/*.pref</tt>, <tt>config/archives/*.pref.chroot</tt>, i <tt>config/apt/preferences</tt>. Per al segon cas, crear <tt>config/includes.chroot/etc/apt/preferences</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#494" class="lnkocn">494</a></label>
  <p class="i0" id="494">
    Suposem que s'està construint un sistema en viu <b>buster</b> però es necessita que tots els paquets «live-» que acaben dins de la imatge binària s'instal·lin desde <b>sid</b> en temps de construcció. Cal afegir <b>sid</b> a les fonts d'APT i fer un pin dels paquets live amb una prioritat més alta, però tots els altres paquets amb una prioritat més baixa que la prioritat per defecte de manera que només els paquets que es vol s'instal·lin desde <b>sid</b> en el moment de la construcció i tots els altres es prenguin de la distribució de destinació, <b>buster</b>. Això es pot aconseguir de la manera següent:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#495" class="lnkocn">495</a></label>
  <p class="code" id="495">
    $ echo "deb http://mirror/debian/ sid main" &gt; config/archives/sid.list.chroot<br>
$ cat &gt;&gt; config/archives/sid.pref.chroot &lt;&lt; EOF<br>
Package: live-*<br>
Pin: release n=sid<br>
Pin-Priority: 600<br><br>
Package: *<br>
Pin: release n=sid<br>
Pin-Priority: 1<br>
EOF<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#496" class="lnkocn">496</a></label>
  <p class="i0" id="496">
    Una prioritat pin negativa evitarà que un paquet s'instal·li, com en el cas que no es vulgui un paquet que és recomanat per un altre paquet. Suposem que s'està construint una imatge LXDE afegint <tt>task-lxde-desktop</tt> a <tt>config/package-lists/desktop.list.chroot</tt> però no es desitja que al usuari se li demani que guardi les contrasenyes wifi al keyring. Aquesta llista depèn de <i>lxde-core</i>, que recomana <i>gksu</i>, que al seu torn recomana <i>gnome-keyring</i>. Si es vol omitir el paquet recomanat <i>gnome-keyring</i>, es pot fer mitjançant l'addició de les següents línies a <tt>config/apt/preferences</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#497" class="lnkocn">497</a></label>
  <p class="code" id="497">
    Package: gnome-keyring<br>
Pin: version *<br>
Pin-Priority: -1<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#498" class="lnkocn">498</a></label>
  <h1 class="norm" id="498"><a name="498"></a>
    Personalització dels continguts
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#499" class="lnkocn">499</a></label>
  <h4 class="norm" id="499"><a name="499"></a>
    <a name="h9" ></a><a name="personalitzaci_dels_continguts" ></a><a name="customizing-contents" ></a>9. Personalització dels continguts
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#500" class="lnkocn">500</a></label>
  <p class="i0" id="500">
    Aquest capítol tracta d'afinar la personalització dels continguts del sistema en viu més enllà de simplement triar els paquets que es desitja incloure. Els «includes» permeten afegir o reemplaçar fitxers arbitraris en la imatge en viu, els scripts ganxo (hooks) permeten executar ordres arbitràries en diferents etapes de la construcció i en el moment d'arrencar, i la preconfiguració (preseeding) permet configurar els paquets quan s'instal·len proporcionant respostes a les preguntes de debconf .
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#501" class="lnkocn">501</a></label>
  <h5 class="norm" id="501"><a name="501"></a>
    <a name="h9.1" ></a><a name="includes" ></a>9.1 Includes
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#502" class="lnkocn">502</a></label>
  <p class="i0" id="502">
    Tot i que l'ideal seria un sistema en viu que inclogués només fitxers proporcionats per paquets Debian sense modificació, de vegades és convenient proporcionar o modificar part del contingut a través de fitxers. Amb els includes, és possible afegir (o substituir) fitxers arbitraris en la imatge en viu. <i>live-build</i> ofereix dos mecanismes per al seu ús:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#503" class="lnkocn">503</a></label>
  <ul>
  <li class="bullet" id="503">
    Chroot local includes: Aquests permeten afegir o substituir fitxers dintre de chroot/Live en el sistema de fitxers. Consultar  <a href="#live-chroot-local-includes">Live/chroot local includes</a>  per a més informació.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#504" class="lnkocn">504</a></label>
  <ul>
  <li class="bullet" id="504">
    Binary local includes: Aquests permeten afegir o substituir fitxers dins la imatge binària. Consultar  <a href="#binary-local-includes">Binary local includes</a>  per a més informació.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#505" class="lnkocn">505</a></label>
  <p class="i0" id="505">
    Consultar  <a href="#terms">Termes</a>  per a més informació sobre la distinció entre les imatges "Live" and "binary".
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#506" class="lnkocn">506</a></label>
  <h6 class="norm" id="506"><a name="506"></a>
    <a name="h9.1.1" ></a><a name="live-chroot-local-includes" ></a>9.1.1 Live/chroot local includes
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#507" class="lnkocn">507</a></label>
  <p class="i0" id="507">
    Es poden utilitzar els chroot local includes per a afegir o reemplaçar fitxers en el sistema de fitxers chroot/Live perquè puguin ser utilitzats en el sistema en viu. Un ús típic és per a omplir l'esquelet del directori de l'usuari (<tt>/etc/skel</tt>) utilitzat pel sistema en viu per a crear el directori home de l'usuari en viu. Un altre és el de subministrar fitxers de configuració que poden ser simplement afegits o reemplaçats en la imatge sense processar; veure <a href="#chroot-local-hooks">Chroot local hooks</a>  si es necessita processar-los.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#508" class="lnkocn">508</a></label>
  <p class="i0" id="508">
    Per a incloure fitxers, només s'han d'afegir al directori <tt>config/includes.chroot</tt>. Aquest directori es correspon amb el directori arrel <tt>/</tt> del sistema en viu. Per exemple, per a afegir un fitxer <tt>/var/www/index.html</tt> en el sistema en viu, fer:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#509" class="lnkocn">509</a></label>
  <p class="code" id="509">
    $ mkdir -p config/includes.chroot/var/www<br>
$ cp /path/to/my/index.html config/includes.chroot/var/www<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#510" class="lnkocn">510</a></label>
  <p class="i0" id="510">
    La configuració tindrà llavors l'estructura següent:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#511" class="lnkocn">511</a></label>
  <p class="code" id="511">
    -- config<br>
&nbsp;&nbsp;&nbsp;&nbsp;[...]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-- includes.chroot<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;`-- var<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`-- www<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`-- index.html<br>
&nbsp;&nbsp;&nbsp;&nbsp;[...]<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#512" class="lnkocn">512</a></label>
  <p class="i0" id="512">
    Els chroot local includes s'instal·len després de la instal·lació del paquets de tal manera que es sobreescriuen els fitxers instal·lats pels paquets.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#513" class="lnkocn">513</a></label>
  <h6 class="norm" id="513"><a name="513"></a>
    <a name="h9.1.2" ></a><a name="binary-local-includes" ></a>9.1.2 Binary local includes
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#514" class="lnkocn">514</a></label>
  <p class="i0" id="514">
    Per a incloure material com documentació o vídeos en el sistema de fitxers del medi en viu de manera que sigui accessible immediatament després de la inserció del medi sense haver de arrencar el sistema en viu, es pot utilitzar els binary local includes. Això funciona de manera similar als chroot local includes. Per exemple, si els fitxers <tt>~/video_demo.*</tt> són vídeos de demostració del sistema en viu descrits i lligats per una pàgina d'índex HTML. Només cal copiar el material a <tt>config/includes.binary/</tt> de la següent manera:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#515" class="lnkocn">515</a></label>
  <p class="code" id="515">
    $ cp ~/video_demo.* config/includes.binary/<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#516" class="lnkocn">516</a></label>
  <p class="i0" id="516">
    Aquests fitxers apareixeran ara en el directori arrel del medi en viu.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#517" class="lnkocn">517</a></label>
  <h5 class="norm" id="517"><a name="517"></a>
    <a name="h9.2" ></a><a name="hooks" ></a>9.2 Scripts ganxo (Hooks)
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#518" class="lnkocn">518</a></label>
  <p class="i0" id="518">
    Els scripts ganxo permeten executar ordres en les etapes de la construcció chroot i binary per tal de personalitzar la imatge. Depenent de si es vol construir una imatge en viu o una d'un sistema normal s'han de col·locar els ganxos a <tt>config/hooks/live</tt> o <tt>config/hooks/normal</tt> respectivament. Aquests ganxos s'anomenen amb freqüència "ganxos locals", ja que s'executen dins de l'entorn de construcció.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#519" class="lnkocn">519</a></label>
  <p class="i0" id="519">
    També hi ha ganxos en temps d'arrencada que permeten executar ordres una vegada que la imatge ja s'ha construït, durant el procés d'arrencada.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#520" class="lnkocn">520</a></label>
  <h6 class="norm" id="520"><a name="520"></a>
    <a name="h9.2.1" ></a><a name="chroot-local-hooks" ></a>9.2.1 Chroot local hooks
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#521" class="lnkocn">521</a></label>
  <p class="i0" id="521">
    Per a executar ordres durant l'etapa chroot, crear un script ganxo que contingui les ordres amb el sufix <tt>.hook.chroot</tt> i afegir-lo bé al directori <tt>config/hooks/live</tt> o a <tt>config/hooks/normal</tt>. El ganxo s'executarà en el chroot després que la resta de la configuració del chroot s'hagi aplicat, assegurar-se que la configuració inclou tots els paquets i els fitxers que el ganxo necessita per a funcionar. Veure els scripts chroot d'exemple per a diverses tasques comunes de personalització que es poden trobar a <tt>/usr/share/doc/live-build/examples/hooks</tt> que es poden copiar o fer un enllaç simbòlic per a utilitzar-los en la pròpia configuració.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#522" class="lnkocn">522</a></label>
  <h6 class="norm" id="522"><a name="522"></a>
    <a name="c9.2.2" ></a><a name="h9.2.2" ></a>9.2.2 Binary local hooks
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#523" class="lnkocn">523</a></label>
  <p class="i0" id="523">
    Per a executar ordres durant l'etapa binary, crear un script ganxo que contingui les ordres amb un sufix <tt>.hook.binary</tt> i afegir-lo bé al directori <tt>config/hooks/live</tt> o a <tt>config/hooks/normal</tt>. El ganxo s'executarà després que s'executin totes les ordres de l'etapa binary però abans dels binary_checksums, la darrera ordre de l'etapa binary. Les ordres del ganxo no s'executen al chroot, per tant tenir cura de no modificar cap fitxer de fora del arbre de construcció, o es pot fer malbé el sistema de construcció! Veure els scripts ganxo binary d'exemple per a diverses tasques comunes de personalització a <tt>/usr/share/doc/live-build/examples/hooks</tt> que es poden copiar o fer un enllaç simbòlic per a utilitzar-los en la pròpia configuració.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#524" class="lnkocn">524</a></label>
  <h6 class="norm" id="524"><a name="524"></a>
    <a name="h9.2.3" ></a><a name="boot-time-hooks" ></a>9.2.3 Scripts ganxo en temps d'arrencada
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#525" class="lnkocn">525</a></label>
  <p class="i0" id="525">
    Per a executar ordres durant l'arrencada, es pot proporcionar scripts ganxo per a <i>live-config</i> com s'explica a la secció "Personalització" de la seva pàgina del manual. Es poden afegir els ganxos de <i>live-config</i> a <tt>/lib/live/config/</tt>, tenint en compte la seqüència dels números. A continuació, afegir el script ganxo propi amb un número de seqüència apropiat com a prefix, ja sigui com a un chroot local include a <tt>config/includes.chroot/lib/live/config/</tt>, o com un paquet personalitzat com es va discutir a  <a href="#installing-modified-or-third-party-packages">Instal·lació de paquets modificats o de tercers</a>.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#526" class="lnkocn">526</a></label>
  <h5 class="norm" id="526"><a name="526"></a>
    <a name="c9.3" ></a><a name="h9.3" ></a>9.3 Preconfiguració de les preguntes de Debconf
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#527" class="lnkocn">527</a></label>
  <p class="i0" id="527">
    Els fitxers del directory <tt>config/preseed/</tt> amb el sufix <tt>.cfg</tt> seguits del sufix de l'etapa (<tt>.chroot</tt> o <tt>.binary</tt>) son considerats fitxers de preconfiguració de debconf i són instal·lats per <i>live-build</i> utilitzant <tt>debconf-set-selections</tt> durant l'etapa corresponent.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#528" class="lnkocn">528</a></label>
  <p class="i0" id="528">
    Per a més informació sobre debconf, veure <tt>debconf(7)</tt> del paquet <i>debconf</i>.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#529" class="lnkocn">529</a></label>
  <h1 class="norm" id="529"><a name="529"></a>
    Personalització dels comportaments en temps d'execució
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#530" class="lnkocn">530</a></label>
  <h4 class="norm" id="530"><a name="530"></a>
    <a name="h10" ></a><a name="personalitzaci_dels_comportaments_en_temps_dexecuci" ></a><a name="customizing-run-time-behaviours" ></a>10. Personalització dels comportaments en  temps d'execució
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#531" class="lnkocn">531</a></label>
  <p class="i0" id="531">
    Tota la configuració que es fa durant l'execució es feta per <i>live-config</i>. Aquestes són algunes de les opcions més comunes de <i>live-config</i> en que els usuaris estan interessats. Una llista completa de totes les possibilitats es poden trobar a la pàgina del manual de <i>live-config</i>.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#532" class="lnkocn">532</a></label>
  <h5 class="norm" id="532"><a name="532"></a>
    <a name="c10.1" ></a><a name="h10.1" ></a>10.1 Personalitzar l'usuari en viu
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#533" class="lnkocn">533</a></label>
  <p class="i0" id="533">
    Una consideració important és que l'usuari en viu es creat per <i>live-boot</i> durant l'arrencada i no per <i>live-build</i> en temps de construcció. Això influeix no només en on s'han de introduir els materials relacionats amb l'usuari durant la construcció, tal i com es va explicar a  <a href="#live-chroot-local-includes">Live/chroot local includes</a>,  sinó també en els grups i els permisos associats amb l'usuari.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#534" class="lnkocn">534</a></label>
  <p class="i0" id="534">
    Es poden especificar grups addicionals als que pertanyerà l'usuari en viu mitjançant l'ús de qualsevol de les possibilitats de configuraciò de <i>live-config</i>. Per exemple, per a afegir l'usuari en viu al grup <tt>fuse</tt>, es pot afegir el següent fitxer a <tt>config/includes.chroot/etc/live/config/user-setup.conf</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#535" class="lnkocn">535</a></label>
  <p class="code" id="535">
    LIVE_USER_DEFAULT_GROUPS="audio cdrom dip floppy video plugdev netdev powerdev scanner bluetooth fuse"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#536" class="lnkocn">536</a></label>
  <p class="i0" id="536">
    o utilitzar <tt>live-config.user-default-groups=audio,cdrom,dip,floppy,video,plugdev,netdev,powerdev,scanner,bluetooth,fuse</tt> com paràmetre d'arrencada.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#537" class="lnkocn">537</a></label>
  <p class="i0" id="537">
    També és possible canviar el nom de l'usuari per defecte "user" i la contrasenya per defecte "live". Si es vol fer això per alguna raó, es pot aconseguir fàcilment de la següent manera:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#538" class="lnkocn">538</a></label>
  <p class="i0" id="538">
    Per a canviar el nom de l'usuari per defecte només s'ha d'especificar en la configuració:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#539" class="lnkocn">539</a></label>
  <p class="code" id="539">
    $ lb config --bootappend-live "boot=live components username=live-user"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#540" class="lnkocn">540</a></label>
  <p class="i0" id="540">
    Una forma possible de canviar la contrasenya per defecte és per mitjà d'un ganxo com s'explica a  <a href="#boot-time-hooks">Scripts ganxo durant l'arrencada</a>.  Per a fer això, es pot utilitzar el script ganxo "passwd" de <tt>/usr/share/doc/live-config/examples/hooks</tt>, posar-li un prefix adequat (per exemple 2000-passwd) i afegir-lo a <tt>config/includes.chroot/lib/live/config/</tt>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#541" class="lnkocn">541</a></label>
  <h5 class="norm" id="541"><a name="541"></a>
    <a name="h10.2" ></a><a name="customizing-locale-and-language" ></a>10.2 Personalització de l'entorn local i el  llenguatge
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#542" class="lnkocn">542</a></label>
  <p class="i0" id="542">
    Quan el sistema en viu arrenca, el llenguatge està implicat en dos passos:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#543" class="lnkocn">543</a></label>
  <ul>
  <li class="bullet" id="543">
    la generació de locales
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#544" class="lnkocn">544</a></label>
  <ul>
  <li class="bullet" id="544">
    establir la configuració del teclat
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#545" class="lnkocn">545</a></label>
  <p class="i0" id="545">
    La configuració local per defecte en la construcció d'un sistema viu és <tt>locales=en_US.UTF-8</tt>. Per a definir la locale que s'ha de generar, utilitzar el paràmetre <tt>locales</tt> de la opció <tt>--bootappend-live</tt> de <tt>lb config</tt>, per exemple.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#546" class="lnkocn">546</a></label>
  <p class="code" id="546">
    $ lb config --bootappend-live "boot=live components locales=de_CH.UTF-8"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#547" class="lnkocn">547</a></label>
  <p class="i0" id="547">
    Es poden especificar diverses locales en una llista separada per comes.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#548" class="lnkocn">548</a></label>
  <p class="i0" id="548">
    Aquest paràmetre, així com els paràmetres de configuració del teclat que s'indiquen a continuació, també es pot utilitzar en la línia d'ordres del nucli. Es pot especificar una configuració regional mitjançant <tt>language_country</tt> (en aquest cas s'utilitza la codificació per defecte) o la forma completa <tt>language_country.encoding</tt>. Una llista de locales suportades i la codificació per a cadascuna es poden trobar a <tt>/usr/share/i18n/SUPPORTED</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#549" class="lnkocn">549</a></label>
  <p class="i0" id="549">
    <tt>live-config</tt> s'encarrega de la configuració del teclat per a X i per a la consola utilitzant el paquet <tt>console-setup</tt>. Per a la seva configuració es pot fer servir els paràmetres d'arrencada <tt>keyboard-layouts</tt>, <tt>keyboard-variants</tt>, <tt>keyboard-options</tt> i <tt>keyboard-model</tt> mitjançant l'opció <tt>--bootappend-live</tt>. Es poden trobar opcions vàlides per a aquests a <tt>/usr/share/X11/xkb/rules/base.lst</tt>. Per a trobar distribucions de teclat i variants per a un idioma determinat, s'ha d'intentar cercar el nom en anglès de la llengua i/o el país on es parla l'idioma, per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#550" class="lnkocn">550</a></label>
  <p class="code" id="550">
    $ egrep -i '(^!|german.*switzerland)' /usr/share/X11/xkb/rules/base.lst<br>
! model<br>
! layout<br>
&nbsp;&nbsp;&nbsp;ch&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;German (Switzerland)<br>
! variant<br>
&nbsp;&nbsp;&nbsp;legacy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ch: German (Switzerland, legacy)<br>
&nbsp;&nbsp;&nbsp;de_nodeadkeys&nbsp;&nbsp;&nbsp;ch: German (Switzerland, eliminate dead keys)<br>
&nbsp;&nbsp;&nbsp;de_sundeadkeys&nbsp;&nbsp;ch: German (Switzerland, Sun dead keys)<br>
&nbsp;&nbsp;&nbsp;de_mac&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ch: German (Switzerland, Macintosh)<br>
! option<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#551" class="lnkocn">551</a></label>
  <p class="i0" id="551">
    Tinir en compte que cada variant mostra la distribució que s'aplica en la descripció.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#552" class="lnkocn">552</a></label>
  <p class="i0" id="552">
    Sovint, només la distribució necessita ser configurada. Per exemple, per a obtenir els fitxers de configuració regional per a la distribució del teclat alemany i suís-alemany per a l'entorn gràfic X:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#553" class="lnkocn">553</a></label>
  <p class="code" id="553">
    $ lb config --bootappend-live "boot=live components locales=de_CH.UTF-8 keyboard-layouts=ch"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#554" class="lnkocn">554</a></label>
  <p class="i0" id="554">
    No obstant això, per als casos d'ús molt específics, potser es vol incloure altres paràmetres. Per exemple, per a establir un sistema francès, amb una distribució de teclat French-Dvorak (anomenat Bepo) en un teclat USB TypeMatrix EZ-Reach 2030, utilitzar:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#555" class="lnkocn">555</a></label>
  <p class="code" id="555">
    $ lb config --bootappend-live \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"boot=live components locales=fr_FR.UTF-8 keyboard-layouts=fr keyboard-variants=bepo keyboard-model=tm2030usb"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#556" class="lnkocn">556</a></label>
  <p class="i0" id="556">
    Es poden especificar diversos valors per a cada una de les opcions <tt>keyboard-*</tt> en una llista separada per comes amb l'excepció de <tt>keyboard-model</tt>, que només accepta un valor. Veure la pàgina del manual <tt>keyboard(5)</tt> per a més detalls i exemples de les variables <tt>XKBMODEL</tt>, <tt>XKBLAYOUT</tt>, <tt>XKBVARIANT</tt> i <tt>XKBOPTIONS</tt>. Si s'especifiquen diversos valors de <tt>keyboard-variants</tt> es correspondran un a un amb els valors <tt>keyboard-layouts</tt> (veure <tt>setxkbmap(1)</tt> opció <tt>-variant</tt>). Es poden utilitzar valors buits, per exemple, per a definir dos dissenys, el valor predeterminat US QWERTY i l'altre US Dvorak:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#557" class="lnkocn">557</a></label>
  <p class="code" id="557">
    $ lb config --bootappend-live \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"boot=live components keyboard-layouts=us,us keyboard-variants=,dvorak"<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#558" class="lnkocn">558</a></label>
  <h5 class="norm" id="558"><a name="558"></a>
    <a name="h10.3" ></a><a name="persistence" ></a>10.3 Persistència
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#559" class="lnkocn">559</a></label>
  <p class="i0" id="559">
    Un paradigma d'un live cd és ser un sistema pre-instal·lat, que arrenca desde medis de només lectura, com un cdrom, on les modificacions no sobreviuen als reinicis del maquinari que l'executa.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#560" class="lnkocn">560</a></label>
  <p class="i0" id="560">
    Un sistema en viu és una generalització d'aquest paradigma i per tant, compatible amb altres medis, a més dels CDs, però tot i així, en el seu comportament per defecte, s'ha de considerar de només lectura i totes les evolucions en temps d'execució del sistema es perden al apagar l'equip.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#561" class="lnkocn">561</a></label>
  <p class="i0" id="561">
    La "Persistència" és un nom comú per a nomenar els diferents tipus de solucions per a guardar després de reiniciar algunes, o totes, les dades d'aquesta evolució en temps d'execució del sistema. Per a entendre com funciona, seria útil saber que, encara que el sistema s'inicia i s'executa des de medis de només lectura, les modificacions als fitxers i directoris s'escriuen ens medis d'escriptura, en general un ramdisk (tmpfs) i les dades dels discos ram no sobreviuen als reinicis.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#562" class="lnkocn">562</a></label>
  <p class="i0" id="562">
    Les dades emmagatzemades en aquest disc ram han de ser guardades en un suport d'escriptura persistent com medis d'emmagatzematge locals, un recurs compartit de xarxa o fins i tot una sessió d'una multisessió de un CD/DVD (re)grabable. Tots aquests medis són compatibles amb el sistemes en viu de diferents maneres, i tots menys l'últim, requereixen un paràmetre especial que s'especifica en l'arrencada: <tt>persistence</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#563" class="lnkocn">563</a></label>
  <p class="i0" id="563">
    Si s'utilitza el paràmetre d'arrencada <tt>persistence</tt> (i no s'utilitza <tt>nopersistence</tt>) es proven els medis locals d'emmagatzematge (per exemple, discs durs, unitats USB) buscant volums amb persistència durant l'arrencada. És possible restringir els tipus de volums amb persistència que s'utilitzarà mitjançant l'especificació de certs paràmetres d'arrencada que es descriuen a la pàgina del manual de <i>live-boot</i>(7). Un volum amb persistència és qualsevol dels següents:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#564" class="lnkocn">564</a></label>
  <ul>
  <li class="bullet" id="564">
    una partició, identificada pel seu nom GPT.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#565" class="lnkocn">565</a></label>
  <ul>
  <li class="bullet" id="565">
    un sistema de fitxers, identificat per la seva etiqueta de sistema de fitxers.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#566" class="lnkocn">566</a></label>
  <ul>
  <li class="bullet" id="566">
    un fitxer imatge situat en l'arrel de qualsevol sistema de fitxers llegibles (fins i tot una partició NTFS d'un altre SO), identificat pel seu nom de fitxer.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#567" class="lnkocn">567</a></label>
  <p class="i0" id="567">
    L'etiqueta de volum per als overlays ha de ser <tt>persistence</tt> però serà passat per alt a menys que contingui un fitxer anomenat <tt>persistence.conf</tt> que s'utilitza per a personalitzar completament la persistència del volum, és a dir, especificar els directoris que es volen conservar en el volum de persistència després de reiniciar. Veure  <a href="#persistence-conf">El fitxer persistence.conf</a>  per a més detalls.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#568" class="lnkocn">568</a></label>
  <p class="i0" id="568">
    Aquests són alguns exemples de com preparar un volum que s'utilitzarà per a la persistència. Pot ser, per exemple, una partició ext4 en un disc dur o en una clau USB creat amb, per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#569" class="lnkocn">569</a></label>
  <p class="code" id="569">
    # mkfs.ext4 -L persistence /dev/sdb1<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#570" class="lnkocn">570</a></label>
  <p class="i0" id="570">
    Veure també  <a href="#using-usb-extra-space">Utilitzar l'espai lliure en una memòria USB</a>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#571" class="lnkocn">571</a></label>
  <p class="i0" id="571">
    Si ja hi ha una partició al dispositiu, és pot canviar l'etiqueta amb un dels següents:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#572" class="lnkocn">572</a></label>
  <p class="code" id="572">
    # tune2fs -L persistence /dev/sdb1 # for ext2,3,4 filesystems<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#573" class="lnkocn">573</a></label>
  <p class="i0" id="573">
    Heus aquí un exemple de com crear un fitxer imatge basat en ext4 per a ser utilitzat per a la persistència:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#574" class="lnkocn">574</a></label>
  <p class="code" id="574">
    $ dd if=/dev/null of=persistence bs=1 count=0 seek=1G # for a 1GB sized image file<br>
$ /sbin/mkfs.ext4 -F persistence<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#575" class="lnkocn">575</a></label>
  <p class="i0" id="575">
    Un cop s'ha creat el fitxer imatge, per exemple, per a fer <tt>/usr</tt> persistent però només guardant els canvis que es fan en aquest directori i no tots els continguts de <tt>/usr</tt>, es pot utilitzar l'opció "union". Si el fitxer imatge es troba en el directori home, copiar-lo a l'arrel del sistema de fitxers del disc dur i muntar-lo a <tt>/mnt</tt> de la següent manera:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#576" class="lnkocn">576</a></label>
  <p class="code" id="576">
    # cp persistence /<br>
# mount -t ext4 /persistence /mnt<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#577" class="lnkocn">577</a></label>
  <p class="i0" id="577">
    A continuació, crear el fitxer <tt>persistence.conf</tt> afegint contingut i desmuntar el fitxer imatge.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#578" class="lnkocn">578</a></label>
  <p class="code" id="578">
    # echo "/usr union" &gt;&gt; /mnt/persistence.conf<br>
# umount /mnt<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#579" class="lnkocn">579</a></label>
  <p class="i0" id="579">
    Ara, reiniciar el sistema i arrencar el medi en viu amb el paràmetre d'arrencada "persistence".
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#580" class="lnkocn">580</a></label>
  <h6 class="norm" id="580"><a name="580"></a>
    <a name="h10.3.1" ></a><a name="persistence-conf" ></a>10.3.1 El fitxer persistence.conf
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#581" class="lnkocn">581</a></label>
  <p class="i0" id="581">
    Un volum amb l'etiqueta <tt>persistence</tt> ha de ser configurat mitjançant un fitxer <tt>persistence.conf</tt> per a fer directoris arbitraris persistents. Aquest fitxer, ubicat a l'arrel del sistema de fitxers del volum, controla els directoris que fa persistents, i de quina manera.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#582" class="lnkocn">582</a></label>
  <p class="i0" id="582">
    A la pàgina del manual de persistence.conf(5) s'explica en detall com es configuran els muntatges de les overlays, però un simple exemple hauria de ser suficient per a la majoria d'usos. Si es vol fer el directori home i el directori del cache d'APT persistents en un sistema de fitxers ext4 a la partició /dev/sdb1:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#583" class="lnkocn">583</a></label>
  <p class="code" id="583">
    # mkfs.ext4 -L persistence /dev/sdb1<br>
# mount -t ext4 /dev/sdb1 /mnt<br>
# echo "/home" &gt;&gt; /mnt/persistence.conf<br>
# echo "/var/cache/apt" &gt;&gt; /mnt/persistence.conf<br>
# umount /mnt<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#584" class="lnkocn">584</a></label>
  <p class="i0" id="584">
    Després es reinicia el sistema. Durant la primera arrencada els continguts de <tt>/home</tt> i <tt>/var/cache/apt</tt> es copiaran en el volum de la persistència, i d'aquí en endavant tots els canvis en aquests directoris es guardaran en aquest volum. Tenir en compte que les rutes que apareixen en el fitxer <tt>persistence.conf</tt> no poden contenir espais en blanc o els components especials <tt>.</tt> i <tt>..</tt>. A més, ni <tt>/lib</tt>, <tt>/lib/live</tt> (o qualsevol dels seus subdirectoris) ni <tt>/</tt> es poden fer persistents utilitzant muntatges personalitzats. Com a solució per a aquesta limitació es pot afegir <tt>/ union</tt> al fitxer <tt>persistence.conf</tt> per a aconseguir una persistència completa.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#585" class="lnkocn">585</a></label>
  <h6 class="norm" id="585"><a name="585"></a>
    <a name="c10.3.2" ></a><a name="h10.3.2" ></a>10.3.2 Utilitzar diversos medis persistents
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#586" class="lnkocn">586</a></label>
  <p class="i0" id="586">
    Hi ha diferents mètodes per utilitzar múltiples volums de persistència per a diferents casos d'ús. Per exemple, utilitzar diversos volums al mateix temps o seleccionar-ne només un, entre varis, per a fins molt específics.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#587" class="lnkocn">587</a></label>
  <p class="i0" id="587">
    Es poden utilitzar diversos volums diferents de muntatges personalitzats (amb els seus propis fitxers <tt>persistence.conf</tt> però si diversos volums fan que el mateix directori sigui persistent, només s'utilitzarà un d'ells. Si qualsevol dels dos muntatges són "imbricats" (és a dir, un és un sub-directori de l'altre) el directori pare es muntarà abans que el directori fill per a evitar que amb el muntatge un directori no sigui ocultat per l'altre. Els muntatges personalitzats imbricats són problemàtics si estan enumerats en el mateix fitxer <tt>persistence.conf</tt>. Veure la pàgina del manual persistence.conf(5) per a saber com manejar aquest cas, si realment es necessita (una pista: en general no cal fer-ho).
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#588" class="lnkocn">588</a></label>
  <p class="i0" id="588">
    Un possible cas d'ús: Per a guardar les dades de l'usuari, és a dir <tt>/home</tt> i les dades del superusuari, és a dir <tt>/root</tt> en diferents particions, crear dues particions amb l'etiqueta <tt>persistence</tt> i afegir un fitxer <tt>persistence.conf</tt> en cadascuna d'aquesta manera <tt># echo "/home" &gt; persistence.conf</tt> per a la primera partició que guardarà els fitxers de l'usuari i <tt># echo "/root" &gt; persistence.conf</tt> per a la segona partició que emmagatzemarà els fitxers del superusuari. Finalment, utilitzar el paràmetre d'arrencada <tt>persistence</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#589" class="lnkocn">589</a></label>
  <p class="i0" id="589">
    Si un usuari necessita múltiples volums de persistència del mateix tipus per a diferents ubicacions o proves, com <tt>private</tt> i <tt>work</tt>, el paràmetre d'arrencada <tt>persistence-label</tt> utilitzat juntament amb el paràmetre d'arrencada <tt>persistence</tt> permetrà tenir diversos dispositius amb la mateixa, però única, persistència. Un exemple seria si un usuari vol utilitzar una partició amb persistència amb l'etiqueta <tt>private</tt> per a dades personals com els marcadors d'un navegador, utilitzaria els paràmetres d'arrencada: <tt>persistence</tt> <tt>persistence-label=private</tt>. I per emmagatzemar dades relacionades amb el treball, com a documents, projectes de recerca o d'un altre tipus, utilitzaria els paràmetres d'arrencada: <tt>persistence</tt> <tt>persistence-label=work</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#590" class="lnkocn">590</a></label>
  <p class="i0" id="590">
    És important recordar que aquests volums, <tt>private</tt> i <tt>work</tt>, també necessiten tenir un fitxer <tt>persistence.conf</tt> en la seva arrel. La pàgina de manual de <i>live-boot</i> conté més informació sobre com utilitzar aquestes etiquetes amb els noms més antics.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#591" class="lnkocn">591</a></label>
  <h6 class="norm" id="591"><a name="591"></a>
    <a name="c10.3.3" ></a><a name="h10.3.3" ></a>10.3.3 Persistència amb xifratge
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#592" class="lnkocn">592</a></label>
  <p class="i0" id="592">
    Utilitzar la persistència vol dir que algunes dades sensibles poden quedar exposades a risc. Especialment si les dades persistents s'emmagatzemen en un dispositiu portàtil com una memòria USB o un disc dur extern. És llavors quan el xifrat entra en joc. Fins i tot si el procediment pot semblar complicat a causa de la quantitat de passos que s'han de fer, és molt fàcil manejar particions xifrades amb <i>live-boot</i>. Per a utilitzar <b>luks</b>, que és el tipus de xifrat compatible, es necessita instal·lar <i>cryptsetup</i> tant en la màquina que crearà la partició xifrada com en el sistema en viu amb que es va a utilitzar la partició persistent xifrada.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#593" class="lnkocn">593</a></label>
  <p class="i0" id="593">
    Per a instal·lar <i>cryptsetup</i> a la nostra màquina:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#594" class="lnkocn">594</a></label>
  <p class="code" id="594">
    # apt-get install cryptsetup<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#595" class="lnkocn">595</a></label>
  <p class="i0" id="595">
    Per a instal·lar <i>cryptsetup</i> en el sistema viu, afegir-lo a una package-lists:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#596" class="lnkocn">596</a></label>
  <p class="code" id="596">
    $ lb config<br>
$ echo "cryptsetup" &gt; config/package-lists/encryption.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#597" class="lnkocn">597</a></label>
  <p class="i0" id="597">
    Una cop tinguem el nostre sistema en viu amb <i>cryptsetup</i>, bàsicament, només hem de crear una nova partició, xifrar-la i arrencar amb els paràmetres <tt>persistence</tt> i <tt>persistence-encryption=luks</tt>. Podríem haver anticipat aquest pas i afegit els paràmetres d'arrencada seguint el procediment habitual:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#598" class="lnkocn">598</a></label>
  <p class="code" id="598">
    $ lb config --bootappend-live "boot=live components persistence persistence-encryption=luks"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#599" class="lnkocn">599</a></label>
  <p class="i0" id="599">
    Anem a entrar en els detalls per a tothom que no està familiaritzat amb el xifrat. En el següent exemple utilitzarem una partició en un dispositiu USB que correspon a <tt>/dev/sdc2</tt>. Tenir en compte que cal determinar quina partició és la que es va a utilitzar en cada cas específic.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#600" class="lnkocn">600</a></label>
  <p class="i0" id="600">
    El primer pas és connectar la memòria usb i determinar de quin dispositiu es tracta. La manera més recomanable per a llistar dispositius és utilitzar <tt>ls -l /dev/disk/by-id</tt>. Després d'això, crear una nova partició i, a continuació, xifrar-la amb una frase de contrasenya de la següent manera:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#601" class="lnkocn">601</a></label>
  <p class="code" id="601">
    # cryptsetup --verify-passphrase luksFormat /dev/sdc2<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#602" class="lnkocn">602</a></label>
  <p class="i0" id="602">
    A continuació, obrir la partició luks al mapeador de dispositius virtuals. Es pot utilitzar qualsevol nom que es desitgi. Aquí utilitzem <b>live</b> com a exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#603" class="lnkocn">603</a></label>
  <p class="code" id="603">
    # cryptsetup luksOpen /dev/sdc2 live<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#604" class="lnkocn">604</a></label>
  <p class="i0" id="604">
    El següent pas és omplir el dispositiu amb zeros abans de crear el sistema de fitxers:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#605" class="lnkocn">605</a></label>
  <p class="code" id="605">
    # dd if=/dev/zero of=/dev/mapper/live<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#606" class="lnkocn">606</a></label>
  <p class="i0" id="606">
    Ara, estem preparats per a crear el sistema de fitxers. Noteu que estem afegint l'etiqueta <tt>persistence</tt> perquè el dispositiu es munti com a magatzem de persistència durant l'arrencada.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#607" class="lnkocn">607</a></label>
  <p class="code" id="607">
    # mkfs.ext4 -L persistence /dev/mapper/live<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#608" class="lnkocn">608</a></label>
  <p class="i0" id="608">
    Per continuar amb la nostra configuració, necessitem muntar el dispositiu, per exemple, a <tt>/mnt</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#609" class="lnkocn">609</a></label>
  <p class="code" id="609">
    # mount /dev/mapper/live /mnt<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#610" class="lnkocn">610</a></label>
  <p class="i0" id="610">
    I crear el fitxer <tt>persistence.conf</tt> a l'arrel de la partició. Això és, com s'ha explicat abans, estrictament necessari. Veure  <a href="#persistence-conf">El fitxer persistence.conf</a>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#611" class="lnkocn">611</a></label>
  <p class="code" id="611">
    # echo "/ union" &gt; /mnt/persistence.conf<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#612" class="lnkocn">612</a></label>
  <p class="i0" id="612">
    Desmuntar el punt de muntatge:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#613" class="lnkocn">613</a></label>
  <p class="code" id="613">
    # umount /mnt<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#614" class="lnkocn">614</a></label>
  <p class="i0" id="614">
    I opcionalment, encara que podria ser una bona manera de protegir les dades que acabem d'agregar a la partició, podem tancar el dispositiu:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#615" class="lnkocn">615</a></label>
  <p class="code" id="615">
    # cryptsetup luksClose live<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#616" class="lnkocn">616</a></label>
  <p class="i0" id="616">
    Anem a resumir el procés. Fins ara, hem creat un sistema viu capaç de manejar xifratge, que es pot copiar a una memòria USB com s'explica a  <a href="#copying-iso-hybrid-to-usb">Copiar una imatge ISO híbrida en un dispositiu USB</a>.  També hem creat una partició xifrada, que es pot situar en la mateixa memòria USB per portar a tot arreu i hem configurat la partició xifrada per ser utilitzada com a magatzem de persistència. Així que ara, només hem de arrencar el sistema en viu. En el moment d'arrencar, <i>live-boot</i> ens preguntarà la frase de contrasenya i muntarà la partició xifrada per a ser utilitzada per a la persistència.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#617" class="lnkocn">617</a></label>
  <h1 class="norm" id="617"><a name="617"></a>
    Personalització de la imatge binària
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#618" class="lnkocn">618</a></label>
  <h4 class="norm" id="618"><a name="618"></a>
    <a name="h11" ></a><a name="personalitzaci_de_la_imatge_binria" ></a><a name="customizing-binary" ></a>11. Personalització de la imatge binària
  </h4>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#619" class="lnkocn">619</a></label>
  <h5 class="norm" id="619"><a name="619"></a>
    <a name="c11.1" ></a><a name="h11.1" ></a>11.1 Carregadors d'arrencada
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#620" class="lnkocn">620</a></label>
  <p class="i0" id="620">
    <i>live-build</i> utilitza <i>syslinux</i> i alguns dels seus derivats (depenent del tipus d'imatge) com carregadors d'arrencada per defecte. Es poden personalitzar fàcilment per satisfer totes les necessitats.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#621" class="lnkocn">621</a></label>
  <p class="i0" id="621">
    Per a utilitzar un tema complet, copiar <tt>/usr/share/live/build/bootloaders</tt> a <tt>config/bootloaders</tt> i editar els fitxers allí. Si no es vol modificar totes les configuracions dels carregadors d'arrencada disponibles, només cal utilitzar una còpia local personalitzada d'un dels carregadors, per exemple, copiar la configuració d'<b>isolinux</b> a <tt>config/bootloaders/isolinux</tt> ja és suficient, depenent del cas d'ús.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#622" class="lnkocn">622</a></label>
  <p class="i0" id="622">
    Quan es modifica un dels temes per defecte, si es vol utilitzar una imatge de fons personalitzada que es mostrarà juntament amb el menú d'arrencada, es pot afegir una imatge de 640x480 píxels. Aleshores, esborrar el fitxer splash.svg.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#623" class="lnkocn">623</a></label>
  <p class="i0" id="623">
    Hi ha moltes possibilitats a l'hora de fer canvis. Per exemple, els derivats de syslinux estan configurats per defecte amb un temps d'espera de 0 (zero) el que significa que faran una pausa indefinida en la seva pantalla inicial fins que es premi una tecla.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#624" class="lnkocn">624</a></label>
  <p class="i0" id="624">
    Per a modificar el temps d'espera d'arrencada d'una imatge <tt>iso-hybrid</tt> es pot editar el fitxer <b>isolinux.cfg</b> especificant el temps d'espera en unitats de segons 1/10. Un fitxer <b>isolinux.cfg</b> modificat per a arrencar després de cinc segons seria semblant a aquest:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#625" class="lnkocn">625</a></label>
  <p class="code" id="625">
    include menu.cfg<br>
default vesamenu.c32<br>
prompt 0<br>
timeout 50<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#626" class="lnkocn">626</a></label>
  <h5 class="norm" id="626"><a name="626"></a>
    <a name="c11.2" ></a><a name="h11.2" ></a>11.2 metadades ISO
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#627" class="lnkocn">627</a></label>
  <p class="i0" id="627">
    Quan es crea una imatge binària ISO9660, es poden utilitzar les següents opcions per a afegir diverses metadades textuals. Això pot ajudar a identificar fàcilment la versió o la configuració d'una imatge sense arrencar-la.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#628" class="lnkocn">628</a></label>
  <ul>
  <li class="bullet" id="628">
    <tt>LB_ISO_APPLICATION/--iso-application NAME</tt>: Ha de descriure l'aplicació que serà a la imatge. La longitud màxima per a aquest camp és de 128 caràcters.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#629" class="lnkocn">629</a></label>
  <ul>
  <li class="bullet" id="629">
    <tt>LB_ISO_PREPARER/--iso-preparer NAME</tt>: Ha de descriure al preparador de la imatge, en general amb algunes dades de contacte. El valor per defecte per a aquesta opció és la versió de <i>live-build</i> utilitzada, la qual cosa pot ajudar amb la depuració d'errors posterior. La longitud màxima per a aquest camp és de 128 caràcters.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#630" class="lnkocn">630</a></label>
  <ul>
  <li class="bullet" id="630">
    <tt>LB_ISO_PUBLISHER/--iso-publisher NAME</tt>: Ha de descriure l'editor de la imatge, en general amb algunes dades de contacte. La longitud màxima per a aquest camp és de 128 caràcters.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#631" class="lnkocn">631</a></label>
  <ul>
  <li class="bullet" id="631">
    <tt>LB_ISO_VOLUME/--iso-volume NAME</tt>: Això ha d'especificar l'ID de volum de la imatge. Això s'utilitza com una etiqueta visible per a l'usuari en algunes plataformes com Windows i Apple Mac OS. La longitud màxima per a aquest camp és de 32 caràcters.
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#632" class="lnkocn">632</a></label>
  <h1 class="norm" id="632"><a name="632"></a>
    Personalització de l'instal·lador de debian
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#633" class="lnkocn">633</a></label>
  <h4 class="norm" id="633"><a name="633"></a>
    <a name="h12" ></a><a name="personalitzaci_de_linstallador_de_debian" ></a><a name="customizing-installer" ></a>12. Personalització de l'instal·lador de debian
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#634" class="lnkocn">634</a></label>
  <p class="i0" id="634">
    Les imatges del sistema en viu es poden integrar amb l'instal·lador de Debian. Hi ha un nombre de diferents tipus d'instal·lació, que varien en el que s'inclou i en com opera l'instal·lador.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#635" class="lnkocn">635</a></label>
  <p class="i0" id="635">
    Tenir en compte l'ús acurat de les lletres majúscules quan es refereix a "l'instal·lador de Debian" en aquesta secció - quan s'utilitza així ens referim explícitament a l'instal·lador normal del sistema Debian, i no a una altra cosa. Es veu sovint abreujat com "d-i".
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#636" class="lnkocn">636</a></label>
  <h5 class="norm" id="636"><a name="636"></a>
    <a name="c12.1" ></a><a name="h12.1" ></a>12.1 Tipus d'instal·lador de Debian
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#637" class="lnkocn">637</a></label>
  <p class="i0" id="637">
    Els tres principals tipus d'instal·lador són els següents:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#638" class="lnkocn">638</a></label>
  <p class="i0" id="638">
    <b>Instal·lador de Debian "Normal"</b>: Aquesta és una imatge normal de sistema en viu amb un nucli i initrd independents que (quan es seleccionen des del carregador d'arrencada adequat) realitzen una instal·lació estàndard de Debian, igual que si s'hagués descarregat i arrencat una imatge de Debian des d'un CD. Les imatges que contenen un sistema viu i aquest tipus d'instal·lador independent s'anomenen sovint "imatges combinades".
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#639" class="lnkocn">639</a></label>
  <p class="i0" id="639">
    Amb aquest tipus d'imatges, Debian s'instal·la descarregant i instal·lant paquets .deb mitjançant <i>debootstrap</i>, des dels medis locals o alguna xarxa, aixó resulta en un sistema Debian per defecte instal·lat al disc dur.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#640" class="lnkocn">640</a></label>
  <p class="i0" id="640">
    Tot aquest procés pot ser preconfigurat i personalitzadat de moltes formes, veure les pàgines corresponents al manual de l'instal·lador de Debian per a més informació. Quan es té un fitxer de preconfiguració que funcioni, <i>live-build</i> pot posar-lo automàticament a la imatge i activar-lo.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#641" class="lnkocn">641</a></label>
  <p class="i0" id="641">
    <b>Instal·lador de Debian "Live"</b>: Aquesta és una imatge en viu amb un nucli i initrd independents que (quan es seleccionen des del carregador d'arrencada adequat) llancen un instal·lador de Debian.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#642" class="lnkocn">642</a></label>
  <p class="i0" id="642">
    La instal·lació continuarà de forma idèntica a l'instal·lació que s'ha descrit anteriorment, però en la fase d'instal·lació dels paquets, en lloc d'utilitzar <i>debootstrap</i> per a buscar-los i instalar-los, es copia el sistema de fitxers viu a la destinació. Això s'aconsegueix amb un udeb especial anomenat <i>live-installer</i>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#643" class="lnkocn">643</a></label>
  <p class="i0" id="643">
    Després d'aquesta etapa, l'instal·lador de Debian continua de forma normal, instal·lant i configurant elements com ara els gestors d'arrencada i els usuaris locals, etc
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#644" class="lnkocn">644</a></label>
  <p class="i0" id="644">
    <b>Nota:</b> per a donar suport a les entrades de l'instal·lador normal i live en el gestor d'arrencada del mateix medi s'ha de desactivar el <i>live-installer</i> mitjançant la preconfiguració <tt>live-installer/enable=false</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#645" class="lnkocn">645</a></label>
  <p class="i0" id="645">
    <b>Instal·lador de Debian "d'escriptori"</b>: Independentment del tipus d'instal·lador de Debian inclòs, es pot iniciar el <tt>d-i</tt> des de l'escriptori fent clic damunt una icona. Aixó és senzill per a l'usuari però perquè funcioni s'ha d'afegir el paquet <i>debian-installer-launcher</i>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#646" class="lnkocn">646</a></label>
  <p class="i0" id="646">
    Tenir en compte que, per defecte, <i>live-build</i> no inclou imatges de l'instal·lador de Debian en les imatges, ha de ser específicament activat amb <tt>lb config</tt>. A més, tenir en compte que per a que funcioni l'instal·lador "d'escriptori" el nucli del sistema viu ha de coincidir amb el nucli que el <tt>d-i</tt> utilitza per a l'arquitectura especificada. Per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#647" class="lnkocn">647</a></label>
  <p class="code" id="647">
    $ lb config --architectures i386 --linux-flavours 586 \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--debian-installer live<br>
$ echo debian-installer-launcher &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#648" class="lnkocn">648</a></label>
  <h5 class="norm" id="648"><a name="648"></a>
    <a name="c12.2" ></a><a name="h12.2" ></a>12.2 Personalització de l'instal·lador de Debian amb preconfiguració
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#649" class="lnkocn">649</a></label>
  <p class="i0" id="649">
    Com es descriu en el Manual de l'instal·lador de Debian, a l'apèndix B a ‹<a href="https://www.debian.org/releases/stable/i386/apb.html" target="_top">https://www.debian.org/releases/stable/i386/apb.html</a>›, "la preconfiguració proporciona una manera de respondre a les preguntes durant la instal·lació, sense haver d'introduir les respostes manualment mentre la instal·lació està en curs. Això permet automatitzar completament la majoria dels tipus d'instal·lacions i fins i tot ofereix algunes característiques no disponibles durant les instal·lacions normals." Aquest tipus de personalització s'aconsegueix millor amb <i>live-build</i> col·locant la configuració en un fitxer <tt>preseed.cfg</tt> a <tt>config/includes.installer/</tt>. Per exemple, per a preconfigurar la variant local <tt>en_US</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#650" class="lnkocn">650</a></label>
  <p class="code" id="650">
    $ echo "d-i debian-installer/locale string en_US" \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt; config/includes.installer/preseed.cfg<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#651" class="lnkocn">651</a></label>
  <h5 class="norm" id="651"><a name="651"></a>
    <a name="c12.3" ></a><a name="h12.3" ></a>12.3 Personalitzar el contingut de l'instal·lador de Debian
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#652" class="lnkocn">652</a></label>
  <p class="i0" id="652">
    Per motius experimentals o de depuració d'errors, és possible que es vulgui incloure paquets udeb creats localment per al <tt>d-i</tt>. Per a afegir-los a la imatge posar-los a <tt>config/packages.binary/</tt>. Es poden incloure fitxers addicionals o de substitució i alguns directoris a l'initrd de l'instal·lador d'una manera similar a  <a href="#live-chroot-local-includes">Live/chroot local includes</a>,  posant el material a <tt>config/includes.installer/</tt>.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#653" class="lnkocn">653</a></label>
  <h1 class="norm" id="653"><a name="653"></a>
    Projecte
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#654" class="lnkocn">654</a></label>
  <h1 class="norm" id="654"><a name="654"></a>
    Contribuir al projecte
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#655" class="lnkocn">655</a></label>
  <h4 class="norm" id="655"><a name="655"></a>
    <a name="h13" ></a><a name="contribuir_al_projecte" ></a><a name="contributing-to-project" ></a>13. Contribuir al projecte
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#656" class="lnkocn">656</a></label>
  <p class="i0" id="656">
    Quan s'envia una contribució, s'ha d'identificar clarament el titular dels drets d'autor i incloure la declaració de concessió de llicències aplicables. Recordar que per a ser acceptada, la contribució ha de tenir una llicencia igual que la resta del document, a saber, la versió de la GPL 3 o superior.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#657" class="lnkocn">657</a></label>
  <p class="i0" id="657">
    Les contribucions al projecte, com ara traduccions i pegats, són molt benvingudes. Qualsevol persona pot fer un lliurament directe al repositori. No obstant això, demanem que s'enviïn els canvis grans a la llista de correu per a parlar-ne en primer lloc. Veure la secció  <a href="#contact">Contacte</a>  per a més informació.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#658" class="lnkocn">658</a></label>
  <p class="i0" id="658">
    El Live Systems Project utilitza Git com a sistema de control de versions i gestió de codi font. Com s'explica en  <a href="#git-repositories">Repositoris Git</a>  hi ha dues branques principals de desenvolupament: <b>debian</b> i <b>debian-next</b>. Tothom pot fer lliuraments a les branques debian-next dels repositoris <i>live-boot</i>, <i>live-build</i>, <i>live-config</i>, <i>live-images</i>, <i>live-manual</i> i <i>live-tools</i>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#659" class="lnkocn">659</a></label>
  <p class="i0" id="659">
    No obstant això, hi ha certes restriccions. El servidor rebutja:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#660" class="lnkocn">660</a></label>
  <ul>
  <li class="bullet" id="660">
    Push que no són fast-forward.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#661" class="lnkocn">661</a></label>
  <ul>
  <li class="bullet" id="661">
    Commits merge.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#662" class="lnkocn">662</a></label>
  <ul>
  <li class="bullet" id="662">
    Afegir o eliminar etiquetes o branques.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#663" class="lnkocn">663</a></label>
  <p class="i0" id="663">
    Tot i que tots els lliuraments poden ser revisats, demanem que s'utilitzi el sentit comú i es facin bons lliuraments amb bons missatges.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#664" class="lnkocn">664</a></label>
  <ul>
  <li class="bullet" id="664">
    Escriure missatges de lliurament que consisteixen en oracions completes i significatives en anglès, començant amb una lletra majúscula i acabant amb un punt. En general, aquests començaran amb la forma 'Fixing/Adding/Removing/Correcting/Translating/...'.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#665" class="lnkocn">665</a></label>
  <ul>
  <li class="bullet" id="665">
    Escriure bons missatges de lliurament. La primera línia ha de ser un resum exacte dels continguts del lliurament, que s'inclourà en la llista de canvis. Si es necessita fer algunes explicacions més, escriure a sota deixant una línia en blanc després de la primera línea i després una altra línia en blanc després de cada paràgraf. Les línies dels paràgrafs no han de superar els 80 caràcters de longitud.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#666" class="lnkocn">666</a></label>
  <ul>
  <li class="bullet" id="666">
    Fer lliuraments de manera atòmica, és a dir, no barrejar coses no relacionades en el mateix lliurament. Fer un lliurament diferent per a cada canvi que es faci.
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#667" class="lnkocn">667</a></label>
  <h5 class="norm" id="667"><a name="667"></a>
    <a name="c13.1" ></a><a name="h13.1" ></a>13.1 Fer canvis
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#668" class="lnkocn">668</a></label>
  <p class="i0" id="668">
    Per tal de fer un push als repositoris, s'ha de seguir el següent procediment. Aquí s'utilitza <i>live-manual</i> com a exemple, per tant, cal substituir-lo pel nom del repositori amb que es desitja treballar. Per a obtenir informació detallada sobre com editar <i>live-manual</i> veure  <a href="#how-to-contribute">Contribuir a aquest document</a>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#669" class="lnkocn">669</a></label>
  <ul>
  <li class="bullet" id="669">
    Obtenir la clau pública:
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#670" class="lnkocn">670</a></label>
  <p class="code" id="670">
    $ mkdir -p ~/.ssh/keys<br>
$ wget http://debian-live.alioth.debian.org/other/keys/git@debian-live.alioth.debian.org -O ~/.ssh/keys/git@debian-live.alioth.debian.org<br>
$ wget http://debian-live.alioth.debian.org/other/keys/git@debian-live.alioth.debian.org.pub -O ~/.ssh/keys/git@debian-live.alioth.debian.org.pub<br>
$ chmod 0600 ~/.ssh/keys/git@debian-live.alioth.debian.org*<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#671" class="lnkocn">671</a></label>
  <ul>
  <li class="bullet" id="671">
    Afegir la següent secció a la configuració del vostre openssh-client:
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#672" class="lnkocn">672</a></label>
  <p class="code" id="672">
    $ cat &gt;&gt; ~/.ssh/config &lt;&lt; EOF<br>
Host debian-live.alioth.debian.org<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hostname debian-live.alioth.debian.org<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User git<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IdentitiesOnly yes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IdentityFile ~/.ssh/keys/git@debian-live.alioth.debian.org<br>
EOF<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#673" class="lnkocn">673</a></label>
  <ul>
  <li class="bullet" id="673">
    Fer una còpia del manual a través de ssh:
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#674" class="lnkocn">674</a></label>
  <p class="code" id="674">
    $ git clone ssh://git.debian.org/git/debian-live/live-manual.git<br>
$ cd live-manual &amp;&amp; git checkout debian-next<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#675" class="lnkocn">675</a></label>
  <ul>
  <li class="bullet" id="675">
    Assegurar-se de tenir el autor i el correu electrònic configurats al Git:
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#676" class="lnkocn">676</a></label>
  <p class="code" id="676">
    &nbsp;&nbsp;$ git config user.name "John Doe"<br>
&nbsp;&nbsp;$ git config user.email john@example.org<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#677" class="lnkocn">677</a></label>
  <p class="i0" id="677">
    <b>Important:</b> Tenir en compte que s'han d'enviar els canvis a la branca <b>debian-next</b>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#678" class="lnkocn">678</a></label>
  <ul>
  <li class="bullet" id="678">
    Fer els canvis. En aquest exemple s'hauria d'escriure primer una nova secció sobre aplicar pegats i després preparar-se per a afegir els fitxers i escriure el missatge de la següent manera:
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#679" class="lnkocn">679</a></label>
  <p class="code" id="679">
    $ git commit -a -m "Adding a section on applying patches."<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#680" class="lnkocn">680</a></label>
  <ul>
  <li class="bullet" id="680">
    Fer un push al servidor:
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#681" class="lnkocn">681</a></label>
  <p class="code" id="681">
    $ git push<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#682" class="lnkocn">682</a></label>
  <h5 class="norm" id="682"><a name="682"></a>
    <a name="h13.2" ></a><a name="translation-of-manpages" ></a>13.2 Traducció de pàgines dels manuals
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#683" class="lnkocn">683</a></label>
  <p class="i0" id="683">
    També es pot contribuir al projecte treballant en la traducció de les pàgines dels manuals dels diferents paquets live-* que el projecte manté. El procediment pot ser diferent, depenent de si s'està començant una traducció des de zero o si es segueix treballant en una ja existent:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#684" class="lnkocn">684</a></label>
  <ul>
  <li class="bullet" id="684">
    Continuar amb una traducció ja començada
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#685" class="lnkocn">685</a></label>
  <p class="i0" id="685">
    Si es vol treballar en la traducció d'una llengua ja existent s'ha de fer els canvis als fitxers que hi ha dins <tt>manpages/po/${LANGUAGE}/*.po</tt> i després executar <tt>make rebuild</tt> des de dins del directori <tt>manpages/</tt>. Això actualitzarà les pàgines a <tt>manpages/${LANGUAGE}/*</tt>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#686" class="lnkocn">686</a></label>
  <ul>
  <li class="bullet" id="686">
    Començar una nova traducció des de zero
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#687" class="lnkocn">687</a></label>
  <p class="i0" id="687">
    Per afegir una nova traducció de qualsevol de les pàgines dels manuals del projecte s'ha de seguir un procediment similar. Es podria resumir de la següent manera:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#688" class="lnkocn">688</a></label>
  <ul>
  <li class="i2" id="688">
    Obrir el fitxer o fitxers que hi ha a <tt>manpages/pot/</tt> en el teu editor preferit, com per exemple <i>poedit</i>, i guardar-lo com un fitxer .po a <tt>manpages/po/${LANGUAGE}/</tt>. (S'haurà de crear el directori del <tt>${LANGUAGE}/</tt> corresponent).
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#689" class="lnkocn">689</a></label>
  <ul>
  <li class="i2" id="689">
    Executar <tt>make rebuild</tt> dins el directori <tt>manpages/</tt> per a crear els fitxers a <tt>manpages/${LANGUAGE}/</tt> que contindran les pàgines dels manuals.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#690" class="lnkocn">690</a></label>
  <p class="i0" id="690">
    Recordar que cal afegir tots els directoris i fitxers, i després fer el commit i finalment fer un git push al servidor git.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#691" class="lnkocn">691</a></label>
  <h1 class="norm" id="691"><a name="691"></a>
    Informar dels errors
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#692" class="lnkocn">692</a></label>
  <h4 class="norm" id="692"><a name="692"></a>
    <a name="h14" ></a><a name="informar_dels_errors" ></a><a name="bugs" ></a>14. Informar dels errors
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#693" class="lnkocn">693</a></label>
  <p class="i0" id="693">
    Live systems està lluny de ser perfecte, però volem que sigui el més perfecte possible - amb la vostra ajuda. No dubtar d'informar sobre un error. És millor omplir un informe dues vegades que mai. No obstant això, aquest capítol inclou recomanacions sobre com presentar bons informes d'errors.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#694" class="lnkocn">694</a></label>
  <p class="i0" id="694">
    Per als impacients
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#695" class="lnkocn">695</a></label>
  <ul>
  <li class="bullet" id="695">
    Sempre consultar primer les actualitzacions del estat de la imatge a la nostra pàgina web a ‹<a href="http://debian-live.alioth.debian.org/" target="_top">http://debian-live.alioth.debian.org/</a>› per a veure els problemes coneguts.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#696" class="lnkocn">696</a></label>
  <ul>
  <li class="bullet" id="696">
    Abans d'enviar un informe d'errors, sempre tractar de reproduir l'error amb <b>les versions més recents</b> de la branca de <i>live-build</i>, <i>live-boot</i>, <i>live-config</i> i <i>live-tools</i> què utilitzeu (com la darrera versió 4.x de <i>live-build</i> si s'utilitza <i>live-build</i> 4).
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#697" class="lnkocn">697</a></label>
  <ul>
  <li class="bullet" id="697">
    Intentar donar <b>la informació més específica possible</b> sobre l'error. Això inclou (almenys) la versió de <i>live-build</i>, <i>live-boot</i>, <i>live-config</i> i <i>live-tools</i> i la distribució del sistema en viu que s'està construint.
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#698" class="lnkocn">698</a></label>
  <h5 class="norm" id="698"><a name="698"></a>
    <a name="c14.1" ></a><a name="h14.1" ></a>14.1 Problemes coneguts
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#699" class="lnkocn">699</a></label>
  <p class="i0" id="699">
    Ja que les distribucions Debian <b>testing</b> i Debian <b>unstable</b> són blancs mòbils, quan s'especifica una d'elles com sistema de destinació, no sempre és possible construir amb èxit.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#700" class="lnkocn">700</a></label>
  <p class="i0" id="700">
    Si això és massa difícil, no construir un sistema basat en <b>testing</b> o <b>unstable</b>, sinó més aviat, utilitzar <b>stable</b>. <i>live-build</i> sempre construeix la versió <b>stable</b> per defecte.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#701" class="lnkocn">701</a></label>
  <p class="i0" id="701">
    El problemes coneguts es mostren sota la secció 'status' a la nostra pàgina web a ‹<a href="http://debian-live.alioth.debian.org/" target="_top">http://debian-live.alioth.debian.org/</a>›.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#702" class="lnkocn">702</a></label>
  <p class="i0" id="702">
    Està fora de l'abast d'aquest manual ensenyar a identificar correctament i solucionar els problemes dels paquets de les distribucions en desenvolupament, però, hi ha dues coses que sempre es pot provar: Si la construcció falla quan la distribució de destinació és <b>testing</b>, provar <b>unstable</b>. Si <b>unstable</b> tampoc funciona, tornar a <b>testing</b> i fer un pin de la versió més recent del paquet que falla de <b>unstable</b> (veure  <a href="#apt-pinning">APT pinning</a>  per a més detalls).
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#703" class="lnkocn">703</a></label>
  <h5 class="norm" id="703"><a name="703"></a>
    <a name="c14.2" ></a><a name="h14.2" ></a>14.2 Reconstruir des de zero
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#704" class="lnkocn">704</a></label>
  <p class="i0" id="704">
    Per a assegurar-se que un error en particular no és causat per un sistema mal construït, reconstruir sempre tot el sistema en viu a partir de zero per veure si l'error és reproduïble.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#705" class="lnkocn">705</a></label>
  <h5 class="norm" id="705"><a name="705"></a>
    <a name="c14.3" ></a><a name="h14.3" ></a>14.3 Fer servir paquets actualitzats
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#706" class="lnkocn">706</a></label>
  <p class="i0" id="706">
    La utilització de paquets obsolets pot causar problemes significatius al tractar de reproduir (i en última instància, arreglar) el problema. Comprovar que el sistema de construcció està actualitzat i tots els paquets inclosos en la imatge estan també actualitzats.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#707" class="lnkocn">707</a></label>
  <h5 class="norm" id="707"><a name="707"></a>
    <a name="h14.4" ></a><a name="collect-information" ></a>14.4 Recopilar informació
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#708" class="lnkocn">708</a></label>
  <p class="i0" id="708">
    Proporcionar informació suficient amb l'informe. Incloure, com a mínim, la versió exacta de <i>live-build</i> i els passos per a reproduir-lo. Utilitzar el sentit comú i proporcionar tota altra informació pertinent si es pensa que aixó pot ajudar a resoldre el problema.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#709" class="lnkocn">709</a></label>
  <p class="i0" id="709">
    Per a treure el màxim profit del informe d'errors, es requereix com a mínim la informació següent:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#710" class="lnkocn">710</a></label>
  <ul>
  <li class="bullet" id="710">
    Arquitectura del sistema amfitrió
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#711" class="lnkocn">711</a></label>
  <ul>
  <li class="bullet" id="711">
    Distribució del sistema amfitrió
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#712" class="lnkocn">712</a></label>
  <ul>
  <li class="bullet" id="712">
    Versió de <i>live-build</i> al sistema amfitrió
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#713" class="lnkocn">713</a></label>
  <ul>
  <li class="bullet" id="713">
    Versió de <i>debootstrap</i> al sistema amfitrió
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#714" class="lnkocn">714</a></label>
  <ul>
  <li class="bullet" id="714">
    Arquitectura del sistema en viu
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#715" class="lnkocn">715</a></label>
  <ul>
  <li class="bullet" id="715">
    Distribució del sistema en viu
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#716" class="lnkocn">716</a></label>
  <ul>
  <li class="bullet" id="716">
    Versió de <i>live-boot</i> al sistema amfitrió
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#717" class="lnkocn">717</a></label>
  <ul>
  <li class="bullet" id="717">
    Versió de <i>live-config</i> al sistema amfitrió
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#718" class="lnkocn">718</a></label>
  <ul>
  <li class="bullet" id="718">
    Versió de <i>live-tools</i> al sistema amfitrió
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#719" class="lnkocn">719</a></label>
  <p class="i0" id="719">
    Es pot generar un log del procés de construcció mitjançant l'ordre <tt>tee</tt>. Recomanem fer-ho automàticament amb un script <tt>auto/build</tt> (veure  <a href="#managing-a-configuration">Gestió d'una configuració</a>  per a més detalls).
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#720" class="lnkocn">720</a></label>
  <p class="code" id="720">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#721" class="lnkocn">721</a></label>
  <p class="i0" id="721">
    Durant l'arrencada, <i>live-boot</i> i <i>live-config</i> emmagatzemen els seus logs a <tt>/var/log/live/</tt>. Comprovar aquest fitxers per a detectar missatges d'error.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#722" class="lnkocn">722</a></label>
  <p class="i0" id="722">
    A més, per a descartar altres errors, sempre és una bona idea comprimir el directori <tt>config/</tt> i pujar-lo a algun lloc (<b>no</b> enviar-lo com arxiu adjunt a la llista de correu), perquè puguem tractar de reproduir els errors que s'han trobat. Si això és difícil (per exemple, a causa de la mida del arxiu) es pot utilitzar la sortida de <tt>lb config --dump</tt> que produeix un resum del arbre de configuració (és a dir, fa un llistat dels fitxers dins els subdirectoris de <tt>config/</tt>, però no els inclou).
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#723" class="lnkocn">723</a></label>
  <p class="i0" id="723">
    Recordar que s'ha d'enviar qualsevol log que es produeixi amb la configuració regional en anglès, per exemple, executar les ordres de <i>live-build</i> començant per <tt>LC_ALL=C</tt> o <tt>LC_ALL=en_US</tt>.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#724" class="lnkocn">724</a></label>
  <h5 class="norm" id="724"><a name="724"></a>
    <a name="c14.5" ></a><a name="h14.5" ></a>14.5 Aïllar el cas que falla, si és possible
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#725" class="lnkocn">725</a></label>
  <p class="i0" id="725">
    Si pot ser, aïllar el cas que falla al canvi més petit possible que fa que no funcioni. No sempre és fàcil fer això, per tant, si no es possible fer-ho pel informe, no preocupar-se. No obstant això, si es planeja bé el cicle de desenvolupament, i s'utilitzen petits conjunts de canvis suficients per iteració, es pot ser capaç d'aïllar el problema mitjançant la construcció d'una configuració 'base' més senzilla que s'ajusti a la configuració desitjada més el conjunt de canvis que fa que no funcioni. Si es dificil classificar quins canvis fan que falli, pot ser que s'inclogui massa en cada conjunt de canvis i s'ha de desenvolupar en petits increments.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#726" class="lnkocn">726</a></label>
  <h5 class="norm" id="726"><a name="726"></a>
    <a name="c14.6" ></a><a name="h14.6" ></a>14.6 Utilitzar el paquet correcte per a informar de l'error
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#727" class="lnkocn">727</a></label>
  <p class="i0" id="727">
    Si no és clar quin component és el responsable de l'error o si l'error és general pel que fa als sistemes vius, es pot omplir un informe d'errors sobre el pseudopaquet debian-live.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#728" class="lnkocn">728</a></label>
  <p class="i0" id="728">
    No obstant això, estarem molt agraïts si s'intenta limitar la recerca segons el lloc on apareix l'error.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#729" class="lnkocn">729</a></label>
  <h6 class="norm" id="729"><a name="729"></a>
    <a name="c14.6.1" ></a><a name="h14.6.1" ></a>14.6.1 A l'hora de construir mentre bootstrapping
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#730" class="lnkocn">730</a></label>
  <p class="i0" id="730">
    <i>live-build</i> crea primer un sistema Debian bàsic amb <i>debootstrap</i>. Si un error apareix aquí, comprovar si l'error està relacionat amb un paquet específic de Debian (el més probable), o si està relacionat amb l'eina debootstrap en si mateixa.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#731" class="lnkocn">731</a></label>
  <p class="i0" id="731">
    En ambdós casos, això no és un error del sistema en viu, sinó de Debian en si mateix i, probablement, no ho podem arreglar directament. Informar del error sobre l'eina de debootstrapping o el paquet que falla.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#732" class="lnkocn">732</a></label>
  <h6 class="norm" id="732"><a name="732"></a>
    <a name="c14.6.2" ></a><a name="h14.6.2" ></a>14.6.2 A l'hora de construir, durant la instal·lació de paquets
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#733" class="lnkocn">733</a></label>
  <p class="i0" id="733">
    <i>live-build</i> instal·la paquets addicionals del arxiu de Debian i en funció de la distribució Debian utilitzada i de l'estat diari de l'arxiu, pot fallar. Si un error apareix aquí, comprovar si l'error és també reproduïble en un sistema normal.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#734" class="lnkocn">734</a></label>
  <p class="i0" id="734">
    Si aquest és el cas, no es tracta d'un error del sistema en viu, sinó de Debian - Informar d'això sobre el paquet que falla. Executar <i>debootstrap</i> per separat de la construcció del sistema Live o executar <tt>lb bootstrap --debug</tt> per a tenir més informació.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#735" class="lnkocn">735</a></label>
  <p class="i0" id="735">
    A més, si es fa servir un mirall local i/o qualsevol tipus de proxy i s'està experimentant algun problema, sempre s'ha de mirar de reproduir-lo fent un bootstrapping a partir d'un mirall oficial.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#736" class="lnkocn">736</a></label>
  <h6 class="norm" id="736"><a name="736"></a>
    <a name="c14.6.3" ></a><a name="h14.6.3" ></a>14.6.3 En el moment d'arrencar
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#737" class="lnkocn">737</a></label>
  <p class="i0" id="737">
    Si la imatge no arrenca, informar a la llista de correu, juntament amb la informació sol·licitada a  <a href="#collect-information">Recopilar informació</a>.  No oblidar-se d'esmentar, com/quan la imatge falla, ja sigui amb virtualització o maquinari real. Si s'utilitza una tecnologia de virtualització d'algun tipus, sempre fer la prova amb maquinari real abans d'informar d'un error. Proporcionar una captura de pantalla de l'error és també molt útil.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#738" class="lnkocn">738</a></label>
  <h6 class="norm" id="738"><a name="738"></a>
    <a name="c14.6.4" ></a><a name="h14.6.4" ></a>14.6.4 En temps d'execució
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#739" class="lnkocn">739</a></label>
  <p class="i0" id="739">
    Si un paquet s'ha instal·lat correctament, però falla quan s'executa el sistema Live, això és probablement un error al sistema en viu. No obstant això:
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#740" class="lnkocn">740</a></label>
  <h5 class="norm" id="740"><a name="740"></a>
    <a name="c14.7" ></a><a name="h14.7" ></a>14.7 Fer la recerca
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#741" class="lnkocn">741</a></label>
  <p class="i0" id="741">
    Abans de presentar l'informe d'errors, cercar a la web el missatge d'error o símptoma que s'està rebent. Ja que és molt poc probable que sigui l'única persona que té un problema en particular. Sempre hi ha una possibilitat que hagi estat discutit en un altre lloc i hi hagi una possible solució, pegat o s'hagi proposat una solució alternativa.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#742" class="lnkocn">742</a></label>
  <p class="i0" id="742">
    S'ha de prestar especial atenció a la llista de correu dels sistemes en viu, així com a la pàgina web, ja que és probable que continguin la informació més actualitzada. Si aquesta informació existeix, incloure una referènca a aquesta en l'informe d'errors.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#743" class="lnkocn">743</a></label>
  <p class="i0" id="743">
    A més, s'hauria de comprovar les llistes d'errors actuals de <i>live-build</i>, <i>live-boot</i>, <i>live-config</i> i <i>live-tools</i> per a veure si ja s'ha informat sobre alguna cosa semblant .
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#744" class="lnkocn">744</a></label>
  <h5 class="norm" id="744"><a name="744"></a>
    <a name="c14.8" ></a><a name="h14.8" ></a>14.8 On informar dels errors
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#745" class="lnkocn">745</a></label>
  <p class="i0" id="745">
    El Live Systems Project manté un registre de tots els errors en el sistema de seguiment d'errors de Debian (BTS). per a obtenir informació sobre la utilització del sistema, es pot consultar ‹<a href="https://bugs.debian.org/" target="_top">https://bugs.debian.org/</a>›. També es poden enviar els informes dels errors mitjançant l'ordre <tt>reportbug</tt> del paquet amb el mateix nom.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#746" class="lnkocn">746</a></label>
  <p class="i0" id="746">
    En general, s'ha d'informar dels errors en temps de construcció contra el paquet <i>live-build</i>, dels errors durant l'arrencada contra <i>live-boot</i> i dels errors de temps d'execució contra <i>live-config</i>. Si no s'està segur de quin paquet és l'adequat o es necessita més ajuda abans d'enviar un informe d'errors, informar contra el pseudopaquet debian-live. Nosaltres ens farem càrrec d'ell i el reassignarem on sigui procedent.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#747" class="lnkocn">747</a></label>
  <p class="i0" id="747">
    Tenir en compte que els errors trobats en les distribucions derivades de Debian (com Ubuntu i altres) no han de ser enviats al BTS de Debian tret que puguin ser reproduïts també en sistemes Debian utilitzant paquets oficials de Debian.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#748" class="lnkocn">748</a></label>
  <h1 class="norm" id="748"><a name="748"></a>
    Estil de Codi
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#749" class="lnkocn">749</a></label>
  <h4 class="norm" id="749"><a name="749"></a>
    <a name="h15" ></a><a name="estil_de_codi" ></a><a name="coding-style" ></a>15. Estil de Codi
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#750" class="lnkocn">750</a></label>
  <p class="i0" id="750">
    En aquest capítol es documenta l'estil de codi utilitzat a live systems.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#751" class="lnkocn">751</a></label>
  <h5 class="norm" id="751"><a name="751"></a>
    <a name="c15.1" ></a><a name="h15.1" ></a>15.1 Compatibilitat
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#752" class="lnkocn">752</a></label>
  <ul>
  <li class="bullet" id="752">
    No utilitzar una sintaxi o semàntica que sigui exclusiva de l'intèrpret d'ordres Bash. Per exemple, l'ús dels arrays.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#753" class="lnkocn">753</a></label>
  <ul>
  <li class="bullet" id="753">
    Utilitzar només el subconjunt POSIX - per exemple, utilitzar $(foo) en lloc de `foo`.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#754" class="lnkocn">754</a></label>
  <ul>
  <li class="bullet" id="754">
    Es pot comprovar els scripts amb 'sh -n' i 'checkbashisms'.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#755" class="lnkocn">755</a></label>
  <ul>
  <li class="bullet" id="755">
    Assegurar-se que tot el codi funciona amb 'set -e'.
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#756" class="lnkocn">756</a></label>
  <h5 class="norm" id="756"><a name="756"></a>
    <a name="c15.2" ></a><a name="h15.2" ></a>15.2 Indentació
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#757" class="lnkocn">757</a></label>
  <ul>
  <li class="bullet" id="757">
    Utilitzar sempre tabuladors en lloc d'espais.
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#758" class="lnkocn">758</a></label>
  <h5 class="norm" id="758"><a name="758"></a>
    <a name="c15.3" ></a><a name="h15.3" ></a>15.3 Ajust de línia
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#759" class="lnkocn">759</a></label>
  <ul>
  <li class="bullet" id="759">
    En general, les línies són de 80 caràcters com a màxim.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#760" class="lnkocn">760</a></label>
  <ul>
  <li class="bullet" id="760">
    Utilitzar "l'estil Linux" de salts de línia:
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#761" class="lnkocn">761</a></label>
  <p class="i0" id="761">
    Mal:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#762" class="lnkocn">762</a></label>
  <p class="code" id="762">
    if foo; then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar<br>
fi<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#763" class="lnkocn">763</a></label>
  <p class="i0" id="763">
    Bé:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#764" class="lnkocn">764</a></label>
  <p class="code" id="764">
    if foo<br>
then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar<br>
fi<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#765" class="lnkocn">765</a></label>
  <ul>
  <li class="bullet" id="765">
    El mateix val per a les funcions:
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#766" class="lnkocn">766</a></label>
  <p class="i0" id="766">
    Mal:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#767" class="lnkocn">767</a></label>
  <p class="code" id="767">
    Foo () {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar<br>
}<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#768" class="lnkocn">768</a></label>
  <p class="i0" id="768">
    Bé:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#769" class="lnkocn">769</a></label>
  <p class="code" id="769">
    Foo ()<br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar<br>
}<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#770" class="lnkocn">770</a></label>
  <h5 class="norm" id="770"><a name="770"></a>
    <a name="c15.4" ></a><a name="h15.4" ></a>15.4 Variables
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#771" class="lnkocn">771</a></label>
  <ul>
  <li class="bullet" id="771">
    Les variables van sempre en majúscules.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#772" class="lnkocn">772</a></label>
  <ul>
  <li class="bullet" id="772">
    Les variables que s'utilitzen a <i>live-build</i> sempre comencen amb el prefix <tt>LB_</tt>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#773" class="lnkocn">773</a></label>
  <ul>
  <li class="bullet" id="773">
    Les variables temporals internes de <i>live-build</i> comencen amb el prefix <tt>&#095;LB_</tt>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#774" class="lnkocn">774</a></label>
  <ul>
  <li class="bullet" id="774">
    Les variables locals comencen amb el prefix <i>live-build</i> <tt>&#095;&#095;LB_</tt>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#775" class="lnkocn">775</a></label>
  <ul>
  <li class="bullet" id="775">
    Les variables en relació a un paràmetre d'arrencada de <i>live-config</i> comencen amb <tt>LIVE_</tt>.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#776" class="lnkocn">776</a></label>
  <ul>
  <li class="bullet" id="776">
    Totes les altres variables de <i>live-config</i> comencen amb el prefix <tt>_</tt>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#777" class="lnkocn">777</a></label>
  <ul>
  <li class="bullet" id="777">
    Utilitzar claus al voltant de les variables, per exemple, escriure <tt>${FOO}</tt> en lloc de <tt>$FOO</tt>.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#778" class="lnkocn">778</a></label>
  <ul>
  <li class="bullet" id="778">
    Protegir sempre les variables amb cometes per a respectar els espais en blanc potencials: escriure <tt>"${FOO}"</tt> no <tt>${FOO}</tt>.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#779" class="lnkocn">779</a></label>
  <ul>
  <li class="bullet" id="779">
    Per raons de coherència, utilitzar sempre cometes al assignar valors a les variables:
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#780" class="lnkocn">780</a></label>
  <p class="i0" id="780">
    Mal:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#781" class="lnkocn">781</a></label>
  <p class="code" id="781">
    FOO=bar<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#782" class="lnkocn">782</a></label>
  <p class="i0" id="782">
    Bé:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#783" class="lnkocn">783</a></label>
  <p class="code" id="783">
    FOO="bar"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#784" class="lnkocn">784</a></label>
  <ul>
  <li class="bullet" id="784">
    Si s'utilitzen múltiples variables, posar cometes a l'expressió completa:
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#785" class="lnkocn">785</a></label>
  <p class="i0" id="785">
    Mal:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#786" class="lnkocn">786</a></label>
  <p class="code" id="786">
    if [ -f "${FOO}"/foo/"${BAR}"/bar ]<br>
then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foobar<br>
fi<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#787" class="lnkocn">787</a></label>
  <p class="i0" id="787">
    Bé:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#788" class="lnkocn">788</a></label>
  <p class="code" id="788">
    if [ -f "${FOO}/foo/${BAR}/bar" ]<br>
then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foobar<br>
fi<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#789" class="lnkocn">789</a></label>
  <h5 class="norm" id="789"><a name="789"></a>
    <a name="c15.5" ></a><a name="h15.5" ></a>15.5 Miscel·lània
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#790" class="lnkocn">790</a></label>
  <ul>
  <li class="bullet" id="790">
    Utilitzar "<tt>|</tt>" (sense les cometes) com separador en l'ús de sed, per exemple, "<tt>sed -e 's|foo|bar|'</tt>" (sense "").
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#791" class="lnkocn">791</a></label>
  <ul>
  <li class="bullet" id="791">
    No utilitzar l'ordre <tt>test</tt> per a fer comparacions o tests, utilitzar "<tt>[</tt>" "<tt>]</tt>" (sense ""); per exemple, "<tt>if [ -x /bin/foo ]; ...</tt>" i no "<tt>if test -x /bin/foo; ...</tt>".
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#792" class="lnkocn">792</a></label>
  <ul>
  <li class="bullet" id="792">
    Utilitzar <tt>case</tt> sempre que sigui possible en lloc de <tt>test</tt>, ja que és més fàcil de llegir i més ràpid en l'execució.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#793" class="lnkocn">793</a></label>
  <ul>
  <li class="bullet" id="793">
    Fer servir noms en majúscula per a les funcions per evitar conflictes amb l'entorn dels usuaris.
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#794" class="lnkocn">794</a></label>
  <h1 class="norm" id="794"><a name="794"></a>
    Procediments
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#795" class="lnkocn">795</a></label>
  <h4 class="norm" id="795"><a name="795"></a>
    <a name="h16" ></a><a name="procediments" ></a><a name="procedures" ></a>16. Procediments
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#796" class="lnkocn">796</a></label>
  <p class="i0" id="796">
    Aquest capítol documenta els procediments dins del Live Systems Project per a les diferents tasques que necessiten la cooperació amb altres equips de Debian.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#797" class="lnkocn">797</a></label>
  <h5 class="norm" id="797"><a name="797"></a>
    <a name="c16.1" ></a><a name="h16.1" ></a>16.1 Publicacions majors
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#798" class="lnkocn">798</a></label>
  <p class="i0" id="798">
    El llançament d'una nova versió de Debian inclou una gran quantitat de diferents equips que treballen junts per a fer que aixó succeeixi. En algun moment, l'equip Live arriba i construeix imatges en viu del sistema. Els requisits per a fer això són:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#799" class="lnkocn">799</a></label>
  <ul>
  <li class="bullet" id="799">
    Un mirall que contingui les versions publicades dels arxius de debian i debian-security on pugui accedir el buildd de debian-live.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#800" class="lnkocn">800</a></label>
  <ul>
  <li class="bullet" id="800">
    S'ha de conèixer el nom de la imatge (per exemple, debian-live-VERSION-ARCH-FLAVOUR.iso).
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#801" class="lnkocn">801</a></label>
  <ul>
  <li class="bullet" id="801">
    S'han de sincronitzar les dades de debian-cd (udeb exclude lists).
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#802" class="lnkocn">802</a></label>
  <ul>
  <li class="bullet" id="802">
    Les imatges es construeixen i s'en fa una rèplica a cdimage.debian.org.
  </li>
  </ul>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#803" class="lnkocn">803</a></label>
  <h5 class="norm" id="803"><a name="803"></a>
    <a name="c16.2" ></a><a name="h16.2" ></a>16.2 Publicacions puntuals
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#804" class="lnkocn">804</a></label>
  <ul>
  <li class="bullet" id="804">
    Un cop més, necessitem miralls actualitzats de debian i debian-security.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#805" class="lnkocn">805</a></label>
  <ul>
  <li class="bullet" id="805">
    Les imatges es construeixen i s'en fa una rèplica a cdimage.debian.org.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#806" class="lnkocn">806</a></label>
  <ul>
  <li class="bullet" id="806">
    Enviar un anunci per correu electrònic.
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#807" class="lnkocn">807</a></label>
  <h6 class="norm" id="807"><a name="807"></a>
    <a name="c16.2.1" ></a><a name="h16.2.1" ></a>16.2.1 Ùltima publicació puntual d'una versió de Debian
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#808" class="lnkocn">808</a></label>
  <p class="i0" id="808">
    Recordar que s'han d'ajustar els miralls chroot i binary en la construcció de l'última sèrie d'imatges per a una versió de Debian després de canviar-les de ftp.debian.org a archive.debian.org. D'aquesta manera, les imatges prefabricades ja velles continuaran sent útils sense modificacions per part dels usuaris.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#809" class="lnkocn">809</a></label>
  <h6 class="norm" id="809"><a name="809"></a>
    <a name="c16.2.2" ></a><a name="h16.2.2" ></a>16.2.2 Plantilla per a anunciar una publicació puntual
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#810" class="lnkocn">810</a></label>
  <p class="i0" id="810">
    Es pot generar un correu per a anunciar una publicació puntual mitjançant la plantilla següent i l'ordre:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#811" class="lnkocn">811</a></label>
  <p class="code" id="811">
    $ sed \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-e 's|@MAJOR@|9.0|g' \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-e 's|@MINOR@|9.0.1|g' \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-e 's|@CODENAME@|stretch|g' \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-e 's|@ANNOUNCE@|2017/msgXXXXX.html|g'<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#812" class="lnkocn">812</a></label>
  <p class="i0" id="812">
    Llegir el correu acuradament abans d'enviar-lo i passar-lo als altres per a la correcció d'errades.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#813" class="lnkocn">813</a></label>
  <p class="code" id="813">
    Updated Live @MAJOR@: @MINOR@ released<br><br>
The Live Systems Project is pleased to announce the @MINOR@ update of the<br>
Live images for the stable distribution Debian @MAJOR@ (codename "@CODENAME@").<br><br>
The images are available for download at:<br><br>
&nbsp;&nbsp;&nbsp;&lt;http://debian-live.alioth.debian.org/cdimage/release/current/&gt;<br> <br>
and later at:<br><br>
&nbsp;&nbsp;&nbsp;&lt;http://cdimage.debian.org/cdimage/release/current-live/&gt;<br> <br>
This update includes the changes of the Debian @MINOR@ release:<br><br>
&nbsp;&nbsp;&nbsp;&lt;https://lists.debian.org/debian-announce/@ANNOUNCE@&gt;<br> <br>
Additionally it includes the following Live-specific changes:<br><br>
&nbsp;&nbsp;* [INSERT LIVE-SPECIFIC CHANGE HERE]<br>
&nbsp;&nbsp;* [INSERT LIVE-SPECIFIC CHANGE HERE]<br>
&nbsp;&nbsp;* [LARGER ISSUES MAY DESERVE THEIR OWN SECTION]<br><br>
About Live Systems<br>
------------------<br>
The Live Systems Project produces the tools used to build official<br>
live systems and the official live images themselves for Debian.<br><br>
About Debian<br>
------------<br>
The Debian Project is an association of Free Software developers who<br>
volunteer their time and effort in order to produce the completely free<br>
operating system Debian.<br><br>
Contact Information<br>
-------------------<br>
For further information, please visit the Live Systems web pages at<br>
&lt;http://debian-live.alioth.debian.org/&gt;, or contact the Live Systems team at<br>
&lt;debian-live@lists.debian.org&gt;.<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#814" class="lnkocn">814</a></label>
  <h1 class="norm" id="814"><a name="814"></a>
    Repositoris Git
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#815" class="lnkocn">815</a></label>
  <h4 class="norm" id="815"><a name="815"></a>
    <a name="h17" ></a><a name="repositoris_git" ></a><a name="git-repositories" ></a>17. Repositoris Git
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#816" class="lnkocn">816</a></label>
  <p class="i0" id="816">
    La llista de tots els repositoris del Live Systems Project és a ‹<a href="http://http://anonscm.debian.org/cgit/debian-live/" target="_top">http://http://anonscm.debian.org/cgit/debian-live/</a>›. Les URLs git del projecte tenen la forma: <tt>protocol://http://anonscm.debian.org/git/debian-live/repositori</tt>. Per tant, per a clonar <i>live-manual</i> en només lectura, llançar:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#817" class="lnkocn">817</a></label>
  <p class="code" id="817">
    $ git clone git://http://anonscm.debian.org/git/debian-live/live-manual.git<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#818" class="lnkocn">818</a></label>
  <p class="i0" id="818">
    O,
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#819" class="lnkocn">819</a></label>
  <p class="code" id="819">
    $ git clone https://http://anonscm.debian.org/git/debian-live/live-manual.git<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#820" class="lnkocn">820</a></label>
  <p class="i0" id="820">
    O,
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#821" class="lnkocn">821</a></label>
  <p class="code" id="821">
    $ git clone http://http://anonscm.debian.org/git/debian-live/live-manual.git<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#822" class="lnkocn">822</a></label>
  <p class="i0" id="822">
    Les adreces per a clonar amb permís d'escriptura tenen la forma: <tt>git@debian-live.alioth.debian.org/repositori</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#823" class="lnkocn">823</a></label>
  <p class="i0" id="823">
    Així que, de nou, per a clonar <i>live-manual</i> a través de ssh escriure:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#824" class="lnkocn">824</a></label>
  <p class="code" id="824">
    $ git clone ssh://git.debian.org/git/debian-live/live-manual.git<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#825" class="lnkocn">825</a></label>
  <p class="i0" id="825">
    L'arbre git es compon de diverses branques diferents. Les branques <b>debian</b> i <b>debian-next</b> són particularment notables perquè contenen el treball real que, amb el temps, serà inclòs en cada nova versió.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#826" class="lnkocn">826</a></label>
  <p class="i0" id="826">
    Després de clonar qualsevol dels repositoris existents, estarem a la branca <b>debian</b>. Això és apropiat per a fer una ullada a l'estat de l'última versió del projecte, però abans de començar a treballar és fonamental canviar a la branca <b>debian-next</b>. Per fer això:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#827" class="lnkocn">827</a></label>
  <p class="code" id="827">
    $ git checkout debian-next<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#828" class="lnkocn">828</a></label>
  <p class="i0" id="828">
    La branca <b>debian-next</b>, que no sempre és fast-forward, és on es realitzen tots els canvis abans de fusionar-los amb la branca <b>debian</b>. Per fer una analogia, és com un camp de proves. Si s'està treballant en aquesta branca i es necessari fer un pull, s'haurà de fer un <tt>git pull --rebase</tt> perquè les modificacions locals es guardin mentre s'actualitza des del servidor i llavors els canvis locals es posaran al damunt de tot.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#829" class="lnkocn">829</a></label>
  <h5 class="norm" id="829"><a name="829"></a>
    <a name="c17.1" ></a><a name="h17.1" ></a>17.1 Gestió de múltiples repositoris
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#830" class="lnkocn">830</a></label>
  <p class="i0" id="830">
    Si es té la intenció de clonar diversos repositoris de Live Systems i canviar a la branca <b>debian-next</b> immediatament per a comprovar l'últim codi, escriure un pegat o contribuir amb una traducció, s'ha de saber que el servidor git proporciona un fitxer <tt>mrconfig</tt> per a facilitar el maneig de múltiples repositoris. Per a utilitzar-lo cal instal·lar el paquet <i>mr</i> i després d'això, fer:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#831" class="lnkocn">831</a></label>
  <p class="code" id="831">
    $&nbsp;&nbsp;mr bootstrap http://debian-live.alioth.debian.org/other/mr/mrconfig<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#832" class="lnkocn">832</a></label>
  <p class="i0" id="832">
    Aquesta ordre automàticament clonarà i canviarà a la branca <b>debian-next</b> els repositoris de desenvolupament dels paquets debian produïts pel projecte. Aquests inclouen, entre d'altres, el repositori <i>live-images</i>, que conté les configuracions utilitzades per a construir les imatges prefabricades que el projecte publica per a l'ús general. per a obtenir més informació sobre com utilitzar aquest repositori, consultar  <a href="#clone-configuration-via-git">Clonar una configuració publicada via Git</a>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#833" class="lnkocn">833</a></label>
  <h1 class="norm" id="833"><a name="833"></a>
    Exemples
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#834" class="lnkocn">834</a></label>
  <h1 class="norm" id="834"><a name="834"></a>
    Exemples
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#835" class="lnkocn">835</a></label>
  <h4 class="norm" id="835"><a name="835"></a>
    <a name="h18" ></a><a name="exemples" ></a><a name="examples" ></a>18. Exemples
  </h4>
</div>

<div class="substance">
  <label class="ocn"><a href="#836" class="lnkocn">836</a></label>
  <p class="i0" id="836">
    En aquest capítol s'inclouen exemples de construccions per a casos d'ús específics amb sistemes en viu. Si s'és nou en la construcció d'imatges en viu pròpies, us suggerim mirar els tres tutorials en seqüència, ja que cada un ensenya noves tècniques que ajuden a utilitzar i entendre els exemples restants.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#837" class="lnkocn">837</a></label>
  <h5 class="norm" id="837"><a name="837"></a>
    <a name="h18.1" ></a><a name="using-the-examples" ></a>18.1 Ús dels exemples
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#838" class="lnkocn">838</a></label>
  <p class="i0" id="838">
    per a utilitzar aquests exemples es necessita un sistema de construcció que compleixi les exigències enumerades a  <a href="#requirements">Requisits</a>  y que tingui <i>live-build</i> instal·lat com es descriu a  <a href="#installing-live-build">Instal·lació de live-build</a>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#839" class="lnkocn">839</a></label>
  <p class="i0" id="839">
    Cal notar que, per a abreujar, en aquests exemples no s'especifica un mirall local per a utilitzar en la construcció. Es poden accelerar les descàrregues considerablement si s'utilitza un mirall local. Es pot especificar les opcions quan s'utilitza <tt>lb config</tt>, com es descriu a  <a href="#distribution-mirrors-build-time">Miralls de distribució utilitzats en temps de construcció</a>,  o per a major comoditat, establir el valor predeterminat per al sistema de construcció en el fitxer <tt>/etc/live/build.conf</tt>. Només cal crear aquest fitxer i establir a les variables al mirall preferit. Tots els altres miralls que s'utilitzin en la construcció adoptaran valors per defecte segons aquests valors. Per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#840" class="lnkocn">840</a></label>
  <p class="code" id="840">
    LB_MIRROR_BOOTSTRAP="http://mirror/debian/" <br>
LB_MIRROR_CHROOT_SECURITY="http://mirror/debian-security/" <br>
LB_MIRROR_CHROOT_BACKPORTS="http://mirror/debian-updates/"<br>
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#841" class="lnkocn">841</a></label>
  <h5 class="norm" id="841"><a name="841"></a>
    <a name="h18.2" ></a><a name="tutorial-1" ></a>18.2 Tutorial 1: Una imatge per defecte
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#842" class="lnkocn">842</a></label>
  <p class="i0" id="842">
    <b>Cas d'ús:</b> Crear una primera imatge senzilla, aprenent els conceptes bàsics de <i>live-build</i>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#843" class="lnkocn">843</a></label>
  <p class="i0" id="843">
    En aquest tutorial, anem a construir una imatge ISO híbrida per defecte que contingui només els paquets de base (no té Xorg) i altres paquets de suport de sistema en viu, com un primer exercici en l'ús de <i>live-build</i>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#844" class="lnkocn">844</a></label>
  <p class="i0" id="844">
    No pot ser més senzill que això:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#845" class="lnkocn">845</a></label>
  <p class="code" id="845">
    $ mkdir tutorial1 ; cd tutorial1 ; lb config<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#846" class="lnkocn">846</a></label>
  <p class="i0" id="846">
    Examinar el contingut del directori <tt>config/</tt> si es vol. Es veurà emmagatzemada aquí una configuració en esquelet, a punt per a ser personalitzada o, en aquest cas, per a ser utilitzada immediatament per a construir una imatge per defecte.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#847" class="lnkocn">847</a></label>
  <p class="i0" id="847">
    Ara, com a superusuari, construir la imatge, guardant un log del que es construeix amb <tt>tee</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#848" class="lnkocn">848</a></label>
  <p class="code" id="848">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#849" class="lnkocn">849</a></label>
  <p class="i0" id="849">
    Suposant que tot va bé, després d'una estona, el directori actual contindrà una <tt>live-image-i386.hybrid.iso</tt>. Aquesta imatge ISO híbrida es pot arrencar en una màquina virtual tal com s'explica a  <a href="#testing-iso-with-qemu">Provar una imatge ISO amb Qemu</a>  i  <a href="#testing-iso-with-virtualbox">Provar una imatge ISO amb VirtualBox</a>,  o bé copiada a un dispositiu USB com es descriu a  <a href="#burning-iso-image">Gravar una imatge ISO en un medi físic</a>  i  <a href="#copying-iso-hybrid-to-usb">Copiar una imatge ISO híbrida en un dispositiu USB</a>,  respectivament.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#850" class="lnkocn">850</a></label>
  <h5 class="norm" id="850"><a name="850"></a>
    <a name="h18.3" ></a><a name="tutorial-2" ></a>18.3 Tutorial 2: Una utilitat de navegador web
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#851" class="lnkocn">851</a></label>
  <p class="i0" id="851">
    <b>Cas d'ús:</b> Crear una imatge d'una utilitat de navegador web, aprenent a aplicar personalitzacions.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#852" class="lnkocn">852</a></label>
  <p class="i0" id="852">
    En aquest tutorial, anem a crear una imatge adequada per al seu ús com a una utilitat de navegador web, que serveix com introducció a la personalització de les imatges de sistemes en viu.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#853" class="lnkocn">853</a></label>
  <p class="code" id="853">
    $ mkdir tutorial2<br>
$ cd tutorial2<br>
$ lb config<br>
$ echo "task-lxde-desktop iceweasel" &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#854" class="lnkocn">854</a></label>
  <p class="i0" id="854">
    La nostra elecció de LXDE per a aquest exemple reflecteix el nostre desig d'oferir un entorn d'escriptori mínim, ja que l'objectiu de la imatge és l'únic ús que tenim al cap, el navegador web. Podríem anar encara més lluny i oferir una configuració per defecte per al navegador web a <tt>config/includes.chroot/etc/iceweasel/profile/</tt>, o paquets addicionals de suport per a la visualització de diversos tipus de contingut web, però deixem això com a un exercici per al lector.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#855" class="lnkocn">855</a></label>
  <p class="i0" id="855">
    Construir la imatge, de nou com a superusuari, guardant un log com al  <a href="#tutorial-1">Tutorial 1</a>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#856" class="lnkocn">856</a></label>
  <p class="code" id="856">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#857" class="lnkocn">857</a></label>
  <p class="i0" id="857">
    Un cop més, verificar que la imatge està bé i provar-la, com al  <a href="#tutorial-1">Tutorial 1</a>.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#858" class="lnkocn">858</a></label>
  <h5 class="norm" id="858"><a name="858"></a>
    <a name="h18.4" ></a><a name="tutorial-3" ></a>18.4 Tutorial 3: Una imatge personalitzada
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#859" class="lnkocn">859</a></label>
  <p class="i0" id="859">
    <b>Cas d'ús:</b> Crear un projecte per a construir una imatge personalitzada, que contingui el programari favorit per a portar en una memòria USB allà on es vagi i que evolucionarà en revisions successives tal i com les necessitats i les preferències canvien.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#860" class="lnkocn">860</a></label>
  <p class="i0" id="860">
    Com la nostra imatge personalitzada canviarà durant un nombre de revisions i volem fer un seguiment d'aquests canvis, provar coses experimentals i possiblement revertir-les si les coses no surten bé, anem a mantenir la nostra configuració en el popular sistema de control de versions <tt>git</tt>. També utilitzarem les millors pràctiques de configuració automàtica mitjançant scripts <tt>auto</tt> com s'explica a  <a href="#managing-a-configuration">Gestió d'una configuració</a>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#861" class="lnkocn">861</a></label>
  <h6 class="norm" id="861"><a name="861"></a>
    <a name="c18.4.1" ></a><a name="h18.4.1" ></a>18.4.1 Primera revisió
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#862" class="lnkocn">862</a></label>
  <p class="code" id="862">
    $ mkdir -p tutorial3/auto<br>
$ cp /usr/share/doc/live-build/examples/auto/* tutorial3/auto/<br>
$ cd tutorial3<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#863" class="lnkocn">863</a></label>
  <p class="i0" id="863">
    Editar <tt>auto/config</tt> de la manera següent:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#864" class="lnkocn">864</a></label>
  <p class="code" id="864">
    #!/bin/sh<br><br>
lb config noauto \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--architectures i386 \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--linux-flavours 686-pae \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"${@}"<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#865" class="lnkocn">865</a></label>
  <p class="i0" id="865">
    Executar <tt>lb config</tt> per a crear l'arbre de configuració, utilitzant el script <tt>auto/config</tt> que s'acaba de crear:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#866" class="lnkocn">866</a></label>
  <p class="code" id="866">
    $ lb config<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#867" class="lnkocn">867</a></label>
  <p class="i0" id="867">
    Ara, omplir la llista local de paquets:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#868" class="lnkocn">868</a></label>
  <p class="code" id="868">
    $ echo "task-lxde-desktop iceweasel xchat" &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#869" class="lnkocn">869</a></label>
  <p class="i0" id="869">
    En primer lloc, amb <tt>--architectures i386</tt> s'assegura que al nostre sistema de construcció <tt>amd64</tt> podem construir una versió de 32 bits adequada per al seu ús en la majoria de màquines. En segon lloc, fem servir <tt>--linux-flavours 686-pae</tt> perquè no creiem que utilitzarem aquesta imatge en sistemes molt més vells. En tercer lloc, hem triat la tasca metapaquet <i>lxde</i> per a donar-nos un escriptori mínim. I, finalment, hem afegit dos paquets inicials favorits: <i>iceweasel</i> i <i>xchat</i>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#870" class="lnkocn">870</a></label>
  <p class="i0" id="870">
    Ara, construir la imatge:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#871" class="lnkocn">871</a></label>
  <p class="code" id="871">
    # lb build<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#872" class="lnkocn">872</a></label>
  <p class="i0" id="872">
    Tenir en compte que a diferència dels dos primers tutorials, ja no s'ha d'escriure <tt>2&gt;&amp;1 | tee build.log</tt> ja que ara s'inclou al script <tt>auto/build</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#873" class="lnkocn">873</a></label>
  <p class="i0" id="873">
    Quan s'ha provat la imatge (com al  <a href="#tutorial-1">Tutorial 1</a>)  i s'està satisfet del seu funcionament, és el moment d'iniciar el repositòri <tt>git</tt>, afegint només els scripts auto que s'han creat, i llavors fer el primer lliurament:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#874" class="lnkocn">874</a></label>
  <p class="code" id="874">
    $ git init<br>
$ cp /usr/share/doc/live-build/examples/gitignore .gitignore<br>
$ git add .<br>
$ git commit -m "Initial import."<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#875" class="lnkocn">875</a></label>
  <h6 class="norm" id="875"><a name="875"></a>
    <a name="c18.4.2" ></a><a name="h18.4.2" ></a>18.4.2 Segona revisió
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#876" class="lnkocn">876</a></label>
  <p class="i0" id="876">
    En aquesta revisió, anem a netejar després de la primera construcció, afegir el paquet <i>vlc</i> a la nostra configuració, reconstruir, provar i fer el lliurament.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#877" class="lnkocn">877</a></label>
  <p class="i0" id="877">
    L'ordre <tt>lb clean</tt> netejarà tots els fitxers generats en la construcció anterior a excepció del cache, el que estalvia haver de tornar a descarregar els paquets. Això assegura que el <tt>lb build</tt> següent tornarà a executar totes les etapes per a regenerar els fitxers de la nostra nova configuració.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#878" class="lnkocn">878</a></label>
  <p class="code" id="878">
    # lb clean<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#879" class="lnkocn">879</a></label>
  <p class="i0" id="879">
    Ara afegim el paquet <i>vlc</i> al llistat de paquets local a <tt>config/package-lists/my.list.chroot</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#880" class="lnkocn">880</a></label>
  <p class="code" id="880">
    $ echo vlc &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#881" class="lnkocn">881</a></label>
  <p class="i0" id="881">
    Construir de nou:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#882" class="lnkocn">882</a></label>
  <p class="code" id="882">
    # lb build<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#883" class="lnkocn">883</a></label>
  <p class="i0" id="883">
    Provar, i quan s'estigui satisfet, fer el lliurament de la propera revisió:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#884" class="lnkocn">884</a></label>
  <p class="code" id="884">
    $ git commit -a -m "Adding vlc media player."<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#885" class="lnkocn">885</a></label>
  <p class="i0" id="885">
    Per descomptat, es possible fer canvis més complicats en la configuració, potser afegint fitxers en els subdirectoris de <tt>config/</tt>. Quan es fa un lliurament de les noves revisions, s'ha de tenir cura de no editar a mà o incloure en el lliurament els fitxers de nivell superior de <tt>config</tt> que contenen variables <tt>LB_*</tt>, ja que són productes de construcció també, i sempre són netejats per <tt>lb clean</tt> i tornats a crear per <tt>lb config</tt> a través dels seus respectius scripts <tt>auto</tt>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#886" class="lnkocn">886</a></label>
  <p class="i0" id="886">
    Hem arribat al final de la nostra sèrie de tutorials. Molts més tipus de personalització són possibles, amb les poques característiques explorades en aquests senzills exemples, es poden crear una varietat gairebé infinita d'imatges diferents. Els exemples que queden d'aquesta secció tracten diferents casos d'ús extrets de les experiències recollides dels usuaris de sistemes en viu.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#887" class="lnkocn">887</a></label>
  <h5 class="norm" id="887"><a name="887"></a>
    <a name="c18.5" ></a><a name="h18.5" ></a>18.5 Un client per a un quiosc VNC
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#888" class="lnkocn">888</a></label>
  <p class="i0" id="888">
    <b>Cas d'ús:</b> Crear una imatge amb <i>live-build</i> per a connectar-se directament a un servidor VNC al arrencar.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#889" class="lnkocn">889</a></label>
  <p class="i0" id="889">
    Fer un directori de treball i crear una configuració d'esquelet en el seu interior, desactivant els «recommends» per a fer un sistema mínim. I a continuació, crear dues llistes inicials de paquets: La primera generada per un script proporcionat per <i>live-build</i> anomenat <tt>Packages</tt> (veure  <a href="#generated-package-lists">Generar llistes de paquets</a>),  i la segona incloent-hi <i>xorg</i>, <i>gdm3</i>, <i>metacity</i> i <i>xvnc4viewer</i>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#890" class="lnkocn">890</a></label>
  <p class="code" id="890">
    $ mkdir vnc-kiosk-client<br>
$ cd vnc-kiosk-client<br>
$ lb config -a i386 -k 686-pae --apt-recommends false<br>
$ echo '! Packages Priority standard' &gt; config/package-lists/standard.list.chroot<br>
$ echo "xorg gdm3 metacity xvnc4viewer" &gt; config/package-lists/my.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#891" class="lnkocn">891</a></label>
  <p class="i0" id="891">
    Com s'explica a  <a href="#tweaking-apt-to-save-space">Afinar APT per a estalviar espai</a>  pot ser que s'hagi de tornar a afegir alguns paquets recomanats per a fer que la imatge funcioni correctament.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#892" class="lnkocn">892</a></label>
  <p class="i0" id="892">
    Una manera fàcil d'enumerar els recommends és utilitzar <i>apt-cache</i>. Per exemple:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#893" class="lnkocn">893</a></label>
  <p class="code" id="893">
    $ apt-cache depends live-config live-boot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#894" class="lnkocn">894</a></label>
  <p class="i0" id="894">
    En aquest exemple, ens vam assabentar que havíem de tornar a incloure diversos paquets recomanats per <i>live-config</i> i <i>live-boot</i>: <tt>user-setup</tt> perquè funcioni l'autologin i <tt>sudo</tt> com a programa essencial per a apagar el sistema. A més, podria ser útil afegir <tt>live-tools</tt> per a poder copiar la imatge en la memòria RAM i <tt>eject</tt> per a expulsar, finalment, el medi en viu. Per tant:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#895" class="lnkocn">895</a></label>
  <p class="code" id="895">
    $ echo "live-tools user-setup sudo eject" &gt; config/package-lists/recommends.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#896" class="lnkocn">896</a></label>
  <p class="i0" id="896">
    Després, crear el directori <tt>/etc/skel</tt> a <tt>config/includes.chroot</tt> i posar un fitxer <tt>.xsession</tt> personalitzat per a l'usuari per defecte que posarà en marxa <i>metacity</i> i iniciarà <i>xvncviewer</i>, connectant al port <tt>5901</tt> d'un servidor ubicat a <tt>192.168.1.2</tt>:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#897" class="lnkocn">897</a></label>
  <p class="code" id="897">
    $ mkdir -p config/includes.chroot/etc/skel<br>
$ cat &gt; config/includes.chroot/etc/skel/.xsession &lt;&lt; EOF<br>
#!/bin/sh<br><br>
/usr/bin/metacity &amp;<br>
/usr/bin/xvncviewer 192.168.1.2:1<br><br>
exit<br>
EOF<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#898" class="lnkocn">898</a></label>
  <p class="i0" id="898">
    Construir la imatge:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#899" class="lnkocn">899</a></label>
  <p class="code" id="899">
    # lb build<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#900" class="lnkocn">900</a></label>
  <p class="i0" id="900">
    Gaudir-ne.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#901" class="lnkocn">901</a></label>
  <h5 class="norm" id="901"><a name="901"></a>
    <a name="c18.6" ></a><a name="h18.6" ></a>18.6 Una imatge bàsica per a un dispositiu USB de 128MB
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#902" class="lnkocn">902</a></label>
  <p class="i0" id="902">
    <b>Cas d'ús:</b> Crear una imatge per defecte amb alguns components eliminats per tal que càpiga en una clau USB de 128MB amb un petit espai de sobres per a utilitzar-lo com millor us sembli.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#903" class="lnkocn">903</a></label>
  <p class="i0" id="903">
    Al optimitzar una imatge per a adaptar-la a una mida determinada, cal comprendre la compensació que s'estan fent entre la mida i la funcionalitat. En aquest exemple, retallem tant només per a donar cabuda a material addicional dins d'una mida de 128MB, però sense fer res per a destruir la integritat dels paquets continguts, com la depuració de les dades de localització a través del paquet <i>localepurge</i> o altres optimitzacions "intrusives". De particular interès, utilitzem <tt>--debootstrap-options</tt> per a crear un sistema mínim des de zero.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#904" class="lnkocn">904</a></label>
  <p class="code" id="904">
    $ lb config --apt-indices false --apt-recommends false --debootstrap-options "--variant=minbase" --firmware-chroot false --memtest none<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#905" class="lnkocn">905</a></label>
  <p class="i0" id="905">
    Per a fer que la imatge funcioni correctament, hem de tornar a afegir, com a mínim, dos paquets recomanats, que es queden fora per l'opció <tt>--apt-recommends false</tt>. Veure  <a href="#tweaking-apt-to-save-space">Afinar APT per a estalviar espai</a>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#906" class="lnkocn">906</a></label>
  <p class="code" id="906">
    $ echo "user-setup sudo" &gt; config/package-lists/recommends.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#907" class="lnkocn">907</a></label>
  <p class="i0" id="907">
    Ara, crear la imatge de la forma habitual:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#908" class="lnkocn">908</a></label>
  <p class="code" id="908">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#909" class="lnkocn">909</a></label>
  <p class="i0" id="909">
    En el sistema de l'autor en el moment d'escriure això, la configuració anterior produeix una imatge de 110MB. Això es compara favorablement amb la imatge de 192MB produïda per la configuració per defecte del  <a href="#tutorial-1">Tutorial 1</a>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#910" class="lnkocn">910</a></label>
  <p class="i0" id="910">
    Deixar els índexs d'APT amb <tt>--apt-indices false</tt> permet estalviar una bona quantitat d'espai, el desavantatge és que es necessita fer <tt>apt-get update</tt> abans d'utilitzar apt en el sistema en viu. Deixar els paquets recomanats amb <tt>--apt-recommends false</tt> estalvia una mica d'espai addicional, a costa d'ometre alguns paquets que d'una altra manera es podria esperar que hi fossin. <tt>--debootstrap-options "--variant=minbase"</tt> preinstal·la un sistema mínim des del principi. Al no incloure automàticament paquets de firmware amb <tt>--firmware-chroot false</tt> també es guanya una mica d'espai. I finalment, <tt>--memtest none</tt> impedeix la instal·lació d'un comprovador de memòria.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#911" class="lnkocn">911</a></label>
  <p class="i0" id="911">
    <b>Nota:</b> Un sistema mínim es pot aconseguir també fent servir un script ganxo, com ara el <tt>stripped.hook.chroot</tt> de <tt>/usr/share/doc/live-build/examples/hooks</tt>. Es pot guanyar petites quantitats addicionals d'espai i produir una imatge de 91MB. No obstant, el script ganxo aconsegueix això eliminant documentació i altres fitxers dels paquets instal·lats al sistema. Això viola la integritat dels paquets i com és comenta a l'encapçalament del script, pot tenir conseqüències imprevistes. És per això que l'ús d'un <i>debootstrap</i> mínim és el mètode recomanat per a aconseguir aquest objectiu.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#912" class="lnkocn">912</a></label>
  <h5 class="norm" id="912"><a name="912"></a>
    <a name="c18.7" ></a><a name="h18.7" ></a>18.7 Un escriptori GNOME localitzat i amb instal·lador
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#913" class="lnkocn">913</a></label>
  <p class="i0" id="913">
    <b>Cas d'ús:</b> Crear una imatge amb l'escriptori GNOME, localitzat per Suïssa i que inclogui un instal·lador.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#914" class="lnkocn">914</a></label>
  <p class="i0" id="914">
    Volem fer una imatge ISO híbrida per a l'arquitectura i386 fent servir el nostre escriptori preferit, en aquest cas GNOME, que conté tots els mateixos paquets que serien instal·lats per l'instal·lador estàndard de Debian per a GNOME.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#915" class="lnkocn">915</a></label>
  <p class="i0" id="915">
    El nostre primer problema és descobrir els noms de les tasques del llenguatge apropiades. En l'actualitat, <i>live-build</i> no ens pot ajudar amb això. Tot i que es podria tenir sort i trobar-ho per assaig i error, hi ha una eina, <tt>grep-dctrl</tt>, per extreure les descripcions de les tasques de tasksel-data. Per a preparar-ho tot, assegurar-se de tenir totes dues coses:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#916" class="lnkocn">916</a></label>
  <p class="code" id="916">
    # apt-get install dctrl-tools tasksel-data<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#917" class="lnkocn">917</a></label>
  <p class="i0" id="917">
    Ara podem buscar les tasques apropiades, primer amb:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#918" class="lnkocn">918</a></label>
  <p class="code" id="918">
    $ grep-dctrl -FTest-lang de /usr/share/tasksel/descs/debian-tasks.desc -sTask<br>
Task: german<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#919" class="lnkocn">919</a></label>
  <p class="i0" id="919">
    Mitjançant aquesta ordre, es descobreix que la tasca s'anomena, amb suficient claredat, german. Ara, per a trobar les tasques relacionades:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#920" class="lnkocn">920</a></label>
  <p class="code" id="920">
    $ grep-dctrl -FEnhances german /usr/share/tasksel/descs/debian-tasks.desc -sTask<br>
Task: german-desktop<br>
Task: german-kde-desktop<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#921" class="lnkocn">921</a></label>
  <p class="i0" id="921">
    En el moment d'arrencar es generarà la variant regional <b>de_CH.UTF-8</b> i es seleccionarà la disposició del teclat <b>ch</b>. Ara posarem les peces juntes. Recordant de  <a href="#using-metapackages">Ús dels metapaquets</a>  que els metapaquets tenen el prefix <tt>task-</tt>, simplement especificar aquests paràmetres del llenguatge a l'arrencada, i després afegir els paquets de prioritat estàndard i tots els metapaquets descoberts a la nostra llista de paquets de la següent manera:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#922" class="lnkocn">922</a></label>
  <p class="code" id="922">
    $ mkdir live-gnome-ch<br>
$ cd live-gnome-ch<br>
$ lb config \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-a i386 \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--bootappend-live "boot=live components locales=de_CH.UTF-8 keyboard-layouts=ch" \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--debian-installer live<br>
$ echo '! Packages Priority standard' &gt; config/package-lists/standard.list.chroot<br>
$ echo task-gnome-desktop task-german task-german-desktop &gt;&gt; config/package-lists/desktop.list.chroot<br>
$ echo debian-installer-launcher &gt;&gt; config/package-lists/installer.list.chroot<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#923" class="lnkocn">923</a></label>
  <p class="i0" id="923">
    Tenir en compte que s'ha inclòs el paquet <i>debian-installer-launcher</i> per a llançar l'instal·lador des de l'escriptori en viu. El nucli <tt>586</tt>, que actualment és necessari perquè el llançador funcioni correctament, s'inclou per defecte.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#924" class="lnkocn">924</a></label>
  <h1 class="norm" id="924"><a name="924"></a>
    Apèndix
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#925" class="lnkocn">925</a></label>
  <h1 class="norm" id="925"><a name="925"></a>
    Style guide
  </h1>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#926" class="lnkocn">926</a></label>
  <h4 class="norm" id="926"><a name="926"></a>
    <a name="h19" ></a><a name="guia_destil" ></a><a name="style-guide" ></a>19. Guia d'estil
  </h4>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#927" class="lnkocn">927</a></label>
  <h5 class="norm" id="927"><a name="927"></a>
    <a name="c19.1" ></a><a name="h19.1" ></a>19.1 Instruccions per als autors
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#928" class="lnkocn">928</a></label>
  <p class="i0" id="928">
    Aquesta secció s'ocupa d'algunes consideracions generals a tenir en compte al escriure documentació tècnica per a <i>live-manual</i>. Es divideixen en aspectes lingüístics i procediments recomanats.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#929" class="lnkocn">929</a></label>
  <p class="i0" id="929">
    <b>Nota:</b>  Els autors han de llegir primer  <a href="#how-to-contribute">Contribuir a aquest document</a>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#930" class="lnkocn">930</a></label>
  <h6 class="norm" id="930"><a name="930"></a>
    <a name="c19.1.1" ></a><a name="h19.1.1" ></a>19.1.1 Característiques lingüístiques
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#931" class="lnkocn">931</a></label>
  <ul>
  <li class="bullet" id="931">
    <i>Utilitzar un anglès planer</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#932" class="lnkocn">932</a></label>
  <p class="i0" id="932">
    Tenir en compte que un alt percentatge dels lectors no són parlants nadius d'anglès. Així que, com a regla general, intentar utilitzar frases curtes i significatives, seguides d'un punt i apart.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#933" class="lnkocn">933</a></label>
  <p class="i0" id="933">
    Això no vol dir que s'hagi d'utilitzar un estil simplista i ingenu. És un suggeriment per intentar evitar, en la mesura del possible, les oracions subordinades complexes que fan que el text sigui difícil d'entendre per als parlants no nadius d'anglès.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#934" class="lnkocn">934</a></label>
  <ul>
  <li class="bullet" id="934">
    <i>Varietat d'anglès</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#935" class="lnkocn">935</a></label>
  <p class="i0" id="935">
    Les varietats d'anglès més esteses són el britànic i l'americà, així que és molt probable que la majoria dels autors acabin utilitzant l'una o l'altra. En un entorn de col·laboració, la varietat ideal seria "l'anglès internacional", però és molt difícil, per no dir impossible, decidir quina varietat d'entre totes les existents, és la millor.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#936" class="lnkocn">936</a></label>
  <p class="i0" id="936">
    Esperem que les diferents varietats es puguin barrejar sense crear malentesos, però en termes generals s'ha d'intentar ser coherent i abans de decidir sobre l'ús de l'anglès britànic, l'anglès americà o qualsevol altra varietat, fer una ullada a com escriuen altres persones i tractar d'imitar l'estil.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#937" class="lnkocn">937</a></label>
  <ul>
  <li class="bullet" id="937">
    <i>Ser equilibrat</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#938" class="lnkocn">938</a></label>
  <p class="i0" id="938">
    S'ha de ser imparcial. Evitar incloure referències a ideologies totalment alienes a <i>live-manual</i>. L'escriptura tècnica ha de ser el més neutral possible. Està en la naturalesa mateixa de l'escriptura científica.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#939" class="lnkocn">939</a></label>
  <ul>
  <li class="bullet" id="939">
    <i>Ser políticament correcte</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#940" class="lnkocn">940</a></label>
  <p class="i0" id="940">
    Evitar el llenguatge sexista tant com sigui possible. Si es necessita fer referència a la tercera persona del singular utilitzar preferiblement "they" en lloc de "he" or "she" o invents estranys com per exemple "s/he" o "s(he)".
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#941" class="lnkocn">941</a></label>
  <ul>
  <li class="bullet" id="941">
    <i>Ser concís</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#942" class="lnkocn">942</a></label>
  <p class="i0" id="942">
    Anar directament al gra i no fent voltes. Donar tota la informació necessària, però no afegir més informació de la necessària, és a dir, no explicar detalls innecessaris. Els lectors són intel·ligents. Es presumeix algun coneixement previ per la seva part.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#943" class="lnkocn">943</a></label>
  <ul>
  <li class="bullet" id="943">
    <i>Minimitzar la feina de traducció</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#944" class="lnkocn">944</a></label>
  <p class="i0" id="944">
    Tenir en compte que qualsevol cosa que s'escrigui haurà de ser traduida a diverses llengües. Això implica que un nombre de persones hauran de fer un treball extra si s'agrega informació innecessària o redundant.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#945" class="lnkocn">945</a></label>
  <ul>
  <li class="bullet" id="945">
    <i>Ser coherent</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#946" class="lnkocn">946</a></label>
  <p class="i0" id="946">
    Com s'ha suggerit abans, és gairebé impossible estandarditzar un document escrit en col·laboració en un tot perfectament unificat. No obstant això, s'aprecia tot esforç per escriure d'una manera coherent amb la resta dels autors.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#947" class="lnkocn">947</a></label>
  <ul>
  <li class="bullet" id="947">
    <i>Cohesió</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#948" class="lnkocn">948</a></label>
  <p class="i0" id="948">
    Utilitzar connectors del discurs perquè el text sigui coherent i sense ambigüitats. (Normalment s'anomenen connectors).
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#949" class="lnkocn">949</a></label>
  <ul>
  <li class="bullet" id="949">
    <i>Ser descriptiu</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#950" class="lnkocn">950</a></label>
  <p class="i0" id="950">
    És preferible descriure l'assumpte en un o diversos paràgrafs en lloc d'utilitzar una sèrie de oracions en un típic estil de "changelog". Cal descriure-ho! Els Lectors ho agrairan.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#951" class="lnkocn">951</a></label>
  <ul>
  <li class="bullet" id="951">
    <i>Diccionari</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#952" class="lnkocn">952</a></label>
  <p class="i0" id="952">
    Buscar el significat de les paraules en un diccionari o una enciclopèdia si no es sap com expressar certs conceptes en anglès. Però cal tenir en compte que un diccionari pot ser el millor amic o pot convertir-se en el pitjor enemic si no es sap com utilitzar-lo correctament.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#953" class="lnkocn">953</a></label>
  <p class="i0" id="953">
    L'anglès té el vocabulari més gran que existeix (amb més d'un milió de paraules). Moltes d'aquestes paraules són préstecs d'altres llengües. Al buscar el significat de les paraules en un diccionari bilingüe la tendència d'un parlant no nadiu d'anglès és triar la que sona més semblant en la seva llengua materna. Sovint, això es converteix en un discurs excessivament formal que no sona ben natural en anglès.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#954" class="lnkocn">954</a></label>
  <p class="i0" id="954">
    Com a regla general, si un concepte es pot expressar utilitzant diferents sinònims, és un bon consell triar la primera paraula proposada pel diccionari. En cas de dubte, és sovint correcte elegir les paraules d'origen germànic (Normalment paraules monosíl·labes). Tenir en compte que aquestes dues tècniques poden produir un discurs més aviat informal, però almenys la elecció de paraules serà d'ampli ús i acceptació general.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#955" class="lnkocn">955</a></label>
  <p class="i0" id="955">
    L'ús d'un diccionari de frases fetes es recomanable. Són molt útils quan es tracta de saber quines paraules solen aparèixer juntes.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#956" class="lnkocn">956</a></label>
  <p class="i0" id="956">
    Com s'ha dit abans, és una bona pràctica aprendre del treball dels altres. L'ús d'un motor de recerca per comprovar com altres autors utilitzen certes expressions pot ajudar molt.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#957" class="lnkocn">957</a></label>
  <ul>
  <li class="bullet" id="957">
    <i>Falsos amics, modismes i altres expressions idiomàtiques</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#958" class="lnkocn">958</a></label>
  <p class="i0" id="958">
    Compte amb els falsos amics. No importa com de competent un és en un idioma estranger, de tant en tant es pot caure en el parany dels anomenats "falsos amics", paraules que s'assemblen en dos idiomes però els significats o usos poden ser completament diferents.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#959" class="lnkocn">959</a></label>
  <p class="i0" id="959">
    Intentar evitar els modismes tant com sigui possible. Els "modismes " són expressions que tenen un significat completament diferent del que les seves paraules per separat semblen voler dir. De vegades, els modismes poden ser difícils d'entendre fins i tot per als parlants nadius d'anglès!
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#960" class="lnkocn">960</a></label>
  <ul>
  <li class="bullet" id="960">
    <i>Evitar l'argot, les abreviatures, les contraccions...</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#961" class="lnkocn">961</a></label>
  <p class="i0" id="961">
    Tot i que s'anima a utilitzar un anglès senzill i planer, l'escriptura tècnica pertany al registre formal de la llengua.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#962" class="lnkocn">962</a></label>
  <p class="i0" id="962">
    Intentar evitar l'argot, les abreviatures inusuals que són difícils d'entendre i per sobre de tot, les contraccions que tracten d'imitar el llenguatge parlat. Per no parlar d'expressions familiars o típiques de l'irc.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#963" class="lnkocn">963</a></label>
  <h6 class="norm" id="963"><a name="963"></a>
    <a name="c19.1.2" ></a><a name="h19.1.2" ></a>19.1.2 Procediments
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#964" class="lnkocn">964</a></label>
  <ul>
  <li class="bullet" id="964">
    <i>Provar abans d'escriure</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#965" class="lnkocn">965</a></label>
  <p class="i0" id="965">
    És important que els autors provin els seus exemples abans d'afegir-los a <i>live-manual</i> per assegurar-se que tot funciona com es descriu. Fer les proves en un entorn chroot net o en una màquina virtual pot ser un bon punt de partida. A més, seria ideal si les proves fossin dutes a terme en diferents ordinadors amb un maquinari diferent per detectar els possibles problemes que puguin sorgir.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#966" class="lnkocn">966</a></label>
  <ul>
  <li class="bullet" id="966">
    <i>Exemples</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#967" class="lnkocn">967</a></label>
  <p class="i0" id="967">
    Quan es posa un exemple mirar de ser el més específic possible. Un exemple és, després de tot, només un exemple.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#968" class="lnkocn">968</a></label>
  <p class="i0" id="968">
    Sovint és millor utilitzar una línia que només s'aplica a un cas concret que l'ús d'abstraccions que poden confondre als lectors. En aquest cas es pot donar una breu explicació dels efectes de l'exemple proposat.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#969" class="lnkocn">969</a></label>
  <p class="i0" id="969">
    Hi pot haver algunes excepcions quan l'exemple suggereixi l'ús d'algunes ordres potencialment perilloses que, si s'utilitzen incorrectament, poden provocar la pèrdua de dades o altres efectes indesitjables similars. En aquest cas, s'haurà de proporcionar una explicació detallada sobre els possibles efectes secundaris.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#970" class="lnkocn">970</a></label>
  <ul>
  <li class="bullet" id="970">
    <i>Enllaços externs</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#971" class="lnkocn">971</a></label>
  <p class="i0" id="971">
    Els enllaços a llocs externs només s'han d'utilitzar quan la informació en aquests llocs és crucial per a comprendre un punt especial. Tot i això, intentar utilitzar els enllaços a llocs externs el menys possible. Els enllaços d'internet poden canviar de tant en tant, donant lloc a enllaços trencats i deixant els arguments en un estat incomplet.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#972" class="lnkocn">972</a></label>
  <p class="i0" id="972">
    A més, la gent que llegeix el manual sense connexió no podrà seguir els enllaços.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#973" class="lnkocn">973</a></label>
  <ul>
  <li class="bullet" id="973">
    <i>Evitar les marques i les coses que violen la llicència sota la qual es publica el manual</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#974" class="lnkocn">974</a></label>
  <p class="i0" id="974">
    Intentar evitar les marques tant com sigui possible. Tenir en compte que altres projectes derivats poden fer ús de la documentació que escrivim. Així que estem complicant les coses per a ells si s'afegix determinat material específic.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#975" class="lnkocn">975</a></label>
  <p class="i0" id="975">
    <i>live-manual</i> es publica sota la llicència GNU GPL. Això té una sèrie d'implicacions que s'apliquen a la distribució dels materials (de qualsevol tipus, incloent-hi gràfics o logotips amb drets d'autor) que es publica amb ell.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#976" class="lnkocn">976</a></label>
  <ul>
  <li class="bullet" id="976">
    <i>Escriure un primer esborrany, revisar, editar, millorar, fer de nou si és necessari</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#977" class="lnkocn">977</a></label>
  <p class="i0" id="977">
    - Pluja d'idees!. Es necessari organitzar les idees primer en una seqüència lògica d'esdeveniments.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#978" class="lnkocn">978</a></label>
  <p class="i0" id="978">
    - Quan d'alguna manera ja s'han organitzat aquestes idees en la ment, escriure un primer esborrany.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#979" class="lnkocn">979</a></label>
  <p class="i0" id="979">
    - Revisar la gramàtica, la sintaxi i l'ortografia. Tenir en compte que els noms propis de les versions, com ara <b>buster</b> o <b>sid</b>, no s'han d'escriure en majúscula quan es refereixen als noms en clau. Per tal de comprovar l'ortografia es pot executar el target "spell". És a dir, <tt>make spell</tt>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#980" class="lnkocn">980</a></label>
  <p class="i0" id="980">
    - Millorar les frases i refer qualsevol part si és necessari.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#981" class="lnkocn">981</a></label>
  <ul>
  <li class="bullet" id="981">
    <i>Capítols</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#982" class="lnkocn">982</a></label>
  <p class="i0" id="982">
    Utilitzar el sistema de numeració convencional dels capítols i subtítols. Per exemple 1, 1.1, 1.1.1, 1.1.2 ... 1.2, 1.2.1, 1.2.2 ... 2, 2.1 ... i així successivament. Veure marcat a continuació.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#983" class="lnkocn">983</a></label>
  <p class="i0" id="983">
    Si s'ha d'enumerar una sèrie de passos o etapes en la descripció, també es poden utilitzar els nombres ordinals: primer, segon, tercer ... o en primer lloc, llavors, després, per fi ... Alternativament, es poden utilitzar punts.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#984" class="lnkocn">984</a></label>
  <ul>
  <li class="bullet" id="984">
    <i>Marcat</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#985" class="lnkocn">985</a></label>
  <p class="i0" id="985">
    I per últim però no menys important, <i>live-manual</i> utilitza  <a href="http://www.sisudoc.org/">SiSU</a>  per processar els fitxers de text i produir múltiples formats. Es recomana fer una ullada al  <a href="http://www.sisudoc.org/sisu/en/html/sisu_manual/markup.html">manual de SiSU</a>  per a familiaritzar-se amb el seu marcat, o bé escriure:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#986" class="lnkocn">986</a></label>
  <p class="code" id="986">
    $ sisu --help markup<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#987" class="lnkocn">987</a></label>
  <p class="i0" id="987">
    Aquests són alguns exemples de marcat que poden ser útils:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#988" class="lnkocn">988</a></label>
  <p class="i0" id="988">
    - Per a l'èmfasi/negreta:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#989" class="lnkocn">989</a></label>
  <p class="code" id="989">
    *{foo}* o !{foo}!<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#990" class="lnkocn">990</a></label>
  <p class="i0" id="990">
    produeixen: <b>foo</b> o <b>foo</b>. S'usen per emfatitzar certes paraules clau.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#991" class="lnkocn">991</a></label>
  <p class="i0" id="991">
    - Per a la cursiva:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#992" class="lnkocn">992</a></label>
  <p class="code" id="992">
    /{foo}/<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#993" class="lnkocn">993</a></label>
  <p class="i0" id="993">
    produeix: <i>foo</i>. S'usa, per exemple, per als noms dels paquets Debian.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#994" class="lnkocn">994</a></label>
  <p class="i0" id="994">
    - Per a monospace:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#995" class="lnkocn">995</a></label>
  <p class="code" id="995">
    #{foo}#<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#996" class="lnkocn">996</a></label>
  <p class="i0" id="996">
    produeix: <tt>foo</tt>. S'usa per exemple, per als noms de les ordres. I també per ressaltar algunes paraules clau o coses com les rutes.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#997" class="lnkocn">997</a></label>
  <p class="i0" id="997">
    - Per a blocs de codi:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#998" class="lnkocn">998</a></label>
  <p class="code" id="998">
    code{<br><br>
&nbsp;&nbsp;$ foo<br>
&nbsp;&nbsp;# bar<br><br>
}code<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#999" class="lnkocn">999</a></label>
  <p class="i0" id="999">
    produeix:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1000" class="lnkocn">1000</a></label>
  <p class="code" id="1000">
    $ foo<br>
# bar<br>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1001" class="lnkocn">1001</a></label>
  <p class="i0" id="1001">
    S'utilitza <tt>code{</tt> per a obrir i <tt>}code</tt> per a tancar els blocs. És important recordar deixar un espai al principi de cada línia de codi.
  </p>
</div>

<br><hr width=90% /><br>
<div class="substance">
  <label class="ocn"><a href="#1002" class="lnkocn">1002</a></label>
  <h5 class="norm" id="1002"><a name="1002"></a>
    <a name="h19.2" ></a><a name="guidelines-translators" ></a>19.2 Directrius per als traductors
  </h5>
</div>

<div class="substance">
  <label class="ocn"><a href="#1003" class="lnkocn">1003</a></label>
  <p class="i0" id="1003">
    Aquesta secció s'ocupa d'algunes consideracions generals a tenir en compte a l'hora de traduir el contingut de <i>live-manual</i>.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1004" class="lnkocn">1004</a></label>
  <p class="i0" id="1004">
    Com a recomanació general, els traductors haurien d'haver llegit i entès les regles de traducció que s'apliquen als seus llenguatges específics. En general, els grups de traductors i les llistes de correu proporcionen informació sobre com produir traduccions que compleixin amb els estàndards de qualitat de Debian.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1005" class="lnkocn">1005</a></label>
  <p class="i0" id="1005">
    <b>Nota:</b>  Els traductors també han de llegir  <a href="#how-to-contribute">Contribuir a aquest document</a>.  En particular, la secció  <a href="#translation">Traducció</a>
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1006" class="lnkocn">1006</a></label>
  <h6 class="norm" id="1006"><a name="1006"></a>
    <a name="c19.2.1" ></a><a name="h19.2.1" ></a>19.2.1 Consells de traducció
  </h6>
</div>

<div class="substance">
  <label class="ocn"><a href="#1007" class="lnkocn">1007</a></label>
  <ul>
  <li class="bullet" id="1007">
    <i>Comentaris</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#1008" class="lnkocn">1008</a></label>
  <p class="i0" id="1008">
    El paper del traductor és transmetre el més fidelment possible el significat de les paraules, oracions, paràgrafs i textos de com van ser escrits pels autors originals al seu idioma.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1009" class="lnkocn">1009</a></label>
  <p class="i0" id="1009">
    Per tant, aquests, s'han d'abstenir d'afegir comentaris personals o informacions addicionals pel seu compte. Si es vol afegir un comentari per als traductors que treballen en els mateixos documents, es poden deixar a l'espai reservat per a això. És a dir, la capçalera de les cadenes dels fitxers <b>po</b> precedits pel signe <b>#</b>. La majoria dels programes gràfics de traducció poden manejar aquest tipus de comentaris automàticament.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1010" class="lnkocn">1010</a></label>
  <ul>
  <li class="bullet" id="1010">
    <i>NT, Nota del Traductor</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#1011" class="lnkocn">1011</a></label>
  <p class="i0" id="1011">
    És perfectament acceptable però, incloure una paraula o una expressió entre parèntesi en el text traduït si, i només si, aixó fa que el significat d'una paraula o expressió difícil sigui més clara per al lector. Dins dels parèntesis, el traductor ha de posar de manifest que l'addició és seva utilitzant l'abreviatura "NT" o "Nota del traductor".
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1012" class="lnkocn">1012</a></label>
  <ul>
  <li class="bullet" id="1012">
    <i>Frases impersonals</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#1013" class="lnkocn">1013</a></label>
  <p class="i0" id="1013">
    Els documents escrits en anglès fan un gran ús de la forma impersonal "you". En alguns altres idiomes que no comparteixen aquesta característica, això pot donar la falsa impressió que els textos originals s'adresen directament el lector quan en realitat n'ho fan. Els traductors han de ser conscients d'aquest fet i ho han de reflectir en el seu idioma amb la major precisió possible.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1014" class="lnkocn">1014</a></label>
  <ul>
  <li class="bullet" id="1014">
    <i>Falsos amics</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#1015" class="lnkocn">1015</a></label>
  <p class="i0" id="1015">
    El perill dels "falsos amics" explicat anteriorment s'aplica especialment als traductors. Tornar a comprovar el significat dels falsos amics sospitosos en cas de dubte.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1016" class="lnkocn">1016</a></label>
  <ul>
  <li class="bullet" id="1016">
    <i>Marcat</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#1017" class="lnkocn">1017</a></label>
  <p class="i0" id="1017">
    Els traductors que treballin inicialment amb els fitxers <b>pot</b> i posteriorment amb els fitxers <b>po</b> trobaràn moltes característiques de marcat en les cadenes. Es pot traduir el text, sempre que sigui traduïble, però és extremadament important que s'utilitzi exactament el mateix marcat que a la versió original en anglès.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1018" class="lnkocn">1018</a></label>
  <ul>
  <li class="bullet" id="1018">
    <i>Blocs de codi</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#1019" class="lnkocn">1019</a></label>
  <p class="i0" id="1019">
    Tot i que els blocs de codi són generalment intraduïbles, incloure'ls en la traducció és l'única manera de conseguir una traducció completa al 100%. I encara que això signifiqui més feina al principi, ja que pot requerir la intervenció dels traductors s'hi ha canvis en el codi, és la millor manera, a la llarga, per identificar el que s'ha traduït i el que no al comprovar la integritat dels fitxers .po.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1020" class="lnkocn">1020</a></label>
  <ul>
  <li class="bullet" id="1020">
    <i>Salts de línia</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#1021" class="lnkocn">1021</a></label>
  <p class="i0" id="1021">
    Els texts traduïts han de tenir exactament els mateixos salts de línia que els texts originals. Aneu amb compte de pressionar la tecla "Enter" o escriure <b>\n</b> si apareix als fitxers originals. Aquests salts de línies apareixen sovint, per exemple, en els blocs de codi.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1022" class="lnkocn">1022</a></label>
  <p class="i0" id="1022">
    No confondre's, això no vol dir que el text traduït hagi de tenir la mateixa longitud que la versió en anglès. Aixó és gairebé impossible.
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1023" class="lnkocn">1023</a></label>
  <ul>
  <li class="bullet" id="1023">
    <i>Cadenes intraduïbles</i>
  </li>
  </ul>
</div>

<div class="substance">
  <label class="ocn"><a href="#1024" class="lnkocn">1024</a></label>
  <p class="i0" id="1024">
    Els traductors no han de traduir mai:
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1025" class="lnkocn">1025</a></label>
  <p class="i0" id="1025">
    - Els noms en clau de les versions (que han de ser escrits en minúscules)
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1026" class="lnkocn">1026</a></label>
  <p class="i0" id="1026">
    - Els noms dels programes
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1027" class="lnkocn">1027</a></label>
  <p class="i0" id="1027">
    - Les ordres que es posen com a exemples
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1028" class="lnkocn">1028</a></label>
  <p class="i0" id="1028">
    - Les metadades (apareixen sovint entre dos punts <b>:metadata:</b>)
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1029" class="lnkocn">1029</a></label>
  <p class="i0" id="1029">
    - Els enllaços
  </p>
</div>

<div class="substance">
  <label class="ocn"><a href="#1030" class="lnkocn">1030</a></label>
  <p class="i0" id="1030">
    - Les rutes
  </p>
</div>

</div>

<div class="main_column">
<table summary="table of contents scroll navigation band" id="toc" width="100%" bgcolor="#ffffff">
<tr><td width="20%">
   <table summary="home button / home information" border="0" cellpadding="3" cellspacing="0">
 <tr><td align="left" bgcolor="#ffffff">
  <p class="tiny_left"><a href="http://debian-live.alioth.debian.org/manual" target="_top">
    Live manual
  </a></p>
  <p class="tiny_left"><a href="http://debian-live.alioth.debian.org" target="_top">
    Live Systems
  </a></p>
 </td></tr>
 </table>
</td>
<td width="75%" align="center">
  
<table summary="segment navigation available documents types: toc,doc,pdf,concordance" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  
  
</tr></table>
</td>
<td width="20%">
  &nbsp;
</td></tr>
</table>
<p>

<a name="bottom" id="bottom"></a>
<a name="end" id="end"></a>
</div>

</body>
</html>

