<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>
    examples -
    Live システムマニュアル
  </title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name="dc.title" content="Live システムマニュアル" />
  <meta name="dc.author" content="Live システムプロジェクト &#60;debian-live@lists.debian.org&#62;" />
  <meta name="dc.publisher" content="Live システムプロジェクト &#60;debian-live@lists.debian.org&#62;" />
  <meta name="dc.date" content="2015-09-22"  />
  <meta name="dc.rights" content="Copyright: Copyright (C) 2006-2015 Live Systems Project \\ License: This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. \\  \\ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. \\  \\ You should have received a copy of the GNU General Public License along with this program. If not, see http://www.gnu.org/licenses/. \\  \\ The complete text of the GNU General Public License can be found in /usr/share/common-licenses/GPL-3 file." />

  <meta name="generator" content="SiSU 7.1.8 of 2016w08/5 (2016-02-26) (n*x and Ruby!)" />
    <link rel="generator" href="http://www.sisudoc.org/" />
  <link rel="shortcut icon" href="../_sisu/image/rb7.ico" />

  <link href="../../_sisu/css/html.css" rel="stylesheet">
</head>
<body lang="ja">
<a name="top" id="top"></a><table summary="segment navigation band with banner" bgcolor="#ffffff" width="100%"><tr>
<td width="20%" align="left">
 <table summary="home button / home information" border="0" cellpadding="3" cellspacing="0">
 <tr><td align="left" bgcolor="#ffffff">
  <p class="tiny_left"><a href="http://debian-live.alioth.debian.org/manual" target="_top">
    Live manual
  </a></p>
  <p class="tiny_left"><a href="http://debian-live.alioth.debian.org" target="_top">
    Live Systems
  </a></p>
 </td></tr>
 </table>
</td>
<td width="75%" align="center">
  
<table summary="segment navigation available documents types: toc,doc,pdf,concordance" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  
  
</tr></table>
</td>
<td width="5%" align="right">
  <table summary="segment navigation pre/next" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  <a href="git-repositories.ja.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_prev_red.png" alt="&lt;&lt;&nbsp;previous" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="toc.ja.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_up_red.png" alt="toc" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="style-guide.ja.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_next_red.png" alt="next&nbsp;&gt;&gt;" />
  </a>
</td>
<td>
</td></tr>
</table>
</td></tr>
</table><div class="toc"><h1 class="minitoc">
    Live システムマニュアル
  </h1>

<h1 class="minitoc">
    About
  </h1>

<h1 class="minitoc">
    このマニュアルについて
  </h1>

<h4 class="minitoc">
      <a href="about-manual.ja.html" target="_top">
    1. このマニュアルについて
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="about-manual.ja.html#8">
    1.1 せっかちな人向け
  </a>
  </h5>

<h5 class="minitoc">
      <a href="about-manual.ja.html#12">
    1.2 用語
  </a>
  </h5>

<h5 class="minitoc">
      <a href="about-manual.ja.html#29">
    1.3 著者
  </a>
  </h5>

<h5 class="minitoc">
      <a href="about-manual.ja.html#44">
    1.4 この文書への貢献
  </a>
  </h5>

<h6 class="minitoc">
      <a href="about-manual.ja.html#46">
  1.4.1 変更の適用
</a>
  </h6>

<h6 class="minitoc">
      <a href="about-manual.ja.html#60">
  1.4.2 翻訳
</a>
  </h6>

<h1 class="minitoc">
    Live システムプロジェクトへの貢献
  </h1>

<h4 class="minitoc">
      <a href="about-project.ja.html" target="_top">
    2. Live システムプロジェクトについて
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="about-project.ja.html#75">
    2.1 動機
  </a>
  </h5>

<h6 class="minitoc">
      <a href="about-project.ja.html#76">
  2.1.1 現在の Live システムの問題点
</a>
  </h6>

<h6 class="minitoc">
      <a href="about-project.ja.html#86">
  2.1.2 自身の Live システムを作成する理由
</a>
  </h6>

<h5 class="minitoc">
      <a href="about-project.ja.html#94">
    2.2 哲学
  </a>
  </h5>

<h6 class="minitoc">
      <a href="about-project.ja.html#95">
  2.2.1 Debian「main」の変更しないパッケージしか使いません
</a>
  </h6>

<h6 class="minitoc">
      <a href="about-project.ja.html#99">
  2.2.2 Live システム固有のパッケージ設定はありません
</a>
  </h6>

<h5 class="minitoc">
      <a href="about-project.ja.html#103">
    2.3 連絡先
  </a>
  </h5>

<h1 class="minitoc">
    ユーザ
  </h1>

<h1 class="minitoc">
    インストール
  </h1>

<h4 class="minitoc">
      <a href="installation.ja.html" target="_top">
    3. インストール
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="installation.ja.html#110">
    3.1 要件
  </a>
  </h5>

<h5 class="minitoc">
      <a href="installation.ja.html#118">
    3.2 live-build のインストール
  </a>
  </h5>

<h6 class="minitoc">
      <a href="installation.ja.html#124">
  3.2.1 Debian リポジトリから
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.ja.html#127">
  3.2.2 ソースから
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.ja.html#138">
  3.2.3 「スナップショット」から
</a>
  </h6>

<h5 class="minitoc">
      <a href="installation.ja.html#140">
    3.3 live-boot と live-config のインストール
  </a>
  </h5>

<h6 class="minitoc">
      <a href="installation.ja.html#142">
  3.3.1 Debian リポジトリから
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.ja.html#144">
  3.3.2 ソースから
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.ja.html#156">
  3.3.3 「スナップショット」から
</a>
  </h6>

<h1 class="minitoc">
    基本
  </h1>

<h4 class="minitoc">
      <a href="the-basics.ja.html" target="_top">
    4. 基本
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="the-basics.ja.html#163">
    4.1 Live システムとは何?
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.ja.html#171">
    4.2 ビルド済みイメージのダウンロード
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.ja.html#173">
    4.3 ウェブ Live イメージビルダーの利用
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.ja.html#175">
  4.3.1 ウェブビルダーの使い方と注意
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.ja.html#179">
    4.4 最初の段階: ISO hybrid イメージのビルド
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.ja.html#190">
    4.5 ISO hybrid Live イメージの利用
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.ja.html#192">
  4.5.1 ISOイメージの実際のメディアへの書き込み
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ja.html#195">
  4.5.2 ISO hybrid イメージのUSBメモリへのコピー
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ja.html#200">
  4.5.3 USBメモリの空きスペースの利用
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ja.html#207">
  4.5.4 Live メディアのブート
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.ja.html#211">
    4.6 仮想マシンを利用したテスト
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.ja.html#218">
  4.6.1 QEMU でのISOイメージのテスト
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ja.html#225">
  4.6.2 VirtualBox でのISOイメージのテスト
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.ja.html#233">
    4.7 HDDイメージのビルド及び利用
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.ja.html#245">
    4.8 netboot イメージのビルド
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.ja.html#258">
  4.8.1 DHCP サーバ
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ja.html#262">
  4.8.2 TFTP サーバ
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ja.html#267">
  4.8.3 NFSサーバ
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ja.html#275">
  4.8.4 ネットワーク経由のブートをテストする方法
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ja.html#278">
  4.8.5 Qemu
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.ja.html#284">
    4.9 ウェブブート
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.ja.html#286">
  4.9.1 ウェブブートファイルの取得
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ja.html#292">
  4.9.2 ウェブブートイメージの起動
</a>
  </h6>

<h1 class="minitoc">
    ツールの概要
  </h1>

<h4 class="minitoc">
      <a href="overview-of-tools.ja.html" target="_top">
    5. ツールの概要
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="overview-of-tools.ja.html#300">
    5.1 live-build パッケージ
  </a>
  </h5>

<h6 class="minitoc">
      <a href="overview-of-tools.ja.html#310">
  5.1.1 <tt>lb config</tt> コマンド
</a>
  </h6>

<h6 class="minitoc">
      <a href="overview-of-tools.ja.html#320">
  5.1.2 <tt>lb build</tt> コマンド
</a>
  </h6>

<h6 class="minitoc">
      <a href="overview-of-tools.ja.html#322">
  5.1.3 <tt>lb clean</tt> コマンド
</a>
  </h6>

<h5 class="minitoc">
      <a href="overview-of-tools.ja.html#324">
    5.2 live-boot パッケージ
  </a>
  </h5>

<h5 class="minitoc">
      <a href="overview-of-tools.ja.html#328">
    5.3 live-config パッケージ
  </a>
  </h5>

<h1 class="minitoc">
    設定の管理
  </h1>

<h4 class="minitoc">
      <a href="managing-a-configuration.ja.html" target="_top">
    6. 設定の管理
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="managing-a-configuration.ja.html#333">
    6.1 設定変更への対応
  </a>
  </h5>

<h6 class="minitoc">
      <a href="managing-a-configuration.ja.html#335">
  6.1.1 自動化スクリプトを使う理由は? それは何をするもの?
</a>
  </h6>

<h6 class="minitoc">
      <a href="managing-a-configuration.ja.html#338">
  6.1.2 自動化スクリプトの使用例
</a>
  </h6>

<h5 class="minitoc">
      <a href="managing-a-configuration.ja.html#345">
    6.2 Git経由で公開されている設定の複製
  </a>
  </h5>

<h1 class="minitoc">
    収録内容の独自化
  </h1>

<h4 class="minitoc">
      <a href="customization-overview.ja.html" target="_top">
    7. 独自化の概要
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customization-overview.ja.html#359">
    7.1 ビルド時とブート時の設定
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customization-overview.ja.html#362">
    7.2 ビルド段階
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customization-overview.ja.html#365">
    7.3 ファイルによる lb config の補完
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customization-overview.ja.html#367">
    7.4 独自化タスク
  </a>
  </h5>

<h1 class="minitoc">
    インストールするパッケージの独自化
  </h1>

<h4 class="minitoc">
      <a href="customizing-package-installation.ja.html" target="_top">
    8. インストールするパッケージの独自化
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-package-installation.ja.html#372">
    8.1 パッケージソース
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#373">
  8.1.1 ディストリビューション、アーカイブ領域とモード
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#380">
  8.1.2 ディストリビューションミラー
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#382">
  8.1.3 ビルド時に利用するディストリビューションミラー
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#386">
  8.1.4 実行時に利用するディストリビューションミラー
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#389">
  8.1.5 追加リポジトリ
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-package-installation.ja.html#397">
    8.2 インストールするパッケージの選択
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#399">
  8.2.1 パッケージ一覧
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#402">
  8.2.2 メタパッケージの利用
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#410">
  8.2.3 ローカルパッケージ一覧
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#414">
  8.2.4 ローカルバイナリパッケージ一覧
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#416">
  8.2.5 生成されたパッケージ一覧
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#420">
  8.2.6 条件付き内部パッケージ一覧の利用
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#429">
  8.2.7 インストール時のパッケージの削除
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#431">
  8.2.8 デスクトップ及び言語タスク
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#436">
  8.2.9 カーネルのフレーバー (種類) とバージョン
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#441">
  8.2.10 独自のカーネル
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-package-installation.ja.html#449">
    8.3 変更したあるいはサードパーティ製パッケージのインストール
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#456">
  8.3.1 <tt>packages.chroot</tt> を利用した独自のパッケージのインストール
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#463">
  8.3.2 APTリポジトリを利用した独自パッケージのインストール
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#466">
  8.3.3 独自パッケージとAPT
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-package-installation.ja.html#469">
    8.4 ビルド時のAPT設定
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#471">
  8.4.1 apt と aptitude の選択
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#475">
  8.4.2 APTでのプロキシの利用
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#478">
  8.4.3 APTの調整による容量節約
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#487">
  8.4.4 apt や aptitude へのオプションの受け渡し
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ja.html#492">
  8.4.5 APTのピン止め
</a>
  </h6>

<h1 class="minitoc">
    収録内容の独自化
  </h1>

<h4 class="minitoc">
      <a href="customizing-contents.ja.html" target="_top">
    9. 収録内容の独自化
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-contents.ja.html#501">
    9.1 Includes
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-contents.ja.html#506">
  9.1.1 Live/chroot ローカルインクルード
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-contents.ja.html#513">
  9.1.2 バイナリローカルインクルード
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-contents.ja.html#517">
    9.2 フック
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-contents.ja.html#520">
  9.2.1 chroot ローカルフック
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-contents.ja.html#522">
  9.2.2 バイナリローカルフック
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-contents.ja.html#524">
  9.2.3 ブート時フック
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-contents.ja.html#526">
    9.3 Debconf 質問の preseed
  </a>
  </h5>

<h1 class="minitoc">
    実行時の挙動の独自化
  </h1>

<h4 class="minitoc">
      <a href="customizing-run-time-behaviours.ja.html" target="_top">
    10. 実行時の挙動の独自化
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-run-time-behaviours.ja.html#532">
    10.1 live ユーザの独自化
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-run-time-behaviours.ja.html#541">
    10.2 ロケールと言語の独自化
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-run-time-behaviours.ja.html#558">
    10.3 保持機能
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-run-time-behaviours.ja.html#580">
  10.3.1 persistence.conf ファイル
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-run-time-behaviours.ja.html#585">
  10.3.2 保持先を複数使いたい場合
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-run-time-behaviours.ja.html#591">
  10.3.3 暗号化した保持先の利用
</a>
  </h6>

<h1 class="minitoc">
    バイナリイメージの独自化
  </h1>

<h4 class="minitoc">
      <a href="customizing-binary.ja.html" target="_top">
    11. バイナリイメージの独自化
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-binary.ja.html#619">
    11.1 ブートローダ
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-binary.ja.html#626">
    11.2 ISO メタ情報
  </a>
  </h5>

<h1 class="minitoc">
    Debian インストーラの独自化
  </h1>

<h4 class="minitoc">
      <a href="customizing-installer.ja.html" target="_top">
    12. Debian インストーラの独自化
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-installer.ja.html#636">
    12.1 Debian インストーラの種類
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-installer.ja.html#648">
    12.2 preseed による Debian インストーラの独自化
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-installer.ja.html#651">
    12.3 Debian インストーラの収録内容の独自化
  </a>
  </h5>

<h1 class="minitoc">
    プロジェクト
  </h1>

<h1 class="minitoc">
    プロジェクトへの貢献
  </h1>

<h4 class="minitoc">
      <a href="contributing-to-project.ja.html" target="_top">
    13. プロジェクトへの貢献
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="contributing-to-project.ja.html#667">
    13.1 変更を加える
  </a>
  </h5>

<h5 class="minitoc">
      <a href="contributing-to-project.ja.html#682">
    13.2 man ページの翻訳
  </a>
  </h5>

<h1 class="minitoc">
    バグの報告
  </h1>

<h4 class="minitoc">
      <a href="bugs.ja.html" target="_top">
    14. バグの報告
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="bugs.ja.html#698">
    14.1 既知の問題
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ja.html#703">
    14.2 最初から再ビルド
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ja.html#705">
    14.3 最新のパッケージを使う
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ja.html#707">
    14.4 情報収集
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ja.html#724">
    14.5 可能であれば失敗している状況を分離する
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ja.html#726">
    14.6 正しいパッケージに対してバグを報告する
  </a>
  </h5>

<h6 class="minitoc">
      <a href="bugs.ja.html#729">
  14.6.1 ビルド時のパッケージ収集中
</a>
  </h6>

<h6 class="minitoc">
      <a href="bugs.ja.html#732">
  14.6.2 ビルド時のパッケージインストール中
</a>
  </h6>

<h6 class="minitoc">
      <a href="bugs.ja.html#736">
  14.6.3 ブート時
</a>
  </h6>

<h6 class="minitoc">
      <a href="bugs.ja.html#738">
  14.6.4 実行時
</a>
  </h6>

<h5 class="minitoc">
      <a href="bugs.ja.html#740">
    14.7 調査してください
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ja.html#744">
    14.8 バグの報告先
  </a>
  </h5>

<h1 class="minitoc">
    コーディングスタイル
  </h1>

<h4 class="minitoc">
      <a href="coding-style.ja.html" target="_top">
    15. コーディングスタイル
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="coding-style.ja.html#751">
    15.1 互換性
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.ja.html#756">
    15.2 インデント
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.ja.html#758">
    15.3 改行
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.ja.html#770">
    15.4 変数
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.ja.html#789">
    15.5 その他
  </a>
  </h5>

<h1 class="minitoc">
    手順
  </h1>

<h4 class="minitoc">
      <a href="procedures.ja.html" target="_top">
    16. 手順
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="procedures.ja.html#797">
    16.1 主要リリース
  </a>
  </h5>

<h5 class="minitoc">
      <a href="procedures.ja.html#803">
    16.2 ポイントリリース
  </a>
  </h5>

<h6 class="minitoc">
      <a href="procedures.ja.html#807">
  16.2.1 ある Debian リリースの最後のポイントリリース
</a>
  </h6>

<h6 class="minitoc">
      <a href="procedures.ja.html#809">
  16.2.2 ポイントリリース告知用テンプレート
</a>
  </h6>

<h1 class="minitoc">
    Gitリポジトリ
  </h1>

<h4 class="minitoc">
      <a href="git-repositories.ja.html" target="_top">
    17. Gitリポジトリ
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="git-repositories.ja.html#827">
    17.1 リポジトリを複数処理
  </a>
  </h5>

<h1 class="minitoc">
    例
  </h1>

<h1 class="minitoc">
    例
  </h1>

<h4 class="minitoc">
      <a href="examples.ja.html" target="_top">
    18. 例
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="examples.ja.html#835">
    18.1 例の使用
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.ja.html#839">
    18.2 チュートリアル 1: デフォルトイメージ
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.ja.html#848">
    18.3 チュートリアル 2: ウェブブラウザユーティリティ
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.ja.html#856">
    18.4 チュートリアル 3: 私的イメージ
  </a>
  </h5>

<h6 class="minitoc">
      <a href="examples.ja.html#859">
  18.4.1 最初の改訂
</a>
  </h6>

<h6 class="minitoc">
      <a href="examples.ja.html#873">
  18.4.2 2回目の改訂
</a>
  </h6>

<h5 class="minitoc">
      <a href="examples.ja.html#885">
    18.5 VNC 公衆クライアント
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.ja.html#899">
    18.6 128MB USB メモリ向けの基本イメージ
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.ja.html#910">
    18.7 地域化した GNOME デスクトップとインストーラ
  </a>
  </h5>

<h1 class="minitoc">
    付録
  </h1>

<h1 class="minitoc">
    スタイルガイド
  </h1>

<h4 class="minitoc">
      <a href="style-guide.ja.html" target="_top">
    19. スタイルガイド
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="style-guide.ja.html#925">
    19.1 著者向けガイドライン
  </a>
  </h5>

<h6 class="minitoc">
      <a href="style-guide.ja.html#928">
  19.1.1 言語特性
</a>
  </h6>

<h6 class="minitoc">
      <a href="style-guide.ja.html#961">
  19.1.2 手順
</a>
  </h6>

<h5 class="minitoc">
      <a href="style-guide.ja.html#1000">
    19.2 翻訳者向けガイドライン
  </a>
  </h5>

<h6 class="minitoc">
      <a href="style-guide.ja.html#1004">
  19.2.1 翻訳の手がかり
</a>
  </h6>

<h1 class="minitoc">
    <b><a href="metadata.ja.html">Metadata</a></b>
  </h1>

<h4 class="minitoc">
      <a href="metadata.ja.html" target="_top">
    SiSU Metadata, document information
  </a> 
  </h4>
</div><div class="content">
<h1 class="tiny">
    Live システムマニュアル
  </h1>
</div><div class="content">
<h1 class="tiny">
    例
  </h1>
</div><div class="content"><div class="substance">
  <label class="ocn"><a href="#833" class="lnkocn">833</a></label>
  <h1 class="norm" id="833"><a name="833"></a>
    18. 例
  </h1>
</div><div class="substance">
  <label class="ocn"><a href="#834" class="lnkocn">834</a></label>
  <p class="i0" id="834">
    この章では特定の Live システム活用事例向けの見本ビルドについて触れます。自分用の Live システムイメージのビルドが初めてであれば、まず3つのチュートリアルを順に調べてみることを勧めます。それぞれで他の例の利用、理解を支援する新しい技術を学ぶようになっているためです。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#835" class="lnkocn">835</a></label>
  <p class="bold" id="835"><a name="835"></a> <a id="husing-the-examples"></a>
    <a name="h18.1" ></a><a name="using-the-examples" ></a>18.1 例の使用
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#836" class="lnkocn">836</a></label>
  <p class="i0" id="836">
    提示している例を利用するためには、ビルドするために <a href="installation.ja.html#requirements">要件</a>  に記載されている要件一覧に合致するシステムと、 <a href="installation.ja.html#installing-live-build"><i>live-build</i> のインストール</a>  で説明しているように <i>live-build</i> がインストールされていることが必要となります。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#837" class="lnkocn">837</a></label>
  <p class="i0" id="837">
    簡潔にするため、ここに挙げる例ではビルドで利用するローカルミラーを指定していないことに注意してください。ローカルミラーを利用するとダウンロード速度をかなり高速化できます。 <a href="customizing-package-installation.ja.html#distribution-mirrors-build-time">ビルド時に利用するディストリビューションのミラー</a>  で説明しているように、<tt>lb config</tt> を使った場合はオプションを指定することができます。ビルドシステムのデフォルト値を <tt>/etc/live/build.conf</tt> でセットするともっと便利になります。このファイルを単純に作成し、対応する <tt>LB_MIRROR_*</tt> 変数に望ましいミラーをセットしてください。ビルドで利用する他のミラーは全て、これにより設定した値をデフォルト値として使います。例えば:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#838" class="lnkocn">838</a></label>
  <p class="code" id="838">
    LB_MIRROR_BOOTSTRAP="http://mirror/debian/" <br>
LB_MIRROR_CHROOT_SECURITY="http://mirror/debian-security/" <br>
LB_MIRROR_CHROOT_BACKPORTS="http://mirror/debian-backports/"<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#839" class="lnkocn">839</a></label>
  <p class="bold" id="839"><a name="839"></a> <a id="htutorial-1"></a>
    <a name="h18.2" ></a><a name="tutorial-1" ></a>18.2 チュートリアル 1: デフォルトイメージ
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#840" class="lnkocn">840</a></label>
  <p class="i0" id="840">
    <b>事例:</b> 簡単な最初のイメージを作成して <i>live-build</i> の基礎を学びます。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#841" class="lnkocn">841</a></label>
  <p class="i0" id="841">
    このチュートリアルでは、<i>live-build</i> を利用した最初の演習としてbase パッケージ (Xorg は含まない) と Live システムを支援するパッケージだけを収録する、デフォルトの ISO hybrid 形式の Live システムイメージをビルドします。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#842" class="lnkocn">842</a></label>
  <p class="i0" id="842">
    これ以上簡単にすることはなかなかできないでしょう:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#843" class="lnkocn">843</a></label>
  <p class="code" id="843">
    $ mkdir tutorial1 ; cd tutorial1 ; lb config<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#844" class="lnkocn">844</a></label>
  <p class="i0" id="844">
    何か望むことがあれば <tt>config/</tt> ディレクトリの内容を調べてください。ここには概略の設定があり、すぐ独自化もできますが、ここではそのままでデフォルトのイメージをビルドします。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#845" class="lnkocn">845</a></label>
  <p class="i0" id="845">
    スーパーユーザでイメージをビルドし、そのログを <tt>tee</tt> により保存します。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#846" class="lnkocn">846</a></label>
  <p class="code" id="846">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#847" class="lnkocn">847</a></label>
  <p class="i0" id="847">
    すべてがうまくいくとして、しばらくすると現在のディレクトリに <tt>live-image-i386.hybrid.iso</tt> が出来上がります。この ISO hybrid イメージは  <a href="the-basics.ja.html#testing-iso-with-qemu">Qemu でのISOイメージのテスト</a>  や  <a href="the-basics.ja.html#testing-iso-with-virtualbox">VirtualBox でのISOイメージのテスト</a>  で説明しているように仮想マシンで直接、あるいは <a href="the-basics.ja.html#burning-iso-image">物理メディアへのISOイメージ書き込み</a>  や  <a href="the-basics.ja.html#copying-iso-hybrid-to-usb">USBメモリへの ISO hybrid イメージのコピー</a>  で説明しているように光学メディアやUSBフラッシュ機器に書き込んだイメージ、それぞれからブートできます。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#848" class="lnkocn">848</a></label>
  <p class="bold" id="848"><a name="848"></a> <a id="htutorial-2"></a>
    <a name="h18.3" ></a><a name="tutorial-2" ></a>18.3 チュートリアル 2: ウェブブラウザユーティリティ
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#849" class="lnkocn">849</a></label>
  <p class="i0" id="849">
    <b>事例:</b> ウェブブラウザユーティリティイメージを作成し、独自化の適用方法を学びます。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#850" class="lnkocn">850</a></label>
  <p class="i0" id="850">
    このチュートリアルでは Live システムイメージを独自化する方法の紹介として、ウェブブラウザユーティリティとしての利用に適するイメージを作成します。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#851" class="lnkocn">851</a></label>
  <p class="code" id="851">
    $ mkdir tutorial2<br>
$ cd tutorial2<br>
$ lb config<br>
$ echo "task-lxde-desktop iceweasel" &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#852" class="lnkocn">852</a></label>
  <p class="i0" id="852">
    この例で LXDE を選択しているのは最小限のデスクトップ環境を提供するという私達の目的を反映しています。念頭に置いているこのイメージの目的はただ一つ、ウェブブラウザだけだからです。もっと細かく、<tt>config/includes.chroot/etc/iceweasel/profile/</tt> でのウェブブラウザ向けデフォルト設定やウェブ上の様々な種類の内容を表示するための追加のサポートパッケージを提供することはできますが、それは読み手の演習として残しておきます。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#853" class="lnkocn">853</a></label>
  <p class="i0" id="853">
    <a href="examples.ja.html#tutorial-1">チュートリアル 1</a>  と同様、ここでもスーパーユーザでイメージをビルドし、ログを残します:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#854" class="lnkocn">854</a></label>
  <p class="code" id="854">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#855" class="lnkocn">855</a></label>
  <p class="i0" id="855">
    ここでも <a href="examples.ja.html#tutorial-1">チュートリアル 1</a>  と同様、イメージがうまくできているか検証し、テストします。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#856" class="lnkocn">856</a></label>
  <p class="bold" id="856"><a name="856"></a> <a id="htutorial-3"></a>
    <a name="h18.4" ></a><a name="tutorial-3" ></a>18.4 チュートリアル 3: 私的イメージ
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#857" class="lnkocn">857</a></label>
  <p class="i0" id="857">
    <b>事例:</b> プロジェクトを作成して個人用イメージをビルドします。USBメモリを使って好みのソフトウェアを自由に収録し、要求や設定を変更しながらこのイメージを続けて改訂します。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#858" class="lnkocn">858</a></label>
  <p class="i0" id="858">
    この個人用イメージを何度も改訂し、変更を追跡しておいて実験的に試してみてうまくいかなかったときには差し戻せるようにしたいため、人気のある#{git}#バージョン管理システムに設定を残します。 <a href="managing-a-configuration.ja.html#managing-a-configuration">設定管理</a>  で説明している <tt>auto</tt> スクリプトによる自動設定を経由した最善の実践も利用します。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#859" class="lnkocn">859</a></label>
  <p class="bold" id="859"><a name="859"></a> <a id="hc18.4.1"></a>
    <a name="c18.4.1" ></a><a name="h18.4.1" ></a>18.4.1 最初の改訂
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#860" class="lnkocn">860</a></label>
  <p class="code" id="860">
    $ mkdir -p tutorial3/auto<br>
$ cp /usr/share/doc/live-build/examples/auto/* tutorial3/auto/<br>
$ cd tutorial3<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#861" class="lnkocn">861</a></label>
  <p class="i0" id="861">
    <tt>auto/config</tt> を以下のように変更します:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#862" class="lnkocn">862</a></label>
  <p class="code" id="862">
    #!/bin/sh<br><br>
lb config noauto \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--architectures i386 \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--linux-flavours 686-pae \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"${@}"<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#863" class="lnkocn">863</a></label>
  <p class="i0" id="863">
    <tt>lb config</tt> を実行して設定ツリーを生成し、生成された <tt>auto/config</tt> スクリプトを使います:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#864" class="lnkocn">864</a></label>
  <p class="code" id="864">
    $ lb config<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#865" class="lnkocn">865</a></label>
  <p class="i0" id="865">
    ここでローカルパッケージ一覧を設定します:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#866" class="lnkocn">866</a></label>
  <p class="code" id="866">
    $ echo "task-lxde-desktop iceweasel xchat" &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#867" class="lnkocn">867</a></label>
  <p class="i0" id="867">
    まず、<tt>--architectures i386</tt> により必ず <tt>amd64</tt> ビルドシステムでほとんどのマシンでの利用に適応する32ビット版をビルドするようにします。次に、相当に古いシステムでのこのイメージの利用を想定しないため <tt>--linux-flavours 686-pae</tt> を使います。<i>lxde</i> のタスクメタパッケージを選択して最小限のデスクトップを揃えます。最後に、好みのパッケージの初期値として <i>iceweasel</i> と <i>xchat</i> を追加しています。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#868" class="lnkocn">868</a></label>
  <p class="i0" id="868">
    そして、イメージをビルドします:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#869" class="lnkocn">869</a></label>
  <p class="code" id="869">
    # lb build<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#870" class="lnkocn">870</a></label>
  <p class="i0" id="870">
    最初の2つのチュートリアルとは異なり、<tt>2&gt;&amp;1 | tee build.log</tt> は <tt>auto/build</tt> に書かれているため打ち込む必要がなくなっていることに注意してください。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#871" class="lnkocn">871</a></label>
  <p class="i0" id="871">
    ( <a href="examples.ja.html#tutorial-1">チュートリアル 1</a>  にあるように) イメージをテストしてうまく機能する確信を得たら#{git}#リポジトリを初期化し、作成したばかりの auto スクリプトだけを追加し、最初のコミットを行います:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#872" class="lnkocn">872</a></label>
  <p class="code" id="872">
    $ git init<br>
$ cp /usr/share/doc/live-build/examples/gitignore .gitignore<br>
$ git add .<br>
$ git commit -m "Initial import."<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#873" class="lnkocn">873</a></label>
  <p class="bold" id="873"><a name="873"></a> <a id="hc18.4.2"></a>
    <a name="c18.4.2" ></a><a name="h18.4.2" ></a>18.4.2 2回目の改訂
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#874" class="lnkocn">874</a></label>
  <p class="i0" id="874">
    この改訂では、最初のビルドをきれいにし、<i>vlc</i> パッケージを設定に追加して再ビルド、テストコミットを行います。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#875" class="lnkocn">875</a></label>
  <p class="i0" id="875">
    <tt>lb clean</tt> コマンドは前のビルドで生成したファイルを、パッケージを再びダウンロードせずに済むようにキャッシュを除いて全てきれいにします。これにより以降の <tt>lb build</tt> が全段階で再び実行され、必ず新しい設定でファイルを再生成するようになります。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#876" class="lnkocn">876</a></label>
  <p class="code" id="876">
    # lb clean<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#877" class="lnkocn">877</a></label>
  <p class="i0" id="877">
    <i>vlc</i> パッケージを <tt>config/package-lists/my.list.chroot</tt> のローカルパッケージ一覧に追記します:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#878" class="lnkocn">878</a></label>
  <p class="code" id="878">
    $ echo vlc &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#879" class="lnkocn">879</a></label>
  <p class="i0" id="879">
    再びビルドします:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#880" class="lnkocn">880</a></label>
  <p class="code" id="880">
    # lb build<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#881" class="lnkocn">881</a></label>
  <p class="i0" id="881">
    テストして満足したら次の改訂としてコミットします:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#882" class="lnkocn">882</a></label>
  <p class="code" id="882">
    $ git commit -a -m "Adding vlc media player."<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#883" class="lnkocn">883</a></label>
  <p class="i0" id="883">
    もちろん、<tt>config/</tt> 以下のサブディレクトリにファイルを追加する等により設定をもっと複雑に変更することも可能です。新しい改訂版をコミットする際、<tt>config</tt> の最上位にある、<tt>LB_*</tt> 変数を設定しているファイルもビルドされてできたもので、<tt>lb clean</tt> と、対応する <tt>auto</tt> スクリプトを経由して再作成した <tt>lb config</tt> により常に整理されるものなので、手で編集したりコミットすることのないように注意してください。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#884" class="lnkocn">884</a></label>
  <p class="i0" id="884">
    一連のチュートリアルもこれで終わりです。もっと多様な独自化はできますが、ここまでの簡単な例で見てきた少しの機能を使うだけでも、イメージはほぼ無限の異なる組み合わせを作成することができます。この節の残りの例では、収集してきた Live システムのユーザの経験を元にした他の事例についていくつか触れます。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#885" class="lnkocn">885</a></label>
  <p class="bold" id="885"><a name="885"></a> <a id="hc18.5"></a>
    <a name="c18.5" ></a><a name="h18.5" ></a>18.5 VNC 公衆クライアント
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#886" class="lnkocn">886</a></label>
  <p class="i0" id="886">
    <b>事例:</b> <i>live-build</i> を使って、ブートすると直接 VNC サーバに接続するイメージを作成します。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#887" class="lnkocn">887</a></label>
  <p class="i0" id="887">
    ビルド用ディレクトリを作ってそこに概略設定を作成し、推奨パッケージを無効にして最小限のシステムを作成します。それから初期パッケージ一覧を2つ作成します: 1つ目は <i>live-build</i> により提供される <tt>Packages</tt> というスクリプト ( <a href="customizing-package-installation.ja.html#generated-package-lists">生成されるパッケージ一覧</a>  参照) により生成し、2つ目では <i>xorg</i>、<i>gdm3</i>、<i>metacity</i>、<i>xvnc4viewer</i> を収録します。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#888" class="lnkocn">888</a></label>
  <p class="code" id="888">
    $ mkdir vnc-kiosk-client<br>
$ cd vnc-kiosk-client<br>
$ lb config -a i386 -k 686-pae --apt-recommends false<br>
$ echo '! Packages Priority standard' &gt; config/package-lists/standard.list.chroot<br>
$ echo "xorg gdm3 metacity xvnc4viewer" &gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#889" class="lnkocn">889</a></label>
  <p class="i0" id="889">
    <a href="customizing-package-installation.ja.html#tweaking-apt-to-save-space">APT の調整による容量の節約</a>  で説明しているように、イメージが適切に機能するためには推奨パッケージを再びいくらか追加する必要があるかもしれません。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#890" class="lnkocn">890</a></label>
  <p class="i0" id="890">
    推奨パッケージ一覧を調べるための簡単な方法として <i>apt-cache</i> の利用があります。例えば:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#891" class="lnkocn">891</a></label>
  <p class="code" id="891">
    $ apt-cache depends live-config live-boot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#892" class="lnkocn">892</a></label>
  <p class="i0" id="892">
    この例では <i>live-config</i> 及び <i>live-boot</i> により推奨されるパッケージを複数、再び収録する必要があることがわかっています: 自動ログインが機能するためには <tt>user-setup</tt>、システムをシャットダウンするための不可欠なプログラムとして <tt>sudo</tt>。他に、イメージをRAMにコピーできるようになる <tt>live-tools</tt> や Live メディアを最終的に取り出す <tt>eject</tt> を追加しておくと便利でしょう。それを反映すると:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#893" class="lnkocn">893</a></label>
  <p class="code" id="893">
    $ echo "live-tools user-setup sudo eject" &gt; config/package-lists/recommends.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#894" class="lnkocn">894</a></label>
  <p class="i0" id="894">
    その後ディレクトリ <tt>/etc/skel</tt> を <tt>config/includes.chroot</tt> に作成し、その中にデフォルトユーザ向けの独自の <tt>.xsession</tt> を置きます。このファイルは <i>metacity</i> を立ち上げて <i>xvncviewer</i> を起動し、<tt>192.168.1.2</tt> にあるサーバのポート <tt>5901</tt> に接続します:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#895" class="lnkocn">895</a></label>
  <p class="code" id="895">
    $ mkdir -p config/includes.chroot/etc/skel<br>
$ cat &gt; config/includes.chroot/etc/skel/.xsession &lt;&lt; EOF<br>
#!/bin/sh<br><br>
/usr/bin/metacity &amp;<br>
/usr/bin/xvncviewer 192.168.1.2:1<br><br>
exit<br>
EOF<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#896" class="lnkocn">896</a></label>
  <p class="i0" id="896">
    イメージをビルドします:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#897" class="lnkocn">897</a></label>
  <p class="code" id="897">
    # lb build<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#898" class="lnkocn">898</a></label>
  <p class="i0" id="898">
    楽しみましょう。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#899" class="lnkocn">899</a></label>
  <p class="bold" id="899"><a name="899"></a> <a id="hc18.6"></a>
    <a name="c18.6" ></a><a name="h18.6" ></a>18.6 128MB USB メモリ向けの基本イメージ
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#900" class="lnkocn">900</a></label>
  <p class="i0" id="900">
    <b>事例:</b> 128MB USB メモリに収まるように構成要素をいくらか削除して、収まることがわかるように容量を少し空けたデフォルトのイメージの作成。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#901" class="lnkocn">901</a></label>
  <p class="i0" id="901">
    特定のメディア容量に収まるようにイメージを最適化する場合、イメージのサイズと機能はトレードオフになることを理解する必要があります。この例では削るだけにしているので 128MB のメディアサイズ内に何か追加する余地をできるだけ残していますが、<i>localepurge</i> パッケージによるロケールの完全削除や収録しているパッケージ内の一貫性は何も壊していません。また、その他の「押し付ける」ような最適化もしていません。特に注目すべきなのは、最小限のシステムを最初から作成するために <tt>--debootstrap-options</tt> を利用している点です。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#902" class="lnkocn">902</a></label>
  <p class="code" id="902">
    $ lb config --apt-indices false --apt-recommends false --debootstrap-options "--variant=minbase" --firmware-chroot false --memtest none<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#903" class="lnkocn">903</a></label>
  <p class="i0" id="903">
    イメージを適切に機能させるためには、最低でも <tt>--apt-recommends false</tt> オプションにより外されていた推奨パッケージを2つ追加しなおす必要があります。 <a href="customizing-package-installation.ja.html#tweaking-apt-to-save-space">APTの調整による容量の節約</a>  を見てください。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#904" class="lnkocn">904</a></label>
  <p class="code" id="904">
    $ echo "user-setup sudo" &gt; config/package-lists/recommends.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#905" class="lnkocn">905</a></label>
  <p class="i0" id="905">
    ここで、普通の方法でイメージをビルドしてみます:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#906" class="lnkocn">906</a></label>
  <p class="code" id="906">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#907" class="lnkocn">907</a></label>
  <p class="i0" id="907">
    これを書いている時点の著者のシステムでは、上記の設定により 110MB のイメージができました。これを <a href="examples.ja.html#tutorial-1">チュートリアル 1</a>  のデフォルト設定で作成された 192MB のイメージと都合良く比較してみましょう。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#908" class="lnkocn">908</a></label>
  <p class="i0" id="908">
    <tt>--apt-indices false</tt> によりAPTの索引を省くことでかなりの容量を節約していますが、その代わりに Live システムで <i>apt</i> を使う前に <tt>apt-get update</tt> を実行する必要があります。<tt>--apt-recommends false</tt> により推奨パッケージを除外することで、本来あるはずのパッケージをいくらか除外する代わりにいくらか追加で容量を節約します。<tt>--debootstrap-options "--variant=minbase"</tt> で最初から最小限のシステムを構成します。<tt>--firmware-chroot false</tt> でファームウェアパッケージを自動的に収録しないようにすることでもさらに容量をいくらか節約します。そして最後に、<tt>--memtest none</tt> によりメモリテスターのインストールを抑制します。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#909" class="lnkocn">909</a></label>
  <p class="i0" id="909">
    <b>注意:</b> 最小限のシステムの構成はフックを使って、例えば <tt>/usr/share/doc/live-build/examples/hooks</tt> にある <tt>stripped.hook.chroot</tt> でも実現できます。これは容量をさらに少し減らし、62MB のイメージを生成します。しかしこれはその実現のために、システムにインストールしたパッケージから文書その他のファイルを削除しています。これはそうしたパッケージの完全性を破壊し、ヘッダで警告しているように思わぬ結果をもたらすかもしれません。それが、この目標のために推奨するのが最小限の <i>debootstrap</i> を利用する方法になっている理由です。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#910" class="lnkocn">910</a></label>
  <p class="bold" id="910"><a name="910"></a> <a id="hc18.7"></a>
    <a name="c18.7" ></a><a name="h18.7" ></a>18.7 地域化した GNOME デスクトップとインストーラ
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#911" class="lnkocn">911</a></label>
  <p class="i0" id="911">
    <b>事例:</b> GNOME デスクトップのイメージを作成し、スイス用の地域化とインストーラを収録する
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#912" class="lnkocn">912</a></label>
  <p class="i0" id="912">
    好みのデスクトップを使った i386 アーキテクチャ向けの iso-hybrid イメージを作りたい。ここでは GNOME を使用して、GNOME 用の標準の Debian インストーラによりインストールされるのと同一のパッケージを全て収録します。
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#913" class="lnkocn">913</a></label>
  <p class="i0" id="913">
    最初の問題は適切な言語用タスクの名前を判断する方法です。現在 <i>live-build</i> はこれを支援できません。運良くこれを試行錯誤で見つけられるかもしれませんが、そのためのツールがあります。<tt>grep-dctrl</tt> を利用して tasksel-data にあるタスクの説明を見つけることができます。そのため、準備としてこの両方が揃っていることを確認してください:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#914" class="lnkocn">914</a></label>
  <p class="code" id="914">
    # apt-get install dctrl-tools tasksel-data<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#915" class="lnkocn">915</a></label>
  <p class="i0" id="915">
    これで適切なタスクを検索できるようになりました。まず、
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#916" class="lnkocn">916</a></label>
  <p class="code" id="916">
    $ grep-dctrl -FTest-lang de /usr/share/tasksel/descs/debian-tasks.desc -sTask<br>
Task: german<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#917" class="lnkocn">917</a></label>
  <p class="i0" id="917">
    というコマンドにより、呼ばれたタスクが、簡単に言うとここではドイツだということがわかります。次は関連タスクを見つけます:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#918" class="lnkocn">918</a></label>
  <p class="code" id="918">
    $ grep-dctrl -FEnhances german /usr/share/tasksel/descs/debian-tasks.desc -sTask<br>
Task: german-desktop<br>
Task: german-kde-desktop<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#919" class="lnkocn">919</a></label>
  <p class="i0" id="919">
    ブート時に <b>de_CH.UTF-8</b> ロケールを生成して <b>ch</b> のキーボードレイアウトを選択します。一緒に見ていきましょう。 <a href="customizing-package-installation.ja.html#using-metapackages">メタパッケージの利用</a>  から、タスクのメタパッケージには先頭に <tt>task-</tt> が付くことを思いだしてください。こういった言語のブートパラメータを指定し、それから優先度が標準のパッケージと発見したタスクの全メタパッケージをパッケージ一覧に追加するだけです:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#920" class="lnkocn">920</a></label>
  <p class="code" id="920">
    $ mkdir live-gnome-ch<br>
$ cd live-gnome-ch<br>
$ lb config \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-a i386 \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--bootappend-live "boot=live components locales=de_CH.UTF-8 keyboard-layouts=ch" \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--debian-installer live<br>
$ echo '! Packages Priority standard' &gt; config/package-lists/standard.list.chroot<br>
$ echo task-gnome-desktop task-german task-german-desktop &gt;&gt; config/package-lists/desktop.list.chroot<br>
$ echo debian-installer-launcher &gt;&gt; config/package-lists/installer.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#921" class="lnkocn">921</a></label>
  <p class="i0" id="921">
    のようになります。インストーラを Live デスクトップから立ち上げるために <i>debian-installer-launcher</i> パッケージを収録していることに注意してください。さらに、インストーラを立ち上げる機能が適切に動作するために現在必要な <tt>586</tt> 用のカーネルがデフォルトで収録されます。
  </p>
</div></div><br><div class="main_column">
  <table summary="segment navigation band" bgcolor="#ffffff" width="100%"><tr>
  <td width="70%" align="center">
    
<table summary="segment navigation available documents types: toc,doc,pdf,concordance" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  
  
</tr></table>
  </td>
  <td width="5%" align="right">
    <table summary="segment navigation pre/next" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  <a href="git-repositories.ja.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_prev_red.png" alt="&lt;&lt;&nbsp;previous" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="toc.ja.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_up_red.png" alt="toc" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="style-guide.ja.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_next_red.png" alt="next&nbsp;&gt;&gt;" />
  </a>
</td>
<td>
</td></tr>
</table>
  </td></tr>
  </table>
  
</div><div class="main_column">

<a name="bottom" id="bottom"></a>
<a name="end" id="end"></a>
</div></div></body>
</html>