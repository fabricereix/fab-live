<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>
    examples -
    Manual de Live Systems
  </title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name="dc.title" content="Manual de Live Systems" />
  <meta name="dc.author" content="Proyecto Live  Systems &#60;debian-live@lists.debian.org&#62;" />
  <meta name="dc.publisher" content="Live Systems Project &#60;debian-live@lists.debian.org&#62;" />
  <meta name="dc.date" content="22.09.2015"  />
  <meta name="dc.rights" content="Copyright: Copyright (C) 2006-2015 Live Systems Project \\ License: Este programa es software libre: puede ser redistribuido y/o modificado bajo los t&#233;rminos de la GNU General Public License publicada por la Free Software Foundation, bien de la versi&#243;n 3 de la Licencia, o (a su elecci&#243;n) cualquier versi&#243;n posterior. \\  \\ Este programa se distribuye con la esperanza de que sea &#251;til, pero SIN NINGUNA GARANT&#205;A, incluso sin la garant&#237;a impl&#237;cita de COMERCIALIZACI&#211;N o IDONEIDAD PARA UN PROP&#211;SITO PARTICULAR. Consulte la GNU General Public License para m&#225;s detalles. \\  \\ Deber&#237;a haber recibido una copia de la General Public License GNU junto con este programa. Si no, vea http://www.gnu.org/licenses/. \\  \\ El texto completo de la GNU Licencia P&#251;blica General se pueden encontrar en /usr/share/common-licenses/GPL-3" />

  <meta name="generator" content="SiSU 7.1.8 of 2016w08/5 (2016-02-26) (n*x and Ruby!)" />
    <link rel="generator" href="http://www.sisudoc.org/" />
  <link rel="shortcut icon" href="../_sisu/image/rb7.ico" />

  <link href="../../_sisu/css/html.css" rel="stylesheet">
</head>
<body lang="es">
<a name="top" id="top"></a><table summary="segment navigation band with banner" bgcolor="#ffffff" width="100%"><tr>
<td width="20%" align="left">
 <table summary="home button / home information" border="0" cellpadding="3" cellspacing="0">
 <tr><td align="left" bgcolor="#ffffff">
  <p class="tiny_left"><a href="http://debian-live.alioth.debian.org/manual" target="_top">
    Live manual
  </a></p>
  <p class="tiny_left"><a href="http://debian-live.alioth.debian.org" target="_top">
    Live Systems
  </a></p>
 </td></tr>
 </table>
</td>
<td width="75%" align="center">
  
<table summary="segment navigation available documents types: toc,doc,pdf,concordance" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  
  
</tr></table>
</td>
<td width="5%" align="right">
  <table summary="segment navigation pre/next" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  <a href="git-repositories.es.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_prev_red.png" alt="&lt;&lt;&nbsp;previous" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="toc.es.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_up_red.png" alt="toc" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="style-guide.es.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_next_red.png" alt="next&nbsp;&gt;&gt;" />
  </a>
</td>
<td>
</td></tr>
</table>
</td></tr>
</table><div class="toc"><h1 class="minitoc">
    Manual de Live Systems
  </h1>

<h1 class="minitoc">
    Acerca de este manual
  </h1>

<h1 class="minitoc">
    Acerca de este manual
  </h1>

<h4 class="minitoc">
      <a href="about-manual.es.html" target="_top">
    1. Acerca de este manual
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="about-manual.es.html#8">
    1.1 Para el impaciente.
  </a>
  </h5>

<h5 class="minitoc">
      <a href="about-manual.es.html#12">
    1.2 Términos
  </a>
  </h5>

<h5 class="minitoc">
      <a href="about-manual.es.html#29">
    1.3 Autores
  </a>
  </h5>

<h5 class="minitoc">
      <a href="about-manual.es.html#44">
    1.4 Cómo contribuir a este documento
  </a>
  </h5>

<h6 class="minitoc">
      <a href="about-manual.es.html#46">
  1.4.1 Aplicar cambios
</a>
  </h6>

<h6 class="minitoc">
      <a href="about-manual.es.html#60">
  1.4.2 Traducción
</a>
  </h6>

<h1 class="minitoc">
    Contribuir al Live Systems Project
  </h1>

<h4 class="minitoc">
      <a href="about-project.es.html" target="_top">
    2. Acerca del Live Systems Project
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="about-project.es.html#75">
    2.1 Motivación
  </a>
  </h5>

<h6 class="minitoc">
      <a href="about-project.es.html#76">
  2.1.1 Desventajas de los sistemas en vivo actuales
</a>
  </h6>

<h6 class="minitoc">
      <a href="about-project.es.html#86">
  2.1.2 El porqué de crear un sistema en vivo propio.
</a>
  </h6>

<h5 class="minitoc">
      <a href="about-project.es.html#94">
    2.2 Filosofía
  </a>
  </h5>

<h6 class="minitoc">
      <a href="about-project.es.html#95">
  2.2.1 Solamente paquetes sin modificación alguna de Debian «main»
</a>
  </h6>

<h6 class="minitoc">
      <a href="about-project.es.html#99">
  2.2.2 Sin configuración especial para el sistema en vivo
</a>
  </h6>

<h5 class="minitoc">
      <a href="about-project.es.html#103">
    2.3 Contacto
  </a>
  </h5>

<h1 class="minitoc">
    Usuario
  </h1>

<h1 class="minitoc">
    Instalación
  </h1>

<h4 class="minitoc">
      <a href="installation.es.html" target="_top">
    3. Instalación
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="installation.es.html#110">
    3.1 Requisitos
  </a>
  </h5>

<h5 class="minitoc">
      <a href="installation.es.html#118">
    3.2 Instalación de live-build
  </a>
  </h5>

<h6 class="minitoc">
      <a href="installation.es.html#124">
  3.2.1 Desde el repositorio Debian.
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.es.html#127">
  3.2.2 A partir del código fuente
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.es.html#138">
  3.2.3 A partir de «instantáneas»
</a>
  </h6>

<h5 class="minitoc">
      <a href="installation.es.html#140">
    3.3 Instalación de live-boot y live-config
  </a>
  </h5>

<h6 class="minitoc">
      <a href="installation.es.html#142">
  3.3.1 Desde el repositorio Debian.
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.es.html#144">
  3.3.2 A partir del código fuente
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.es.html#156">
  3.3.3 A partir de «instantáneas»
</a>
  </h6>

<h1 class="minitoc">
    Conceptos básicos
  </h1>

<h4 class="minitoc">
      <a href="the-basics.es.html" target="_top">
    4. Conceptos básicos
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="the-basics.es.html#163">
    4.1 ¿Qué es un sistema en vivo?
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.es.html#171">
    4.2 Descarga de imágenes prefabricadas
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.es.html#173">
    4.3 Uso del servicio de creación de imágenes web
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.es.html#175">
  4.3.1 Uso y advertencias del servicio de creación de imágenes web
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.es.html#179">
    4.4 Primeros pasos: creación de una imagen ISO híbrida
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.es.html#190">
    4.5 Usar una imagen ISO híbrida
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.es.html#192">
  4.5.1 Grabar una imagen ISO en un medio físico.
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.es.html#195">
  4.5.2 Copiar una imagen ISO híbrida a un dispositivo  USB
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.es.html#200">
  4.5.3 Usar el espacio libre en el dispositivo USB
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.es.html#207">
  4.5.4 Arrancar el medio en vivo
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.es.html#211">
    4.6 Usar una máquina virtual para pruebas
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.es.html#218">
  4.6.1 Probar una imagen ISO con QEMU
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.es.html#225">
  4.6.2 Probar una imagen ISO con VirtualBox
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.es.html#233">
    4.7 Construir y utilizar una imágen HDD
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.es.html#245">
    4.8 Creación de una imagen de arranque en red
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.es.html#258">
  4.8.1 Servidor DHCP
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.es.html#262">
  4.8.2 Servidor TFTP
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.es.html#267">
  4.8.3 Servidor NFS
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.es.html#275">
  4.8.4 Cómo probar el arranque en red
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.es.html#278">
  4.8.5 Qemu
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.es.html#284">
    4.9 Arrancar desde internet
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.es.html#286">
  4.9.1 Conseguir los ficheros para arrancar desde internet
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.es.html#292">
  4.9.2 Arrancar imágenes webboot
</a>
  </h6>

<h1 class="minitoc">
    Descripción general de las herramientas
  </h1>

<h4 class="minitoc">
      <a href="overview-of-tools.es.html" target="_top">
    5. Descripción general de las herramientas
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="overview-of-tools.es.html#300">
    5.1 El paquete live-build
  </a>
  </h5>

<h6 class="minitoc">
      <a href="overview-of-tools.es.html#310">
  5.1.1 El comando <tt>lb config</tt>
</a>
  </h6>

<h6 class="minitoc">
      <a href="overview-of-tools.es.html#320">
  5.1.2 El comando <tt>lb build</tt>
</a>
  </h6>

<h6 class="minitoc">
      <a href="overview-of-tools.es.html#322">
  5.1.3 El comando <tt>lb clean</tt>
</a>
  </h6>

<h5 class="minitoc">
      <a href="overview-of-tools.es.html#324">
    5.2 El paquete live-boot
  </a>
  </h5>

<h5 class="minitoc">
      <a href="overview-of-tools.es.html#328">
    5.3 El paquete live-config
  </a>
  </h5>

<h1 class="minitoc">
    Gestionar una configuración
  </h1>

<h4 class="minitoc">
      <a href="managing-a-configuration.es.html" target="_top">
    6. Gestionar una configuración
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="managing-a-configuration.es.html#333">
    6.1 Gestionar cambios en la configuración
  </a>
  </h5>

<h6 class="minitoc">
      <a href="managing-a-configuration.es.html#335">
  6.1.1 ¿Por qué utilizar scripts auto? ¿Qué hacen?
</a>
  </h6>

<h6 class="minitoc">
      <a href="managing-a-configuration.es.html#338">
  6.1.2 Usar scripts auto de ejemplo
</a>
  </h6>

<h5 class="minitoc">
      <a href="managing-a-configuration.es.html#345">
    6.2 Clonar una configuración publicada a través de  Git
  </a>
  </h5>

<h1 class="minitoc">
    Personalización de contenidos
  </h1>

<h4 class="minitoc">
      <a href="customization-overview.es.html" target="_top">
    7. Descripción general de la personalización.
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customization-overview.es.html#359">
    7.1 Configuración en el momento de la creación vs en el momento del arranque
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customization-overview.es.html#362">
    7.2 Etapas de la creación
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customization-overview.es.html#365">
    7.3 Opciones para lb config en ficheros
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customization-overview.es.html#367">
    7.4 Tareas de personalización
  </a>
  </h5>

<h1 class="minitoc">
    Personalización de la instalación de paquetes
  </h1>

<h4 class="minitoc">
      <a href="customizing-package-installation.es.html" target="_top">
    8. Personalización de la instalación de  paquetes
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-package-installation.es.html#372">
    8.1 Origen de los paquetes
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#373">
  8.1.1 Distribución, áreas de archivo y modo
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#380">
  8.1.2 Réplicas de Distribución Debian
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#382">
  8.1.3 Réplicas de Distribution utilizadas  durante la creación
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#386">
  8.1.4 Réplicas de distribución Debian utilizadas en la ejecución.
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#389">
  8.1.5 Repositorios adicionales
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-package-installation.es.html#397">
    8.2 Selección de los paquetes a instalar
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#399">
  8.2.1 Listas de paquetes
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#402">
  8.2.2 Utilizar metapaquetes
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#410">
  8.2.3 Listas de paquetes locales
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#414">
  8.2.4 Listas de paquetes locales para la etapa binary
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#416">
  8.2.5 Generar listas de paquetes
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#420">
  8.2.6 Utilización de condiciones dentro de las listas de paquetes
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#429">
  8.2.7 Eliminación paquetes durante la instalación
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#431">
  8.2.8 Tareas de Escritorio e Idioma
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#436">
  8.2.9 Versión y tipo de kernel
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#441">
  8.2.10 Kernels personalizados
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-package-installation.es.html#449">
    8.3 Instalar paquetes modificados  o de terceros
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#456">
  8.3.1 Método <tt>packages.chroot</tt> para instalar paquetes personalizados
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#463">
  8.3.2 Método de repositorio APT para instalar paquetes personalizados
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#466">
  8.3.3 Paquetes personalizados y APT
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-package-installation.es.html#469">
    8.4 Configurar APT en la creación
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#471">
  8.4.1 Utilizar apt o aptitude
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#475">
  8.4.2 Utilización de un proxy con APT
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#478">
  8.4.3 Ajuste de APT para ahorrar espacio
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#487">
  8.4.4 Pasar opciones a apt o a aptitude
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.es.html#492">
  8.4.5 APT pinning
</a>
  </h6>

<h1 class="minitoc">
    Personalización de contenidos
  </h1>

<h4 class="minitoc">
      <a href="customizing-contents.es.html" target="_top">
    9. Personalización de contenidos
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-contents.es.html#501">
    9.1 Includes
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-contents.es.html#506">
  9.1.1 Includes locales en Live/chroot
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-contents.es.html#513">
  9.1.2 Includes locales en Binary
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-contents.es.html#517">
    9.2 Scripts gancho (Hooks)
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-contents.es.html#520">
  9.2.1 Scripts gancho locales en el chroot
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-contents.es.html#522">
  9.2.2 Scripts gancho locales en Binary
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-contents.es.html#524">
  9.2.3 Scripts gancho en tiempo de arranque
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-contents.es.html#526">
    9.3 Preconfiguración de las preguntas de Debconf
  </a>
  </h5>

<h1 class="minitoc">
    Personalización del comportamiento en tiempo de ejecución.
  </h1>

<h4 class="minitoc">
      <a href="customizing-run-time-behaviours.es.html" target="_top">
    10. Personalización del comportamiento en  tiempo de ejecución.
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-run-time-behaviours.es.html#532">
    10.1 Personalización del usuario por defecto del sistema en vivo
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-run-time-behaviours.es.html#541">
    10.2 Personalización de las variantes locales e  idioma
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-run-time-behaviours.es.html#558">
    10.3 Persistencia
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-run-time-behaviours.es.html#580">
  10.3.1 El fichero persistence.conf
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-run-time-behaviours.es.html#585">
  10.3.2 Utilizar varios medios persistentes
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-run-time-behaviours.es.html#591">
  10.3.3 Utilizar persistencia con cifrado
</a>
  </h6>

<h1 class="minitoc">
    Personalización de la imagen binaria
  </h1>

<h4 class="minitoc">
      <a href="customizing-binary.es.html" target="_top">
    11. Personalización de la imagen binaria
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-binary.es.html#619">
    11.1 Gestores de arranque
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-binary.es.html#626">
    11.2 Metadatos ISO
  </a>
  </h5>

<h1 class="minitoc">
    Personalización del Instalador de Debian
  </h1>

<h4 class="minitoc">
      <a href="customizing-installer.es.html" target="_top">
    12. Personalización del Instalador de Debian
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-installer.es.html#636">
    12.1 Tipos de imágenes según el instalador
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-installer.es.html#648">
    12.2 Personalizando el Instalador de Debian mediante preconfiguración
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-installer.es.html#651">
    12.3 Personalizar el contenido del Instalador de Debian
  </a>
  </h5>

<h1 class="minitoc">
    Proyecto
  </h1>

<h1 class="minitoc">
    Contribuir al proyecto
  </h1>

<h4 class="minitoc">
      <a href="contributing-to-project.es.html" target="_top">
    13. Contribuir al proyecto
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="contributing-to-project.es.html#667">
    13.1 Realizar cambios
  </a>
  </h5>

<h5 class="minitoc">
      <a href="contributing-to-project.es.html#682">
    13.2 Traducción de las páginas de manual
  </a>
  </h5>

<h1 class="minitoc">
    Cómo informar acerca de errores.
  </h1>

<h4 class="minitoc">
      <a href="bugs.es.html" target="_top">
    14. Informes de errores.
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="bugs.es.html#698">
    14.1 Problemas conocidos
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.es.html#703">
    14.2 Reconstruir desde cero
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.es.html#705">
    14.3 Utilizar paquetes actualizados
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.es.html#707">
    14.4 Recopilar información
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.es.html#724">
    14.5 Aislar el fallo si es posible
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.es.html#726">
    14.6 Utilizar el paquete correcto sobre el que informar del error
  </a>
  </h5>

<h6 class="minitoc">
      <a href="bugs.es.html#729">
  14.6.1 En la preinstalación (bootstrap) en tiempo de creación.
</a>
  </h6>

<h6 class="minitoc">
      <a href="bugs.es.html#732">
  14.6.2 Mientras se instalan paquetes en tiempo de creación.
</a>
  </h6>

<h6 class="minitoc">
      <a href="bugs.es.html#736">
  14.6.3 En tiempo de arranque
</a>
  </h6>

<h6 class="minitoc">
      <a href="bugs.es.html#738">
  14.6.4 En tiempo de ejecución
</a>
  </h6>

<h5 class="minitoc">
      <a href="bugs.es.html#740">
    14.7 Hacer la investigación
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.es.html#744">
    14.8 Dónde informar de los fallos
  </a>
  </h5>

<h1 class="minitoc">
    Estilo de código
  </h1>

<h4 class="minitoc">
      <a href="coding-style.es.html" target="_top">
    15. Estilo de código
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="coding-style.es.html#751">
    15.1 Compatibilidad
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.es.html#756">
    15.2 Sangrado
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.es.html#758">
    15.3 Ajuste de líneas
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.es.html#770">
    15.4 Variables
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.es.html#789">
    15.5 Miscelánea
  </a>
  </h5>

<h1 class="minitoc">
    Procedimientos
  </h1>

<h4 class="minitoc">
      <a href="procedures.es.html" target="_top">
    16. Procedimientos
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="procedures.es.html#797">
    16.1 Principales lanzamientos
  </a>
  </h5>

<h5 class="minitoc">
      <a href="procedures.es.html#803">
    16.2 Nuevas versiones
  </a>
  </h5>

<h6 class="minitoc">
      <a href="procedures.es.html#807">
  16.2.1 Última actualización de una versión Debian
</a>
  </h6>

<h6 class="minitoc">
      <a href="procedures.es.html#809">
  16.2.2 Plantilla para anunciar nuevas versiones.
</a>
  </h6>

<h1 class="minitoc">
    Repositorios Git
  </h1>

<h4 class="minitoc">
      <a href="git-repositories.es.html" target="_top">
    17. Repositorios Git
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="git-repositories.es.html#829">
    17.1 Manejo de múltiples repositorios
  </a>
  </h5>

<h1 class="minitoc">
    Ejemplos
  </h1>

<h1 class="minitoc">
    Ejemplos
  </h1>

<h4 class="minitoc">
      <a href="examples.es.html" target="_top">
    18. Ejemplos
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="examples.es.html#837">
    18.1 Uso de los ejemplos
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.es.html#841">
    18.2 Tutorial 1: Una imagen predeterminada
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.es.html#850">
    18.3 Tutorial 2: Una utilidad de navegador web
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.es.html#858">
    18.4 Tutorial 3: Una imagen personalizada
  </a>
  </h5>

<h6 class="minitoc">
      <a href="examples.es.html#861">
  18.4.1 Primera revisión
</a>
  </h6>

<h6 class="minitoc">
      <a href="examples.es.html#875">
  18.4.2 Segunda revisión
</a>
  </h6>

<h5 class="minitoc">
      <a href="examples.es.html#887">
    18.5 Un cliente VNC kiosk
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.es.html#901">
    18.6 Una imagen básica para un pendrive USB de 128MB
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.es.html#912">
    18.7 Un escritorio GNOME con variante local e instalador
  </a>
  </h5>

<h1 class="minitoc">
    Apéndice
  </h1>

<h1 class="minitoc">
    Style guide
  </h1>

<h4 class="minitoc">
      <a href="style-guide.es.html" target="_top">
    19. Guía de estilo
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="style-guide.es.html#927">
    19.1 Instrucciones para los autores
  </a>
  </h5>

<h6 class="minitoc">
      <a href="style-guide.es.html#930">
  19.1.1 Aspectos lingüísticos
</a>
  </h6>

<h6 class="minitoc">
      <a href="style-guide.es.html#963">
  19.1.2 Procedimientos
</a>
  </h6>

<h5 class="minitoc">
      <a href="style-guide.es.html#1002">
    19.2 Directrices para los traductores
  </a>
  </h5>

<h6 class="minitoc">
      <a href="style-guide.es.html#1006">
  19.2.1 Consejos de traducción
</a>
  </h6>

<h1 class="minitoc">
    <b><a href="metadata.es.html">Metadata</a></b>
  </h1>

<h4 class="minitoc">
      <a href="metadata.es.html" target="_top">
    SiSU Metadata, document information
  </a> 
  </h4>
</div><div class="content">
<h1 class="tiny">
    Manual de Live Systems
  </h1>
</div><div class="content">
<h1 class="tiny">
    Ejemplos
  </h1>
</div><div class="content"><div class="substance">
  <label class="ocn"><a href="#835" class="lnkocn">835</a></label>
  <h1 class="norm" id="835"><a name="835"></a>
    18. Ejemplos
  </h1>
</div><div class="substance">
  <label class="ocn"><a href="#836" class="lnkocn">836</a></label>
  <p class="i0" id="836">
    Este capítulo ofrece ejemplos de creación de imágenes de sistemas en vivo para casos de uso específicos. Si se es nuevo en la creación de una imagen en vivo propia, se recomienda leer primero los tres tutoriales en secuencia, ya que cada uno enseña nuevas técnicas que ayudan a utilizar y entender los ejemplos restantes.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#837" class="lnkocn">837</a></label>
  <p class="bold" id="837"><a name="837"></a> <a id="husing-the-examples"></a>
    <a name="h18.1" ></a><a name="using-the-examples" ></a>18.1 Uso de los ejemplos
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#838" class="lnkocn">838</a></label>
  <p class="i0" id="838">
    Para poder seguir estos ejemplos es necesario un sistema donde crearlos que cumpla con los requisitos enumerados en  <a href="installation.es.html#requirements">Requisitos</a>  y tener <i>live-build</i> instalado tal y como se describe en  <a href="installation.es.html#installing-live-build">Instalación de live-build</a>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#839" class="lnkocn">839</a></label>
  <p class="i0" id="839">
    Hay que tener en cuenta que, para abreviar, en estos ejemplos no se especifica una réplica local para la creación de la imagen. Es posible acelerar las descargas considerablemente si se utiliza una réplica local. Se puede especificar las opciones cuando se usa <tt>lb config</tt>, tal y como se describe en  <a href="customizing-package-installation.es.html#distribution-mirrors-build-time">Réplicas de Distribution utilizadas durante la creación</a>,  o para más comodidad, establecer el valor por defecto para la creación del sistema en <tt>/etc/live/build.conf</tt>. Basta con crear este fichero y en el mismo, establecer las variables <tt>LB_MIRROR_*</tt> correspondientes a la réplica preferida. Todas las demás réplicas usadas en el proceso de creación usarán estos valores por defecto. Por ejemplo:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#840" class="lnkocn">840</a></label>
  <p class="code" id="840">
    LB_MIRROR_BOOTSTRAP="http://mirror/debian/" <br>
LB_MIRROR_CHROOT_SECURITY="http://mirror/debian-security/" <br>
LB_MIRROR_CHROOT_BACKPORTS="http://mirror/debian-updates/"<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#841" class="lnkocn">841</a></label>
  <p class="bold" id="841"><a name="841"></a> <a id="htutorial-1"></a>
    <a name="h18.2" ></a><a name="tutorial-1" ></a>18.2 Tutorial 1: Una imagen predeterminada
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#842" class="lnkocn">842</a></label>
  <p class="i0" id="842">
    <b>Caso práctico:</b> Crear una primera imagen sencilla, aprendiendo los fundamentos de <i>live-build</i>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#843" class="lnkocn">843</a></label>
  <p class="i0" id="843">
    En este tutorial, vamos a construir una imagen ISO híbrida por defecto que contenga únicamente los paquetes base (sin Xorg) y algunos paquetes de soporte, como un primer ejercicio en el uso de <i>live-build</i>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#844" class="lnkocn">844</a></label>
  <p class="i0" id="844">
    No puede ser más fácil que esto:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#845" class="lnkocn">845</a></label>
  <p class="code" id="845">
    $ mkdir tutorial1 ; cd tutorial1 ; lb config<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#846" class="lnkocn">846</a></label>
  <p class="i0" id="846">
    Si se examina el contenido del directorio <tt>config/</tt> se verá almacenada allí una configuración en esqueleto preparada para ser personalizada o en este caso para ser usada inmediatamente para construir una imagen por defecto.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#847" class="lnkocn">847</a></label>
  <p class="i0" id="847">
    Ahora, como superusuario, crear la imagen, guardando un log con <tt>tee</tt> mientras se crea.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#848" class="lnkocn">848</a></label>
  <p class="code" id="848">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#849" class="lnkocn">849</a></label>
  <p class="i0" id="849">
    Suponiendo que todo va bien, después de un rato, el directorio actual contendrá <tt>live-image-i386.hybrid.iso</tt>. Esta imagen ISO híbrida se puede arrancar directamente en una máquina virtual como se describe en  <a href="the-basics.es.html#testing-iso-with-qemu">Probar una imagen ISO con Qemu</a>  y en  <a href="the-basics.es.html#testing-iso-with-virtualbox">Probar una imagen ISO con VirtualBox</a>  o bien ser copiada a un medio óptico como un dispositivo USB tal y como se describe en  <a href="the-basics.es.html#burning-iso-image">Grabar una imagen ISO en un medio físico</a>  y  <a href="the-basics.es.html#copying-iso-hybrid-to-usb">Copiar una imagen ISO híbrida en un dispositivo USB</a>,  respectivamente.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#850" class="lnkocn">850</a></label>
  <p class="bold" id="850"><a name="850"></a> <a id="htutorial-2"></a>
    <a name="h18.3" ></a><a name="tutorial-2" ></a>18.3 Tutorial 2: Una utilidad de navegador web
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#851" class="lnkocn">851</a></label>
  <p class="i0" id="851">
    <b>Caso práctico:</b> Crear una utilidad de navegador web, aprendiendo a aplicar personalizaciones.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#852" class="lnkocn">852</a></label>
  <p class="i0" id="852">
    En este tutorial, se creará una imagen adecuada para su uso como utilidad de navegador web, esto sirve como introducción a la personalización de las imágenes de sistemas en vivo.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#853" class="lnkocn">853</a></label>
  <p class="code" id="853">
    $ mkdir tutorial2<br>
$ cd tutorial2<br>
$ lb config<br>
$ echo "task-lxde-desktop iceweasel" &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#854" class="lnkocn">854</a></label>
  <p class="i0" id="854">
    La elección de LXDE para este ejemplo refleja el deseo de ofrecer un entorno de escritorio mínimo, ya que el enfoque de la imagen es el uso individual que se tiene en mente, el navegador web. Se podría ir aún más lejos y ofrecer una configuración por defecto para el navegador web en <tt>config/includes.chroot/etc/iceweasel/profile/</tt>, o paquetes adicionales de soporte para la visualización de diversos tipos de contenido web, pero se deja esto como un ejercicio para el lector.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#855" class="lnkocn">855</a></label>
  <p class="i0" id="855">
    Crear la imagen, de nuevo como superusuario, guardando un log como en el  <a href="examples.es.html#tutorial-1">Tutorial 1</a>:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#856" class="lnkocn">856</a></label>
  <p class="code" id="856">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#857" class="lnkocn">857</a></label>
  <p class="i0" id="857">
    De nuevo, verificar que la imagen está bien y probarla igual que en el  <a href="examples.es.html#tutorial-1">Tutorial 1</a>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#858" class="lnkocn">858</a></label>
  <p class="bold" id="858"><a name="858"></a> <a id="htutorial-3"></a>
    <a name="h18.4" ></a><a name="tutorial-3" ></a>18.4 Tutorial 3: Una imagen personalizada
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#859" class="lnkocn">859</a></label>
  <p class="i0" id="859">
    <b>Caso práctico:</b> Crear un proyecto para conseguir una imagen personalizada, que contenga el software favorito para llevárselo en una memoria USB donde quiera que se vaya, y hacerlo evolucionar en revisiones sucesivas, tal y como vayan cambiando las necesidades y preferencias.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#860" class="lnkocn">860</a></label>
  <p class="i0" id="860">
    Como nuestra imagen personalizada irá cambiando durante un número de revisiones, si se quiere ir siguiendo esos cambios, probar nuevas cosas de forma experimental y posiblemente volver atrás si no salen bien, se guardará la configuración en el popular sistema de control de versiones <tt>git</tt>. También se utilizarán las mejores prácticas de configuración automática a través de scripts <tt>auto</tt> como se describe en  <a href="managing-a-configuration.es.html#managing-a-configuration">Gestionar una configuración</a>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#861" class="lnkocn">861</a></label>
  <p class="bold" id="861"><a name="861"></a> <a id="hc18.4.1"></a>
    <a name="c18.4.1" ></a><a name="h18.4.1" ></a>18.4.1 Primera revisión
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#862" class="lnkocn">862</a></label>
  <p class="code" id="862">
    $ mkdir -p tutorial3/auto<br>
$ cp /usr/share/doc/live-build/examples/auto/* tutorial3/auto/<br>
$ cd tutorial3<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#863" class="lnkocn">863</a></label>
  <p class="i0" id="863">
    Editar <tt>auto/config</tt> del siguiente modo:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#864" class="lnkocn">864</a></label>
  <p class="code" id="864">
    #!/bin/sh<br><br>
lb config noauto \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--architectures i386 \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--linux-flavours 686-pae \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"${@}"<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#865" class="lnkocn">865</a></label>
  <p class="i0" id="865">
    Ejecutar <tt>lb config</tt> para generar el árbol de configuración, utilizando el script <tt>auto/config</tt> que justo se acaba de crear:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#866" class="lnkocn">866</a></label>
  <p class="code" id="866">
    $ lb config<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#867" class="lnkocn">867</a></label>
  <p class="i0" id="867">
    Completar la lista de paquetes local:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#868" class="lnkocn">868</a></label>
  <p class="code" id="868">
    $ echo "task-lxde-desktop iceweasel xchat" &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#869" class="lnkocn">869</a></label>
  <p class="i0" id="869">
    En primer lugar con <tt>--architectures i386</tt> se asegura de que en un sistema de creación <tt>amd64</tt> se crea una versión de 32-bits adecuada para ser usada en la mayoría de máquinas. En segundo lugar, se usa <tt>--linux-flavours 686-pae</tt> porque no se espera usar esta imagen en sistemas mucho más viejos. En tercer lugar se elige el metapaquete <i>lxde</i> para proporcionar un escritorio mínimo. Y, por último, se añaden dos paquetes iniciales favoritos: <i>iceweasel</i> y <i>xchat</i>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#870" class="lnkocn">870</a></label>
  <p class="i0" id="870">
    Ahora, crear la imagen:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#871" class="lnkocn">871</a></label>
  <p class="code" id="871">
    # lb build<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#872" class="lnkocn">872</a></label>
  <p class="i0" id="872">
    Tener en cuenta que a diferencia de los dos primeros tutoriales, ya no se tiene que escribir <tt>2&gt;&amp;1 | tee build.log</tt> ya que esto se incluye ahora en <tt>auto/build</tt>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#873" class="lnkocn">873</a></label>
  <p class="i0" id="873">
    Una vez que se ha probado la imagen (como en el  <a href="examples.es.html#tutorial-1">Tutorial 1</a>)  y se ha asegurado de que funciona, es el momento de iniciar el repositorio git, añadiendo sólo los scripts auto que se acaba de crear, y luego hacer el primer commit:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#874" class="lnkocn">874</a></label>
  <p class="code" id="874">
    $ git init<br>
$ cp /usr/share/doc/live-build/examples/gitignore .gitignore<br>
$ git add .<br>
$ git commit -m "Initial import."<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#875" class="lnkocn">875</a></label>
  <p class="bold" id="875"><a name="875"></a> <a id="hc18.4.2"></a>
    <a name="c18.4.2" ></a><a name="h18.4.2" ></a>18.4.2 Segunda revisión
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#876" class="lnkocn">876</a></label>
  <p class="i0" id="876">
    En esta revisión, vamos a limpiar desde la primera creación, agregar el paquete <i>vlc</i> a nuestra configuración, crear de nuevo, probar y enviar los cambios al git.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#877" class="lnkocn">877</a></label>
  <p class="i0" id="877">
    El comando <tt>lb clean</tt> limpiará todos los ficheros generados en las primeras creaciones a excepción del caché, lo cual ahorra tener que volver a descargar de nuevo los paquetes. Esto asegura que el siguiente <tt>lb build</tt> vuelva a ejecutar todas las fases para regenerar los ficheros de nuestra nueva configuración.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#878" class="lnkocn">878</a></label>
  <p class="code" id="878">
    # lb clean<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#879" class="lnkocn">879</a></label>
  <p class="i0" id="879">
    Añadir ahora el paquete <i>vlc</i> a nuestra lista de paquetes local en <tt>config/package-lists/my.list.chroot</tt>:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#880" class="lnkocn">880</a></label>
  <p class="code" id="880">
    &nbsp;&nbsp;$ echo vlc &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#881" class="lnkocn">881</a></label>
  <p class="i0" id="881">
    Crear de nuevo:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#882" class="lnkocn">882</a></label>
  <p class="code" id="882">
    # lb build<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#883" class="lnkocn">883</a></label>
  <p class="i0" id="883">
    Probar, y cuando se esté satisfecho, enviar la próxima revisión al git:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#884" class="lnkocn">884</a></label>
  <p class="code" id="884">
    $ git commit -a -m "Adding vlc media player."<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#885" class="lnkocn">885</a></label>
  <p class="i0" id="885">
    Por supuesto, es posible hacer cambios más complicados en la configuración, tal vez añadiendo ficheros en los subdirectorios de <tt>config/</tt>. Cuando se envian nuevas revisiones, hay que tener cuidado de no editar a mano o enviar los ficheros del nivel superior en <tt>config</tt> que contienen variables <tt>LB_*</tt> ya que estos son productos de creación también y son siempre limpiados por <tt>lb clean</tt> y recreados con <tt>lb config</tt> a través de sus respectivos scripts <tt>auto</tt>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#886" class="lnkocn">886</a></label>
  <p class="i0" id="886">
    Hemos llegado al final de nuestra serie de tutoriales. Si bien son posibles muchos más tipos de personalización, aunque sólo sea con las pocas características explicadas en estos sencillos ejemplos, se puede crear una variedad casi infinita de imágenes diferentes. Los ejemplos que quedan en esta sección abarcan varios casos de usos diferentes procedentes de las experiencias recogidas de los usuarios de sistemas en vivo.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#887" class="lnkocn">887</a></label>
  <p class="bold" id="887"><a name="887"></a> <a id="hc18.5"></a>
    <a name="c18.5" ></a><a name="h18.5" ></a>18.5 Un cliente VNC kiosk
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#888" class="lnkocn">888</a></label>
  <p class="i0" id="888">
    <b>Caso Práctico:</b> Crear una imagen con <i>live-build</i> para que se conecte directamente a un servidor VNC al arrancar.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#889" class="lnkocn">889</a></label>
  <p class="i0" id="889">
    Crear un directorio de construcción y lanzar una configuración de esqueleto en su interior, desactivando «recommends» para conseguir un sistema mínimo. Y a continuación, crear dos listas iniciales de paquetes: La primera generada con un script proporcionado por <i>live-build</i> llamado <tt>Packages</tt> (ver  <a href="customizing-package-installation.es.html#generated-package-lists">Generar listas de paquetes</a>),  y la segunda lista una que incluya <i>xorg</i>, <i>gdm3</i>, <i>metacity</i> y <i>xvnc4viewer</i>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#890" class="lnkocn">890</a></label>
  <p class="code" id="890">
    $ mkdir vnc-kiosk-client<br>
$ cd vnc-kiosk-client<br>
$ lb config -a i386 -k 686-pae --apt-recommends false<br>
$ echo '! Packages Priority standard' &gt; config/package-lists/standard.list.chroot<br>
$ echo "xorg gdm3 metacity xvnc4viewer" &gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#891" class="lnkocn">891</a></label>
  <p class="i0" id="891">
    Como se explica en  <a href="customizing-package-installation.es.html#tweaking-apt-to-save-space">Ajuste de APT para ahorrar espacio</a>  puede ser necesario volver a agregar algunos paquetes recomendados para que la imagen funcione correctamente.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#892" class="lnkocn">892</a></label>
  <p class="i0" id="892">
    Una manera fácil de conocer todos los «recommends» es utilizar <i>apt-cache</i>. Por ejemplo:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#893" class="lnkocn">893</a></label>
  <p class="code" id="893">
    $ apt-cache depends live-config live-boot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#894" class="lnkocn">894</a></label>
  <p class="i0" id="894">
    En este ejemplo, descubrimos que teníamos que volver a incluir varios paquetes recomendados por <i>live-config</i> y <i>live-boot</i>: <tt>user-setup</tt> para hacer funcionar el inicio automático de sesión y <tt>sudo</tt> programa esencial para apagar el sistema. Además, podría ser útil añadir <tt>live-tools</tt> para poder copiar la imagen en la memoria RAM y <tt>eject</tt> para finalmente poder expulsar el medio en vivo. Por eso:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#895" class="lnkocn">895</a></label>
  <p class="code" id="895">
    $ echo "live-tools user-setup sudo eject" &gt; config/package-lists/recommends.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#896" class="lnkocn">896</a></label>
  <p class="i0" id="896">
    Después, crear el directorio <tt>/etc/skel</tt> en <tt>config/includes.chroot</tt> y poner dentro un fichero <tt>.xsession</tt> personalizado para el usuario que por defecto ejecutará <i>metacity</i> e iniciará el <i>xvncviewer</i>, conectándo al puerto <tt>5901</tt> de un servidor en <tt>192.168.1.2</tt>:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#897" class="lnkocn">897</a></label>
  <p class="code" id="897">
    $ mkdir -p config/includes.chroot/etc/skel<br>
$ cat &gt; config/includes.chroot/etc/skel/.xsession &lt;&lt; EOF<br>
#!/bin/sh<br><br>
/usr/bin/metacity &amp;<br>
/usr/bin/xvncviewer 192.168.1.2:1<br><br>
exit<br>
EOF<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#898" class="lnkocn">898</a></label>
  <p class="i0" id="898">
    Crear la imagen:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#899" class="lnkocn">899</a></label>
  <p class="code" id="899">
    # lb build<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#900" class="lnkocn">900</a></label>
  <p class="i0" id="900">
    Disfrutarlo.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#901" class="lnkocn">901</a></label>
  <p class="bold" id="901"><a name="901"></a> <a id="hc18.6"></a>
    <a name="c18.6" ></a><a name="h18.6" ></a>18.6 Una imagen básica para un pendrive USB de 128MB
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#902" class="lnkocn">902</a></label>
  <p class="i0" id="902">
    <b>Caso Práctico:</b> Crear una imagen quitando algunos componentes para que quepa en un pendrive USB de 128MB dejándo un poco de espacio libre para poder usarlo para lo que se quiera.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#903" class="lnkocn">903</a></label>
  <p class="i0" id="903">
    Al optimizar una imagen para adaptarla al tamaño de algunos medios de almacenamiento, es necesario comprender el equilibrio que se está haciendo entre tamaño y funcionalidad. En este ejemplo, se recorta tanto sólo para dar cabida a material adicional dentro de un tamaño de 128MB, pero sin hacer nada para destruir la integridad de los paquetes que contiene, tales como la depuración de las variantes locales a través del paquete <i>localepurge</i> u otro tipo de optimizaciones «intrusivas». Cabe destacar que se utiliza <tt>--debootstrap-options</tt> para crear un sistema mínimo desde el principio.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#904" class="lnkocn">904</a></label>
  <p class="code" id="904">
    $ lb config --apt-indices false --apt-recommends false --debootstrap-options "--variant=minbase" --firmware-chroot false --memtest none<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#905" class="lnkocn">905</a></label>
  <p class="i0" id="905">
    Para hacer que la imagen funcione correctamente, tenemos que volver a añadir, al menos, dos paquetes recomendados, que son excluidos por la opción <tt>--apt-recommends false</tt>. Ver  <a href="customizing-package-installation.es.html#tweaking-apt-to-save-space">Ajuste de APT para ahorrar espacio</a>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#906" class="lnkocn">906</a></label>
  <p class="code" id="906">
    $ echo "user-setup sudo" &gt; config/package-lists/recommends.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#907" class="lnkocn">907</a></label>
  <p class="i0" id="907">
    Ahora, crear la imagen de forma habitual:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#908" class="lnkocn">908</a></label>
  <p class="code" id="908">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#909" class="lnkocn">909</a></label>
  <p class="i0" id="909">
    En el sistema del autor, en el momento de escribir esto, la configuración anterior produjo una imagen de 110MB. Esto se compara favorablemente en tamaño con la imagen de 192MB producida por la configuración por defecto en el  <a href="examples.es.html#tutorial-1">Tutorial 1</a>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#910" class="lnkocn">910</a></label>
  <p class="i0" id="910">
    Dejar fuera los índices de APT con <tt>--apt-indices false</tt> ahorra una cantidad importante de espacio, la desventaja es que será necesario hacer un <tt>apt-get update</tt> antes de usar apt en el sistema en vivo. Excluyendo los paquetes recomendados con <tt>--apt-recommends false</tt> se ahorra un poco de espacio adicional a costa de omitir algunos paquetes que de otro modo podría esperarse que estuvieran alli. <tt>--debootstrap-options "--variant=minbase"</tt> preinstala un sistema mínimo desde el principio. El hecho de no incluir automáticamente paquetes de firmware con <tt>--firmware-chroot false</tt> también ahorra un poco de espacio. Y por último, <tt>--memtest none</tt> evita la instalación de un comprobador de memoria.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#911" class="lnkocn">911</a></label>
  <p class="i0" id="911">
    <b>Nota:</b> También se puede conseguir un sistema mínimo utilizando scripts gancho como por ejemplo el script <tt>stripped.hook.chroot</tt> que se encuentra en <tt>/usr/share/doc/live-build/examples/hooks</tt>, que puede reducir aún más el tamaño de la imagen hasta 91MB. Sin embargo, el script elimina documentación y otros ficheros de los paquetes instalados en el sistema. Esto viola la integridad de los paquetes y como se comenta en el encabezado del script, puede tener consecuencias imprevistas. Es por eso por lo que el uso de <i>debootstrap</i> es el método recomendado para conseguir este objetivo.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#912" class="lnkocn">912</a></label>
  <p class="bold" id="912"><a name="912"></a> <a id="hc18.7"></a>
    <a name="c18.7" ></a><a name="h18.7" ></a>18.7 Un escritorio GNOME con variante local e instalador
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#913" class="lnkocn">913</a></label>
  <p class="i0" id="913">
    <b>Caso práctico:</b> Crear una imagen que contenga el escritorio gráfico GNOME, la variante local Suiza y un instalador.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#914" class="lnkocn">914</a></label>
  <p class="i0" id="914">
    Se desea crear una imagen iso-hybrid para la arquitectura i386 con un escritorio preferido, en este caso el GNOME, que contiene todos los mismos paquetes que serían instalados por el programa de instalación estándar de Debian para GNOME.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#915" class="lnkocn">915</a></label>
  <p class="i0" id="915">
    El primer problema es descubrir los nombres de las tareas adecuadas. En la actualidad, <i>live-build</i> no puede ayudar en esto. Aunque podríamos tener suerte y encontrarlos a base de pruebas, hay una herramienta, <tt>grep-dctrl</tt>, para extraerlos de las descripciones de tareas en tasksel-data, para proceder, asegurarse de tener ambas cosas:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#916" class="lnkocn">916</a></label>
  <p class="code" id="916">
    &nbsp;&nbsp;# apt-get install dctrl-tools tasksel-data<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#917" class="lnkocn">917</a></label>
  <p class="i0" id="917">
    Ahora podemos buscar las tareas apropiadas, primero con:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#918" class="lnkocn">918</a></label>
  <p class="code" id="918">
    $ grep-dctrl -FTest-lang de /usr/share/tasksel/descs/debian-tasks.desc -sTask<br>
Task: german<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#919" class="lnkocn">919</a></label>
  <p class="i0" id="919">
    Con este comando, se descubre que la tarea se llama, sencillamente, german. Ahora, para encontrar las tareas relacionas:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#920" class="lnkocn">920</a></label>
  <p class="code" id="920">
    $ grep-dctrl -FEnhances german /usr/share/tasksel/descs/debian-tasks.desc -sTask<br>
Task: german-desktop<br>
Task: german-kde-desktop<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#921" class="lnkocn">921</a></label>
  <p class="i0" id="921">
    En el momento del arranque se va a generar la variante local <b>de_CH.UTF-8</b> y seleccionar la distribución del teclado <b>ch</b>. Ahora vamos a poner las piezas juntas. Recordando de  <a href="customizing-package-installation.es.html#using-metapackages">Utilizar metapaquetes</a>  que los metapaquetes tienen el prefijo <tt>task-</tt>, especificamos estos parámetros del lenguaje en el arranque y a continuación añadimos los paquetes de prioridad estándar y los metapaquetes que hemos descubierto a la lista de paquetes de la siguiente manera:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#922" class="lnkocn">922</a></label>
  <p class="code" id="922">
    $ mkdir live-gnome-ch<br>
$ cd live-gnome-ch<br>
$ lb config \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-a i386 \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--bootappend-live "boot=live components locales=de_CH.UTF-8 keyboard-layouts=ch" \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--debian-installer live<br>
$ echo '! Packages Priority standard' &gt; config/package-lists/standard.list.chroot<br>
$ echo task-gnome-desktop task-german task-german-desktop &gt;&gt; config/package-lists/desktop.list.chroot<br>
$ echo debian-installer-launcher &gt;&gt; config/package-lists/installer.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#923" class="lnkocn">923</a></label>
  <p class="i0" id="923">
    Tener en cuenta que se ha incluido el paquete <i>debian-installer-launcher</i> para lanzar el instalador desde el escritorio en vivo. El kernel <tt>586</tt>, necesario para que el lanzador funcione correctamente, se incluye por defecto.
  </p>
</div></div><br><div class="main_column">
  <table summary="segment navigation band" bgcolor="#ffffff" width="100%"><tr>
  <td width="70%" align="center">
    
<table summary="segment navigation available documents types: toc,doc,pdf,concordance" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  
  
</tr></table>
  </td>
  <td width="5%" align="right">
    <table summary="segment navigation pre/next" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  <a href="git-repositories.es.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_prev_red.png" alt="&lt;&lt;&nbsp;previous" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="toc.es.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_up_red.png" alt="toc" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="style-guide.es.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_next_red.png" alt="next&nbsp;&gt;&gt;" />
  </a>
</td>
<td>
</td></tr>
</table>
  </td></tr>
  </table>
  
</div><div class="main_column">

<a name="bottom" id="bottom"></a>
<a name="end" id="end"></a>
</div></div></body>
</html>