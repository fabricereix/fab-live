<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>
    examples -
    Manual de Live Systems
  </title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name="dc.title" content="Manual de Live Systems" />
  <meta name="dc.author" content="Projecte Live Systems &#60;debian-live@lists.debian.org&#62;" />
  <meta name="dc.publisher" content="Projecte Live Systems &#60;debian-live@lists.debian.org&#62;" />
  <meta name="dc.date" content="22.09.2015"  />
  <meta name="dc.rights" content="Copyright: Copyright (C) 2006-2015 Live Systems Project \\ License: Aquest programa &#233;s un programari lliure: es pot redistribuir i/o modificar sota els termes de la Llic&#232;ncia P&#251;blica General de la GNU com &#233;s publicada per la Free Software Foundation, ja sigui la versi&#243; 3 de la Llic&#232;ncia, o (si ho preferiu) qualsevol versi&#243; posterior. \\  \\ Aquest programa es distribueix amb l'esperan&#231;a que sigui &#251;til, per&#242; sense cap garantia, fins i tot sense la garantia impl&#237;cita de COMERCIALITZACI&#211; o ADEQUACI&#211; PER A PROP&#210;SITS DETERMINATS. Vegeu la Llic&#232;ncia General P&#251;blica de la GNU per a m&#233;s detalls. \\  \\ Haurieu de rebre una c&#242;pia de la Llic&#232;ncia P&#251;blica General de la GNU amb aquest programa. Si no &#233;s aix&#237;, consulteu http://www.gnu.org/licenses/. \\  \\ El text complet de la Llic&#232;ncia P&#251;blica General de la GNU es pot trobar a /usr/share/common-licenses/GPL-3." />

  <meta name="generator" content="SiSU 7.1.8 of 2016w08/5 (2016-02-26) (n*x and Ruby!)" />
    <link rel="generator" href="http://www.sisudoc.org/" />
  <link rel="shortcut icon" href="../_sisu/image/rb7.ico" />

  <link href="../../_sisu/css/html.css" rel="stylesheet">
</head>
<body lang="ca">
<a name="top" id="top"></a><table summary="segment navigation band with banner" bgcolor="#ffffff" width="100%"><tr>
<td width="20%" align="left">
 <table summary="home button / home information" border="0" cellpadding="3" cellspacing="0">
 <tr><td align="left" bgcolor="#ffffff">
  <p class="tiny_left"><a href="http://debian-live.alioth.debian.org/manual" target="_top">
    Live manual
  </a></p>
  <p class="tiny_left"><a href="http://debian-live.alioth.debian.org" target="_top">
    Live Systems
  </a></p>
 </td></tr>
 </table>
</td>
<td width="75%" align="center">
  
<table summary="segment navigation available documents types: toc,doc,pdf,concordance" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  
  
</tr></table>
</td>
<td width="5%" align="right">
  <table summary="segment navigation pre/next" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  <a href="git-repositories.ca.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_prev_red.png" alt="&lt;&lt;&nbsp;previous" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="toc.ca.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_up_red.png" alt="toc" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="style-guide.ca.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_next_red.png" alt="next&nbsp;&gt;&gt;" />
  </a>
</td>
<td>
</td></tr>
</table>
</td></tr>
</table><div class="toc"><h1 class="minitoc">
    Manual de Live Systems
  </h1>

<h1 class="minitoc">
    Sobre aquest manual
  </h1>

<h1 class="minitoc">
    Sobre aquest manual
  </h1>

<h4 class="minitoc">
      <a href="about-manual.ca.html" target="_top">
    1. Sobre aquest manual
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="about-manual.ca.html#8">
    1.1 Per als impacients
  </a>
  </h5>

<h5 class="minitoc">
      <a href="about-manual.ca.html#12">
    1.2 Termes
  </a>
  </h5>

<h5 class="minitoc">
      <a href="about-manual.ca.html#29">
    1.3 Autors
  </a>
  </h5>

<h5 class="minitoc">
      <a href="about-manual.ca.html#44">
    1.4 Contribuir a aquest document
  </a>
  </h5>

<h6 class="minitoc">
      <a href="about-manual.ca.html#46">
  1.4.1 Aplicar canvis
</a>
  </h6>

<h6 class="minitoc">
      <a href="about-manual.ca.html#60">
  1.4.2 Traducció
</a>
  </h6>

<h1 class="minitoc">
    Sobre el Live Systems Project
  </h1>

<h4 class="minitoc">
      <a href="about-project.ca.html" target="_top">
    2. Sobre el Live Systems Project
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="about-project.ca.html#75">
    2.1 Motivació
  </a>
  </h5>

<h6 class="minitoc">
      <a href="about-project.ca.html#76">
  2.1.1 Què passa amb els sistemes vius actuals
</a>
  </h6>

<h6 class="minitoc">
      <a href="about-project.ca.html#86">
  2.1.2 Per què crear el nostre pròpi sistema viu?
</a>
  </h6>

<h5 class="minitoc">
      <a href="about-project.ca.html#94">
    2.2 Filosofia
  </a>
  </h5>

<h6 class="minitoc">
      <a href="about-project.ca.html#95">
  2.2.1 Només paquets Debian sense modificacions de la secció "main"
</a>
  </h6>

<h6 class="minitoc">
      <a href="about-project.ca.html#99">
  2.2.2 Paquets del sistema viu sense cap configuració
</a>
  </h6>

<h5 class="minitoc">
      <a href="about-project.ca.html#103">
    2.3 Contacte
  </a>
  </h5>

<h1 class="minitoc">
    Usuari
  </h1>

<h1 class="minitoc">
    Instal·lació
  </h1>

<h4 class="minitoc">
      <a href="installation.ca.html" target="_top">
    3. Instal·lació
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="installation.ca.html#110">
    3.1 Requisits
  </a>
  </h5>

<h5 class="minitoc">
      <a href="installation.ca.html#118">
    3.2 Instal·lació de live-build
  </a>
  </h5>

<h6 class="minitoc">
      <a href="installation.ca.html#124">
  3.2.1 Des del repositori de Debian
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.ca.html#127">
  3.2.2 A partir del codi font
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.ca.html#138">
  3.2.3 A partir d'instantànies
</a>
  </h6>

<h5 class="minitoc">
      <a href="installation.ca.html#140">
    3.3 Instal.lació de live-boot i live-config
  </a>
  </h5>

<h6 class="minitoc">
      <a href="installation.ca.html#142">
  3.3.1 Des del repositori de Debian
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.ca.html#144">
  3.3.2 A partir del codi font
</a>
  </h6>

<h6 class="minitoc">
      <a href="installation.ca.html#156">
  3.3.3 A partir d'instantànies
</a>
  </h6>

<h1 class="minitoc">
    Conceptes bàsics
  </h1>

<h4 class="minitoc">
      <a href="the-basics.ca.html" target="_top">
    4. Conceptes bàsics
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="the-basics.ca.html#163">
    4.1 Què és un sistema viu?
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.ca.html#171">
    4.2 Descàrrega d'imatges prefabricades
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.ca.html#173">
    4.3 Ús del servei de construcció d'imatges en viu web
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.ca.html#175">
  4.3.1 Ús i advertències sobre el servei web
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.ca.html#179">
    4.4 Primers passos: construcció d'una imatge ISO híbrida
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.ca.html#190">
    4.5 Usar una imatge ISO híbrida en viu
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.ca.html#192">
  4.5.1 Gravar una imatge ISO en un medi físic
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ca.html#195">
  4.5.2 Copiar una imatge ISO híbrida en un dispositiu  USB
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ca.html#200">
  4.5.3 Utilitzar l'espai lliure en una memòria USB
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ca.html#207">
  4.5.4 Arrencar el medi en viu
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.ca.html#211">
    4.6 Utilitzar una màquina virtual per a fer proves
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.ca.html#218">
  4.6.1 Provar una imatge ISO amb QEMU
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ca.html#225">
  4.6.2 Provar una imatge ISO amb VirtualBox
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.ca.html#233">
    4.7 Construir i utilitzar una imatge HDD
  </a>
  </h5>

<h5 class="minitoc">
      <a href="the-basics.ca.html#245">
    4.8 Construir una imatge netboot
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.ca.html#258">
  4.8.1 Servidor DHCP
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ca.html#262">
  4.8.2 Servidor TFTP
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ca.html#267">
  4.8.3 Servidor NFS
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ca.html#275">
  4.8.4 Com provar l'arrencada en xarxa
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ca.html#278">
  4.8.5 Qemu
</a>
  </h6>

<h5 class="minitoc">
      <a href="the-basics.ca.html#284">
    4.9 Webbooting
  </a>
  </h5>

<h6 class="minitoc">
      <a href="the-basics.ca.html#286">
  4.9.1 Obtenir els fitxers webboot
</a>
  </h6>

<h6 class="minitoc">
      <a href="the-basics.ca.html#292">
  4.9.2 Arrencar imatges webboot
</a>
  </h6>

<h1 class="minitoc">
    Descripció general de les eines
  </h1>

<h4 class="minitoc">
      <a href="overview-of-tools.ca.html" target="_top">
    5. Descripció general de les eines
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="overview-of-tools.ca.html#300">
    5.1 El paquet live-build
  </a>
  </h5>

<h6 class="minitoc">
      <a href="overview-of-tools.ca.html#310">
  5.1.1 L'ordre <tt>lb config</tt>
</a>
  </h6>

<h6 class="minitoc">
      <a href="overview-of-tools.ca.html#320">
  5.1.2 L'ordre <tt>lb build</tt>
</a>
  </h6>

<h6 class="minitoc">
      <a href="overview-of-tools.ca.html#322">
  5.1.3 L'ordre <tt>lb clean</tt>
</a>
  </h6>

<h5 class="minitoc">
      <a href="overview-of-tools.ca.html#324">
    5.2 El paquet live-boot
  </a>
  </h5>

<h5 class="minitoc">
      <a href="overview-of-tools.ca.html#328">
    5.3 El paquet live-config
  </a>
  </h5>

<h1 class="minitoc">
    Gestió d'una configuració
  </h1>

<h4 class="minitoc">
      <a href="managing-a-configuration.ca.html" target="_top">
    6. Gestió d'una configuració
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="managing-a-configuration.ca.html#333">
    6.1 Gestionar canvis en la configuració
  </a>
  </h5>

<h6 class="minitoc">
      <a href="managing-a-configuration.ca.html#335">
  6.1.1 Per què utilitzar scripts auto? Què fan?
</a>
  </h6>

<h6 class="minitoc">
      <a href="managing-a-configuration.ca.html#338">
  6.1.2 Utilitzar scripts auto d'exemple
</a>
  </h6>

<h5 class="minitoc">
      <a href="managing-a-configuration.ca.html#345">
    6.2 Clonar una configuració publicada via Git
  </a>
  </h5>

<h1 class="minitoc">
    Personalització dels continguts
  </h1>

<h4 class="minitoc">
      <a href="customization-overview.ca.html" target="_top">
    7. Visió general de la personalització
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customization-overview.ca.html#359">
    7.1 Configuració durant la construcció vs. durant l'arrencada
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customization-overview.ca.html#362">
    7.2 Etapes de la construcció
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customization-overview.ca.html#365">
    7.3 Suplementar lb config amb fitxers
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customization-overview.ca.html#367">
    7.4 Tasques de personalització
  </a>
  </h5>

<h1 class="minitoc">
    Personalització de la instal·lació de paquets
  </h1>

<h4 class="minitoc">
      <a href="customizing-package-installation.ca.html" target="_top">
    8. Personalització de la instal·lació de  paquets
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-package-installation.ca.html#372">
    8.1 Fonts dels paquets
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#373">
  8.1.1 Distribució, àrees d'arxiu i mode
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#380">
  8.1.2 Miralls de distribució
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#382">
  8.1.3 Miralls de distribució utilitzats en temps  de construcció
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#386">
  8.1.4 Miralls de distribució utilitzats en temps d'execució
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#389">
  8.1.5 Repositoris addicionals
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-package-installation.ca.html#397">
    8.2 Selecció dels paquets a instal·lar
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#399">
  8.2.1 Llistes de paquets
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#402">
  8.2.2 Ús dels metapaquets
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#410">
  8.2.3 Llistes locals de paquets
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#414">
  8.2.4 Llistes locals de paquets per a l'etapa binary
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#416">
  8.2.5 Generar llistes de paquets
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#420">
  8.2.6 Ús de condicionals dins de les llistes de paquets
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#429">
  8.2.7 Eliminar paquets durant la instal·lació
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#431">
  8.2.8 Tasques d'escriptori i llenguatge
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#436">
  8.2.9 Tipus i versió del nucli
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#441">
  8.2.10 Nuclis personalitzats
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-package-installation.ca.html#449">
    8.3 Instal·lació de paquets  modificats o de tercers
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#456">
  8.3.1 Fer servir <tt>packages.chroot</tt> per a instaŀar paquets personalitzats
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#463">
  8.3.2 Fer servir un repositori APT per a instal·lar paquets personalitzats
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#466">
  8.3.3 Paquets personalitzats i APT
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-package-installation.ca.html#469">
    8.4 Configurar APT en temps de construcció
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#471">
  8.4.1 Elegir apt o aptitude
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#475">
  8.4.2 L'ús d'un proxy amb APT
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#478">
  8.4.3 Afinar APT per a estalviar espai
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#487">
  8.4.4 Passar opcions per a apt o aptitude
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-package-installation.ca.html#492">
  8.4.5 APT pinning
</a>
  </h6>

<h1 class="minitoc">
    Personalització dels continguts
  </h1>

<h4 class="minitoc">
      <a href="customizing-contents.ca.html" target="_top">
    9. Personalització dels continguts
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-contents.ca.html#501">
    9.1 Includes
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-contents.ca.html#506">
  9.1.1 Live/chroot local includes
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-contents.ca.html#513">
  9.1.2 Binary local includes
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-contents.ca.html#517">
    9.2 Scripts ganxo (Hooks)
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-contents.ca.html#520">
  9.2.1 Chroot local hooks
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-contents.ca.html#522">
  9.2.2 Binary local hooks
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-contents.ca.html#524">
  9.2.3 Scripts ganxo en temps d'arrencada
</a>
  </h6>

<h5 class="minitoc">
      <a href="customizing-contents.ca.html#526">
    9.3 Preconfiguració de les preguntes de Debconf
  </a>
  </h5>

<h1 class="minitoc">
    Personalització dels comportaments en temps d'execució
  </h1>

<h4 class="minitoc">
      <a href="customizing-run-time-behaviours.ca.html" target="_top">
    10. Personalització dels comportaments en  temps d'execució
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-run-time-behaviours.ca.html#532">
    10.1 Personalitzar l'usuari en viu
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-run-time-behaviours.ca.html#541">
    10.2 Personalització de l'entorn local i el  llenguatge
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-run-time-behaviours.ca.html#558">
    10.3 Persistència
  </a>
  </h5>

<h6 class="minitoc">
      <a href="customizing-run-time-behaviours.ca.html#580">
  10.3.1 El fitxer persistence.conf
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-run-time-behaviours.ca.html#585">
  10.3.2 Utilitzar diversos medis persistents
</a>
  </h6>

<h6 class="minitoc">
      <a href="customizing-run-time-behaviours.ca.html#591">
  10.3.3 Persistència amb xifratge
</a>
  </h6>

<h1 class="minitoc">
    Personalització de la imatge binària
  </h1>

<h4 class="minitoc">
      <a href="customizing-binary.ca.html" target="_top">
    11. Personalització de la imatge binària
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-binary.ca.html#619">
    11.1 Carregadors d'arrencada
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-binary.ca.html#626">
    11.2 metadades ISO
  </a>
  </h5>

<h1 class="minitoc">
    Personalització de l'instal·lador de debian
  </h1>

<h4 class="minitoc">
      <a href="customizing-installer.ca.html" target="_top">
    12. Personalització de l'instal·lador de debian
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="customizing-installer.ca.html#636">
    12.1 Tipus d'instal·lador de Debian
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-installer.ca.html#648">
    12.2 Personalització de l'instal·lador de Debian amb preconfiguració
  </a>
  </h5>

<h5 class="minitoc">
      <a href="customizing-installer.ca.html#651">
    12.3 Personalitzar el contingut de l'instal·lador de Debian
  </a>
  </h5>

<h1 class="minitoc">
    Projecte
  </h1>

<h1 class="minitoc">
    Contribuir al projecte
  </h1>

<h4 class="minitoc">
      <a href="contributing-to-project.ca.html" target="_top">
    13. Contribuir al projecte
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="contributing-to-project.ca.html#667">
    13.1 Fer canvis
  </a>
  </h5>

<h5 class="minitoc">
      <a href="contributing-to-project.ca.html#682">
    13.2 Traducció de pàgines dels manuals
  </a>
  </h5>

<h1 class="minitoc">
    Informar dels errors
  </h1>

<h4 class="minitoc">
      <a href="bugs.ca.html" target="_top">
    14. Informar dels errors
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="bugs.ca.html#698">
    14.1 Problemes coneguts
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ca.html#703">
    14.2 Reconstruir des de zero
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ca.html#705">
    14.3 Fer servir paquets actualitzats
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ca.html#707">
    14.4 Recopilar informació
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ca.html#724">
    14.5 Aïllar el cas que falla, si és possible
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ca.html#726">
    14.6 Utilitzar el paquet correcte per a informar de l'error
  </a>
  </h5>

<h6 class="minitoc">
      <a href="bugs.ca.html#729">
  14.6.1 A l'hora de construir mentre bootstrapping
</a>
  </h6>

<h6 class="minitoc">
      <a href="bugs.ca.html#732">
  14.6.2 A l'hora de construir, durant la instal·lació de paquets
</a>
  </h6>

<h6 class="minitoc">
      <a href="bugs.ca.html#736">
  14.6.3 En el moment d'arrencar
</a>
  </h6>

<h6 class="minitoc">
      <a href="bugs.ca.html#738">
  14.6.4 En temps d'execució
</a>
  </h6>

<h5 class="minitoc">
      <a href="bugs.ca.html#740">
    14.7 Fer la recerca
  </a>
  </h5>

<h5 class="minitoc">
      <a href="bugs.ca.html#744">
    14.8 On informar dels errors
  </a>
  </h5>

<h1 class="minitoc">
    Estil de Codi
  </h1>

<h4 class="minitoc">
      <a href="coding-style.ca.html" target="_top">
    15. Estil de Codi
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="coding-style.ca.html#751">
    15.1 Compatibilitat
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.ca.html#756">
    15.2 Indentació
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.ca.html#758">
    15.3 Ajust de línia
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.ca.html#770">
    15.4 Variables
  </a>
  </h5>

<h5 class="minitoc">
      <a href="coding-style.ca.html#789">
    15.5 Miscel·lània
  </a>
  </h5>

<h1 class="minitoc">
    Procediments
  </h1>

<h4 class="minitoc">
      <a href="procedures.ca.html" target="_top">
    16. Procediments
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="procedures.ca.html#797">
    16.1 Publicacions majors
  </a>
  </h5>

<h5 class="minitoc">
      <a href="procedures.ca.html#803">
    16.2 Publicacions puntuals
  </a>
  </h5>

<h6 class="minitoc">
      <a href="procedures.ca.html#807">
  16.2.1 Ùltima publicació puntual d'una versió de Debian
</a>
  </h6>

<h6 class="minitoc">
      <a href="procedures.ca.html#809">
  16.2.2 Plantilla per a anunciar una publicació puntual
</a>
  </h6>

<h1 class="minitoc">
    Repositoris Git
  </h1>

<h4 class="minitoc">
      <a href="git-repositories.ca.html" target="_top">
    17. Repositoris Git
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="git-repositories.ca.html#829">
    17.1 Gestió de múltiples repositoris
  </a>
  </h5>

<h1 class="minitoc">
    Exemples
  </h1>

<h1 class="minitoc">
    Exemples
  </h1>

<h4 class="minitoc">
      <a href="examples.ca.html" target="_top">
    18. Exemples
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="examples.ca.html#837">
    18.1 Ús dels exemples
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.ca.html#841">
    18.2 Tutorial 1: Una imatge per defecte
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.ca.html#850">
    18.3 Tutorial 2: Una utilitat de navegador web
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.ca.html#858">
    18.4 Tutorial 3: Una imatge personalitzada
  </a>
  </h5>

<h6 class="minitoc">
      <a href="examples.ca.html#861">
  18.4.1 Primera revisió
</a>
  </h6>

<h6 class="minitoc">
      <a href="examples.ca.html#875">
  18.4.2 Segona revisió
</a>
  </h6>

<h5 class="minitoc">
      <a href="examples.ca.html#887">
    18.5 Un client per a un quiosc VNC
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.ca.html#901">
    18.6 Una imatge bàsica per a un dispositiu USB de 128MB
  </a>
  </h5>

<h5 class="minitoc">
      <a href="examples.ca.html#912">
    18.7 Un escriptori GNOME localitzat i amb instal·lador
  </a>
  </h5>

<h1 class="minitoc">
    Apèndix
  </h1>

<h1 class="minitoc">
    Style guide
  </h1>

<h4 class="minitoc">
      <a href="style-guide.ca.html" target="_top">
    19. Guia d'estil
  </a> 
  </h4>

<h5 class="minitoc">
      <a href="style-guide.ca.html#927">
    19.1 Instruccions per als autors
  </a>
  </h5>

<h6 class="minitoc">
      <a href="style-guide.ca.html#930">
  19.1.1 Característiques lingüístiques
</a>
  </h6>

<h6 class="minitoc">
      <a href="style-guide.ca.html#963">
  19.1.2 Procediments
</a>
  </h6>

<h5 class="minitoc">
      <a href="style-guide.ca.html#1002">
    19.2 Directrius per als traductors
  </a>
  </h5>

<h6 class="minitoc">
      <a href="style-guide.ca.html#1006">
  19.2.1 Consells de traducció
</a>
  </h6>

<h1 class="minitoc">
    <b><a href="metadata.ca.html">Metadata</a></b>
  </h1>

<h4 class="minitoc">
      <a href="metadata.ca.html" target="_top">
    SiSU Metadata, document information
  </a> 
  </h4>
</div><div class="content">
<h1 class="tiny">
    Manual de Live Systems
  </h1>
</div><div class="content">
<h1 class="tiny">
    Exemples
  </h1>
</div><div class="content"><div class="substance">
  <label class="ocn"><a href="#835" class="lnkocn">835</a></label>
  <h1 class="norm" id="835"><a name="835"></a>
    18. Exemples
  </h1>
</div><div class="substance">
  <label class="ocn"><a href="#836" class="lnkocn">836</a></label>
  <p class="i0" id="836">
    En aquest capítol s'inclouen exemples de construccions per a casos d'ús específics amb sistemes en viu. Si s'és nou en la construcció d'imatges en viu pròpies, us suggerim mirar els tres tutorials en seqüència, ja que cada un ensenya noves tècniques que ajuden a utilitzar i entendre els exemples restants.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#837" class="lnkocn">837</a></label>
  <p class="bold" id="837"><a name="837"></a> <a id="husing-the-examples"></a>
    <a name="h18.1" ></a><a name="using-the-examples" ></a>18.1 Ús dels exemples
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#838" class="lnkocn">838</a></label>
  <p class="i0" id="838">
    per a utilitzar aquests exemples es necessita un sistema de construcció que compleixi les exigències enumerades a  <a href="installation.ca.html#requirements">Requisits</a>  y que tingui <i>live-build</i> instal·lat com es descriu a  <a href="installation.ca.html#installing-live-build">Instal·lació de live-build</a>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#839" class="lnkocn">839</a></label>
  <p class="i0" id="839">
    Cal notar que, per a abreujar, en aquests exemples no s'especifica un mirall local per a utilitzar en la construcció. Es poden accelerar les descàrregues considerablement si s'utilitza un mirall local. Es pot especificar les opcions quan s'utilitza <tt>lb config</tt>, com es descriu a  <a href="customizing-package-installation.ca.html#distribution-mirrors-build-time">Miralls de distribució utilitzats en temps de construcció</a>,  o per a major comoditat, establir el valor predeterminat per al sistema de construcció en el fitxer <tt>/etc/live/build.conf</tt>. Només cal crear aquest fitxer i establir a les variables al mirall preferit. Tots els altres miralls que s'utilitzin en la construcció adoptaran valors per defecte segons aquests valors. Per exemple:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#840" class="lnkocn">840</a></label>
  <p class="code" id="840">
    LB_MIRROR_BOOTSTRAP="http://mirror/debian/" <br>
LB_MIRROR_CHROOT_SECURITY="http://mirror/debian-security/" <br>
LB_MIRROR_CHROOT_BACKPORTS="http://mirror/debian-updates/"<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#841" class="lnkocn">841</a></label>
  <p class="bold" id="841"><a name="841"></a> <a id="htutorial-1"></a>
    <a name="h18.2" ></a><a name="tutorial-1" ></a>18.2 Tutorial 1: Una imatge per defecte
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#842" class="lnkocn">842</a></label>
  <p class="i0" id="842">
    <b>Cas d'ús:</b> Crear una primera imatge senzilla, aprenent els conceptes bàsics de <i>live-build</i>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#843" class="lnkocn">843</a></label>
  <p class="i0" id="843">
    En aquest tutorial, anem a construir una imatge ISO híbrida per defecte que contingui només els paquets de base (no té Xorg) i altres paquets de suport de sistema en viu, com un primer exercici en l'ús de <i>live-build</i>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#844" class="lnkocn">844</a></label>
  <p class="i0" id="844">
    No pot ser més senzill que això:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#845" class="lnkocn">845</a></label>
  <p class="code" id="845">
    $ mkdir tutorial1 ; cd tutorial1 ; lb config<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#846" class="lnkocn">846</a></label>
  <p class="i0" id="846">
    Examinar el contingut del directori <tt>config/</tt> si es vol. Es veurà emmagatzemada aquí una configuració en esquelet, a punt per a ser personalitzada o, en aquest cas, per a ser utilitzada immediatament per a construir una imatge per defecte.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#847" class="lnkocn">847</a></label>
  <p class="i0" id="847">
    Ara, com a superusuari, construir la imatge, guardant un log del que es construeix amb <tt>tee</tt>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#848" class="lnkocn">848</a></label>
  <p class="code" id="848">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#849" class="lnkocn">849</a></label>
  <p class="i0" id="849">
    Suposant que tot va bé, després d'una estona, el directori actual contindrà una <tt>live-image-i386.hybrid.iso</tt>. Aquesta imatge ISO híbrida es pot arrencar en una màquina virtual tal com s'explica a  <a href="the-basics.ca.html#testing-iso-with-qemu">Provar una imatge ISO amb Qemu</a>  i  <a href="the-basics.ca.html#testing-iso-with-virtualbox">Provar una imatge ISO amb VirtualBox</a>,  o bé copiada a un dispositiu USB com es descriu a  <a href="the-basics.ca.html#burning-iso-image">Gravar una imatge ISO en un medi físic</a>  i  <a href="the-basics.ca.html#copying-iso-hybrid-to-usb">Copiar una imatge ISO híbrida en un dispositiu USB</a>,  respectivament.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#850" class="lnkocn">850</a></label>
  <p class="bold" id="850"><a name="850"></a> <a id="htutorial-2"></a>
    <a name="h18.3" ></a><a name="tutorial-2" ></a>18.3 Tutorial 2: Una utilitat de navegador web
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#851" class="lnkocn">851</a></label>
  <p class="i0" id="851">
    <b>Cas d'ús:</b> Crear una imatge d'una utilitat de navegador web, aprenent a aplicar personalitzacions.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#852" class="lnkocn">852</a></label>
  <p class="i0" id="852">
    En aquest tutorial, anem a crear una imatge adequada per al seu ús com a una utilitat de navegador web, que serveix com introducció a la personalització de les imatges de sistemes en viu.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#853" class="lnkocn">853</a></label>
  <p class="code" id="853">
    $ mkdir tutorial2<br>
$ cd tutorial2<br>
$ lb config<br>
$ echo "task-lxde-desktop iceweasel" &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#854" class="lnkocn">854</a></label>
  <p class="i0" id="854">
    La nostra elecció de LXDE per a aquest exemple reflecteix el nostre desig d'oferir un entorn d'escriptori mínim, ja que l'objectiu de la imatge és l'únic ús que tenim al cap, el navegador web. Podríem anar encara més lluny i oferir una configuració per defecte per al navegador web a <tt>config/includes.chroot/etc/iceweasel/profile/</tt>, o paquets addicionals de suport per a la visualització de diversos tipus de contingut web, però deixem això com a un exercici per al lector.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#855" class="lnkocn">855</a></label>
  <p class="i0" id="855">
    Construir la imatge, de nou com a superusuari, guardant un log com al  <a href="examples.ca.html#tutorial-1">Tutorial 1</a>:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#856" class="lnkocn">856</a></label>
  <p class="code" id="856">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#857" class="lnkocn">857</a></label>
  <p class="i0" id="857">
    Un cop més, verificar que la imatge està bé i provar-la, com al  <a href="examples.ca.html#tutorial-1">Tutorial 1</a>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#858" class="lnkocn">858</a></label>
  <p class="bold" id="858"><a name="858"></a> <a id="htutorial-3"></a>
    <a name="h18.4" ></a><a name="tutorial-3" ></a>18.4 Tutorial 3: Una imatge personalitzada
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#859" class="lnkocn">859</a></label>
  <p class="i0" id="859">
    <b>Cas d'ús:</b> Crear un projecte per a construir una imatge personalitzada, que contingui el programari favorit per a portar en una memòria USB allà on es vagi i que evolucionarà en revisions successives tal i com les necessitats i les preferències canvien.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#860" class="lnkocn">860</a></label>
  <p class="i0" id="860">
    Com la nostra imatge personalitzada canviarà durant un nombre de revisions i volem fer un seguiment d'aquests canvis, provar coses experimentals i possiblement revertir-les si les coses no surten bé, anem a mantenir la nostra configuració en el popular sistema de control de versions <tt>git</tt>. També utilitzarem les millors pràctiques de configuració automàtica mitjançant scripts <tt>auto</tt> com s'explica a  <a href="managing-a-configuration.ca.html#managing-a-configuration">Gestió d'una configuració</a>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#861" class="lnkocn">861</a></label>
  <p class="bold" id="861"><a name="861"></a> <a id="hc18.4.1"></a>
    <a name="c18.4.1" ></a><a name="h18.4.1" ></a>18.4.1 Primera revisió
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#862" class="lnkocn">862</a></label>
  <p class="code" id="862">
    $ mkdir -p tutorial3/auto<br>
$ cp /usr/share/doc/live-build/examples/auto/* tutorial3/auto/<br>
$ cd tutorial3<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#863" class="lnkocn">863</a></label>
  <p class="i0" id="863">
    Editar <tt>auto/config</tt> de la manera següent:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#864" class="lnkocn">864</a></label>
  <p class="code" id="864">
    #!/bin/sh<br><br>
lb config noauto \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--architectures i386 \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--linux-flavours 686-pae \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"${@}"<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#865" class="lnkocn">865</a></label>
  <p class="i0" id="865">
    Executar <tt>lb config</tt> per a crear l'arbre de configuració, utilitzant el script <tt>auto/config</tt> que s'acaba de crear:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#866" class="lnkocn">866</a></label>
  <p class="code" id="866">
    $ lb config<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#867" class="lnkocn">867</a></label>
  <p class="i0" id="867">
    Ara, omplir la llista local de paquets:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#868" class="lnkocn">868</a></label>
  <p class="code" id="868">
    $ echo "task-lxde-desktop iceweasel xchat" &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#869" class="lnkocn">869</a></label>
  <p class="i0" id="869">
    En primer lloc, amb <tt>--architectures i386</tt> s'assegura que al nostre sistema de construcció <tt>amd64</tt> podem construir una versió de 32 bits adequada per al seu ús en la majoria de màquines. En segon lloc, fem servir <tt>--linux-flavours 686-pae</tt> perquè no creiem que utilitzarem aquesta imatge en sistemes molt més vells. En tercer lloc, hem triat la tasca metapaquet <i>lxde</i> per a donar-nos un escriptori mínim. I, finalment, hem afegit dos paquets inicials favorits: <i>iceweasel</i> i <i>xchat</i>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#870" class="lnkocn">870</a></label>
  <p class="i0" id="870">
    Ara, construir la imatge:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#871" class="lnkocn">871</a></label>
  <p class="code" id="871">
    # lb build<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#872" class="lnkocn">872</a></label>
  <p class="i0" id="872">
    Tenir en compte que a diferència dels dos primers tutorials, ja no s'ha d'escriure <tt>2&gt;&amp;1 | tee build.log</tt> ja que ara s'inclou al script <tt>auto/build</tt>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#873" class="lnkocn">873</a></label>
  <p class="i0" id="873">
    Quan s'ha provat la imatge (com al  <a href="examples.ca.html#tutorial-1">Tutorial 1</a>)  i s'està satisfet del seu funcionament, és el moment d'iniciar el repositòri <tt>git</tt>, afegint només els scripts auto que s'han creat, i llavors fer el primer lliurament:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#874" class="lnkocn">874</a></label>
  <p class="code" id="874">
    $ git init<br>
$ cp /usr/share/doc/live-build/examples/gitignore .gitignore<br>
$ git add .<br>
$ git commit -m "Initial import."<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#875" class="lnkocn">875</a></label>
  <p class="bold" id="875"><a name="875"></a> <a id="hc18.4.2"></a>
    <a name="c18.4.2" ></a><a name="h18.4.2" ></a>18.4.2 Segona revisió
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#876" class="lnkocn">876</a></label>
  <p class="i0" id="876">
    En aquesta revisió, anem a netejar després de la primera construcció, afegir el paquet <i>vlc</i> a la nostra configuració, reconstruir, provar i fer el lliurament.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#877" class="lnkocn">877</a></label>
  <p class="i0" id="877">
    L'ordre <tt>lb clean</tt> netejarà tots els fitxers generats en la construcció anterior a excepció del cache, el que estalvia haver de tornar a descarregar els paquets. Això assegura que el <tt>lb build</tt> següent tornarà a executar totes les etapes per a regenerar els fitxers de la nostra nova configuració.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#878" class="lnkocn">878</a></label>
  <p class="code" id="878">
    # lb clean<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#879" class="lnkocn">879</a></label>
  <p class="i0" id="879">
    Ara afegim el paquet <i>vlc</i> al llistat de paquets local a <tt>config/package-lists/my.list.chroot</tt>:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#880" class="lnkocn">880</a></label>
  <p class="code" id="880">
    $ echo vlc &gt;&gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#881" class="lnkocn">881</a></label>
  <p class="i0" id="881">
    Construir de nou:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#882" class="lnkocn">882</a></label>
  <p class="code" id="882">
    # lb build<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#883" class="lnkocn">883</a></label>
  <p class="i0" id="883">
    Provar, i quan s'estigui satisfet, fer el lliurament de la propera revisió:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#884" class="lnkocn">884</a></label>
  <p class="code" id="884">
    $ git commit -a -m "Adding vlc media player."<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#885" class="lnkocn">885</a></label>
  <p class="i0" id="885">
    Per descomptat, es possible fer canvis més complicats en la configuració, potser afegint fitxers en els subdirectoris de <tt>config/</tt>. Quan es fa un lliurament de les noves revisions, s'ha de tenir cura de no editar a mà o incloure en el lliurament els fitxers de nivell superior de <tt>config</tt> que contenen variables <tt>LB_*</tt>, ja que són productes de construcció també, i sempre són netejats per <tt>lb clean</tt> i tornats a crear per <tt>lb config</tt> a través dels seus respectius scripts <tt>auto</tt>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#886" class="lnkocn">886</a></label>
  <p class="i0" id="886">
    Hem arribat al final de la nostra sèrie de tutorials. Molts més tipus de personalització són possibles, amb les poques característiques explorades en aquests senzills exemples, es poden crear una varietat gairebé infinita d'imatges diferents. Els exemples que queden d'aquesta secció tracten diferents casos d'ús extrets de les experiències recollides dels usuaris de sistemes en viu.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#887" class="lnkocn">887</a></label>
  <p class="bold" id="887"><a name="887"></a> <a id="hc18.5"></a>
    <a name="c18.5" ></a><a name="h18.5" ></a>18.5 Un client per a un quiosc VNC
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#888" class="lnkocn">888</a></label>
  <p class="i0" id="888">
    <b>Cas d'ús:</b> Crear una imatge amb <i>live-build</i> per a connectar-se directament a un servidor VNC al arrencar.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#889" class="lnkocn">889</a></label>
  <p class="i0" id="889">
    Fer un directori de treball i crear una configuració d'esquelet en el seu interior, desactivant els «recommends» per a fer un sistema mínim. I a continuació, crear dues llistes inicials de paquets: La primera generada per un script proporcionat per <i>live-build</i> anomenat <tt>Packages</tt> (veure  <a href="customizing-package-installation.ca.html#generated-package-lists">Generar llistes de paquets</a>),  i la segona incloent-hi <i>xorg</i>, <i>gdm3</i>, <i>metacity</i> i <i>xvnc4viewer</i>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#890" class="lnkocn">890</a></label>
  <p class="code" id="890">
    $ mkdir vnc-kiosk-client<br>
$ cd vnc-kiosk-client<br>
$ lb config -a i386 -k 686-pae --apt-recommends false<br>
$ echo '! Packages Priority standard' &gt; config/package-lists/standard.list.chroot<br>
$ echo "xorg gdm3 metacity xvnc4viewer" &gt; config/package-lists/my.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#891" class="lnkocn">891</a></label>
  <p class="i0" id="891">
    Com s'explica a  <a href="customizing-package-installation.ca.html#tweaking-apt-to-save-space">Afinar APT per a estalviar espai</a>  pot ser que s'hagi de tornar a afegir alguns paquets recomanats per a fer que la imatge funcioni correctament.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#892" class="lnkocn">892</a></label>
  <p class="i0" id="892">
    Una manera fàcil d'enumerar els recommends és utilitzar <i>apt-cache</i>. Per exemple:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#893" class="lnkocn">893</a></label>
  <p class="code" id="893">
    $ apt-cache depends live-config live-boot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#894" class="lnkocn">894</a></label>
  <p class="i0" id="894">
    En aquest exemple, ens vam assabentar que havíem de tornar a incloure diversos paquets recomanats per <i>live-config</i> i <i>live-boot</i>: <tt>user-setup</tt> perquè funcioni l'autologin i <tt>sudo</tt> com a programa essencial per a apagar el sistema. A més, podria ser útil afegir <tt>live-tools</tt> per a poder copiar la imatge en la memòria RAM i <tt>eject</tt> per a expulsar, finalment, el medi en viu. Per tant:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#895" class="lnkocn">895</a></label>
  <p class="code" id="895">
    $ echo "live-tools user-setup sudo eject" &gt; config/package-lists/recommends.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#896" class="lnkocn">896</a></label>
  <p class="i0" id="896">
    Després, crear el directori <tt>/etc/skel</tt> a <tt>config/includes.chroot</tt> i posar un fitxer <tt>.xsession</tt> personalitzat per a l'usuari per defecte que posarà en marxa <i>metacity</i> i iniciarà <i>xvncviewer</i>, connectant al port <tt>5901</tt> d'un servidor ubicat a <tt>192.168.1.2</tt>:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#897" class="lnkocn">897</a></label>
  <p class="code" id="897">
    $ mkdir -p config/includes.chroot/etc/skel<br>
$ cat &gt; config/includes.chroot/etc/skel/.xsession &lt;&lt; EOF<br>
#!/bin/sh<br><br>
/usr/bin/metacity &amp;<br>
/usr/bin/xvncviewer 192.168.1.2:1<br><br>
exit<br>
EOF<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#898" class="lnkocn">898</a></label>
  <p class="i0" id="898">
    Construir la imatge:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#899" class="lnkocn">899</a></label>
  <p class="code" id="899">
    # lb build<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#900" class="lnkocn">900</a></label>
  <p class="i0" id="900">
    Gaudir-ne.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#901" class="lnkocn">901</a></label>
  <p class="bold" id="901"><a name="901"></a> <a id="hc18.6"></a>
    <a name="c18.6" ></a><a name="h18.6" ></a>18.6 Una imatge bàsica per a un dispositiu USB de 128MB
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#902" class="lnkocn">902</a></label>
  <p class="i0" id="902">
    <b>Cas d'ús:</b> Crear una imatge per defecte amb alguns components eliminats per tal que càpiga en una clau USB de 128MB amb un petit espai de sobres per a utilitzar-lo com millor us sembli.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#903" class="lnkocn">903</a></label>
  <p class="i0" id="903">
    Al optimitzar una imatge per a adaptar-la a una mida determinada, cal comprendre la compensació que s'estan fent entre la mida i la funcionalitat. En aquest exemple, retallem tant només per a donar cabuda a material addicional dins d'una mida de 128MB, però sense fer res per a destruir la integritat dels paquets continguts, com la depuració de les dades de localització a través del paquet <i>localepurge</i> o altres optimitzacions "intrusives". De particular interès, utilitzem <tt>--debootstrap-options</tt> per a crear un sistema mínim des de zero.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#904" class="lnkocn">904</a></label>
  <p class="code" id="904">
    $ lb config --apt-indices false --apt-recommends false --debootstrap-options "--variant=minbase" --firmware-chroot false --memtest none<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#905" class="lnkocn">905</a></label>
  <p class="i0" id="905">
    Per a fer que la imatge funcioni correctament, hem de tornar a afegir, com a mínim, dos paquets recomanats, que es queden fora per l'opció <tt>--apt-recommends false</tt>. Veure  <a href="customizing-package-installation.ca.html#tweaking-apt-to-save-space">Afinar APT per a estalviar espai</a>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#906" class="lnkocn">906</a></label>
  <p class="code" id="906">
    $ echo "user-setup sudo" &gt; config/package-lists/recommends.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#907" class="lnkocn">907</a></label>
  <p class="i0" id="907">
    Ara, crear la imatge de la forma habitual:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#908" class="lnkocn">908</a></label>
  <p class="code" id="908">
    # lb build 2&gt;&amp;1 | tee build.log<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#909" class="lnkocn">909</a></label>
  <p class="i0" id="909">
    En el sistema de l'autor en el moment d'escriure això, la configuració anterior produeix una imatge de 110MB. Això es compara favorablement amb la imatge de 192MB produïda per la configuració per defecte del  <a href="examples.ca.html#tutorial-1">Tutorial 1</a>.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#910" class="lnkocn">910</a></label>
  <p class="i0" id="910">
    Deixar els índexs d'APT amb <tt>--apt-indices false</tt> permet estalviar una bona quantitat d'espai, el desavantatge és que es necessita fer <tt>apt-get update</tt> abans d'utilitzar apt en el sistema en viu. Deixar els paquets recomanats amb <tt>--apt-recommends false</tt> estalvia una mica d'espai addicional, a costa d'ometre alguns paquets que d'una altra manera es podria esperar que hi fossin. <tt>--debootstrap-options "--variant=minbase"</tt> preinstal·la un sistema mínim des del principi. Al no incloure automàticament paquets de firmware amb <tt>--firmware-chroot false</tt> també es guanya una mica d'espai. I finalment, <tt>--memtest none</tt> impedeix la instal·lació d'un comprovador de memòria.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#911" class="lnkocn">911</a></label>
  <p class="i0" id="911">
    <b>Nota:</b> Un sistema mínim es pot aconseguir també fent servir un script ganxo, com ara el <tt>stripped.hook.chroot</tt> de <tt>/usr/share/doc/live-build/examples/hooks</tt>. Es pot guanyar petites quantitats addicionals d'espai i produir una imatge de 91MB. No obstant, el script ganxo aconsegueix això eliminant documentació i altres fitxers dels paquets instal·lats al sistema. Això viola la integritat dels paquets i com és comenta a l'encapçalament del script, pot tenir conseqüències imprevistes. És per això que l'ús d'un <i>debootstrap</i> mínim és el mètode recomanat per a aconseguir aquest objectiu.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#912" class="lnkocn">912</a></label>
  <p class="bold" id="912"><a name="912"></a> <a id="hc18.7"></a>
    <a name="c18.7" ></a><a name="h18.7" ></a>18.7 Un escriptori GNOME localitzat i amb instal·lador
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#913" class="lnkocn">913</a></label>
  <p class="i0" id="913">
    <b>Cas d'ús:</b> Crear una imatge amb l'escriptori GNOME, localitzat per Suïssa i que inclogui un instal·lador.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#914" class="lnkocn">914</a></label>
  <p class="i0" id="914">
    Volem fer una imatge ISO híbrida per a l'arquitectura i386 fent servir el nostre escriptori preferit, en aquest cas GNOME, que conté tots els mateixos paquets que serien instal·lats per l'instal·lador estàndard de Debian per a GNOME.
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#915" class="lnkocn">915</a></label>
  <p class="i0" id="915">
    El nostre primer problema és descobrir els noms de les tasques del llenguatge apropiades. En l'actualitat, <i>live-build</i> no ens pot ajudar amb això. Tot i que es podria tenir sort i trobar-ho per assaig i error, hi ha una eina, <tt>grep-dctrl</tt>, per extreure les descripcions de les tasques de tasksel-data. Per a preparar-ho tot, assegurar-se de tenir totes dues coses:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#916" class="lnkocn">916</a></label>
  <p class="code" id="916">
    # apt-get install dctrl-tools tasksel-data<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#917" class="lnkocn">917</a></label>
  <p class="i0" id="917">
    Ara podem buscar les tasques apropiades, primer amb:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#918" class="lnkocn">918</a></label>
  <p class="code" id="918">
    $ grep-dctrl -FTest-lang de /usr/share/tasksel/descs/debian-tasks.desc -sTask<br>
Task: german<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#919" class="lnkocn">919</a></label>
  <p class="i0" id="919">
    Mitjançant aquesta ordre, es descobreix que la tasca s'anomena, amb suficient claredat, german. Ara, per a trobar les tasques relacionades:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#920" class="lnkocn">920</a></label>
  <p class="code" id="920">
    $ grep-dctrl -FEnhances german /usr/share/tasksel/descs/debian-tasks.desc -sTask<br>
Task: german-desktop<br>
Task: german-kde-desktop<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#921" class="lnkocn">921</a></label>
  <p class="i0" id="921">
    En el moment d'arrencar es generarà la variant regional <b>de_CH.UTF-8</b> i es seleccionarà la disposició del teclat <b>ch</b>. Ara posarem les peces juntes. Recordant de  <a href="customizing-package-installation.ca.html#using-metapackages">Ús dels metapaquets</a>  que els metapaquets tenen el prefix <tt>task-</tt>, simplement especificar aquests paràmetres del llenguatge a l'arrencada, i després afegir els paquets de prioritat estàndard i tots els metapaquets descoberts a la nostra llista de paquets de la següent manera:
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#922" class="lnkocn">922</a></label>
  <p class="code" id="922">
    $ mkdir live-gnome-ch<br>
$ cd live-gnome-ch<br>
$ lb config \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-a i386 \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--bootappend-live "boot=live components locales=de_CH.UTF-8 keyboard-layouts=ch" \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--debian-installer live<br>
$ echo '! Packages Priority standard' &gt; config/package-lists/standard.list.chroot<br>
$ echo task-gnome-desktop task-german task-german-desktop &gt;&gt; config/package-lists/desktop.list.chroot<br>
$ echo debian-installer-launcher &gt;&gt; config/package-lists/installer.list.chroot<br>
  </p>
</div><div class="substance">
  <label class="ocn"><a href="#923" class="lnkocn">923</a></label>
  <p class="i0" id="923">
    Tenir en compte que s'ha inclòs el paquet <i>debian-installer-launcher</i> per a llançar l'instal·lador des de l'escriptori en viu. El nucli <tt>586</tt>, que actualment és necessari perquè el llançador funcioni correctament, s'inclou per defecte.
  </p>
</div></div><br><div class="main_column">
  <table summary="segment navigation band" bgcolor="#ffffff" width="100%"><tr>
  <td width="70%" align="center">
    
<table summary="segment navigation available documents types: toc,doc,pdf,concordance" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  
  
</tr></table>
  </td>
  <td width="5%" align="right">
    <table summary="segment navigation pre/next" border="0" cellpadding="3" cellspacing="0">
<tr>
<td align="center" bgcolor="#ffffff">
  <a href="git-repositories.ca.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_prev_red.png" alt="&lt;&lt;&nbsp;previous" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="toc.ca.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_up_red.png" alt="toc" />
  </a>
</td>
<td align="center" bgcolor="#ffffff">
  <a href="style-guide.ca.html" target="_top">
    <img border="0" width="22" height="22" src="../../_sisu/image_sys/arrow_next_red.png" alt="next&nbsp;&gt;&gt;" />
  </a>
</td>
<td>
</td></tr>
</table>
  </td></tr>
  </table>
  
</div><div class="main_column">

<a name="bottom" id="bottom"></a>
<a name="end" id="end"></a>
</div></div></body>
</html>